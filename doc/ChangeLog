2006-01-08 20:52  aj

	* releases/opensc-0.10.1/configure.in: release as 0.10.1 without
	  changes.

2005-12-26 23:12  aj

	* releases/opensc-0.10.1/configure.in: new release candidate with
	  tcos fix by peter koch.

2005-12-26 18:58  aj

	* releases/opensc-0.10.1/src/libopensc/pkcs15-tcos.c,
	  releases/opensc-0.10.1/src/tools/netkey-tool.c: tcos update by
	  peter koch. adds compatibility with th darmstadt cards.

2005-12-23 11:57  aj

	* releases/opensc-0.10.1/etc/opensc.conf.in: add windows example
	  paths as well (patch by stef in trunk/0.10 branch).

2005-12-23 11:05  aj

	* releases/opensc-0.10.1/configure.in: create release candidate
	  for 0.10.1

2005-12-23 11:04  aj

	* releases/opensc-0.10.1: create copy of 0.10 branch for 0.10.1
	  release.

2005-12-23 10:54  sth

	* branches/opensc-0.10/src/pkcs11/pkcs11-global.c: Let a blocking
	  C_WaitForSlotEvent() return CKR_FUNCTION_NOT_SUPPORTED. This
	  isn't a solution for the multihread problems (see ticket #64)
	  but at least Firefox 1.5 seems to work now

2005-12-22 15:55  nils

	* branches/opensc-0.10/src/libopensc/card-flex.c: use correct apdu
	  case and set Le value

2005-12-17 21:17  nils

	* branches/opensc-0.10/src/pkcs15init/pkcs15-lib.c: fix key usage
	  flags and ensure that we are in the correct lifecycle

2005-12-16 20:52  nils

	* branches/opensc-0.10/src/tools/cardos-info.c: add cardos m4.2
	  and print the startkey version in hex

2005-12-14 11:00  aj

	* branches/opensc-0.10/src/tools/Makefile.am: pkcs15-tools needs
	  to be linkes with openssl_libs, too, if available. older gcc
	  versions found this bug, recent versions don't seem to care.

2005-12-12 20:37  nils

	* branches/opensc-0.10/src/libopensc/card-gpk.c,
	  branches/opensc-0.10/src/libopensc/card-starcos.c: fix APDU case

2005-12-05 22:21  aj

	* branches/opensc-0.10/src/scconf/scconf.c: remove unused variable
	  item in scconf_put_str. remove unused variable ret in
	  scconf_put_int. from the readme: "if parm not NULL, then ...
	  parm points to ..." so we need to get the value of the location
	  where it points to.

2005-12-05 22:20  aj

	* branches/opensc-0.10/src/pkcs15init/pkcs15-oberthur.c: free
	  pub_buff in error path. removed unused pubfile variable and dead
	  code. check prvfile != NULL.
	* branches/opensc-0.10/src/pkcs15init/pkcs15-cflex.c: check prkf
	  != NULL.
	* branches/opensc-0.10/src/pkcs15init/pkcs15-lib.c: free profilke
	  and pin_obj in the error path. check res_obj and keybits/keyargs
	  before dereferencing.
	* branches/opensc-0.10/src/pkcs15init/profile.c: check p15card !=
	  NULL before accessing it. in the error path free file if it was
	  allocated.

2005-12-05 22:19  aj

	* branches/opensc-0.10/src/pkcs11/secretkey.c: easier to parse,
	  and better error handling.

2005-12-05 22:18  aj

	* branches/opensc-0.10/src/signer/opensc-crypto.c: also check that
	  priv->p15card is not NULL.
	* branches/opensc-0.10/src/libopensc/pkcs15-infocamere.c: for
	  example if the card was removed, select file on the main folder
	  will fail. so I think it is best to return the error.
	* branches/opensc-0.10/src/libopensc/pkcs15-postecert.c: even
	  select_file can fail (if card was removed etc.) so better check
	  the error and return the problem, right?
	* branches/opensc-0.10/src/libopensc/pkcs15-algo.c: fix typo on
	  *paramp test. check alg_info always, not only in some case.

2005-12-05 22:17  aj

	* branches/opensc-0.10/src/libopensc/pkcs15-syn.c: check
	  scconf_find_blocks returning NULL add a free(obj) to the error
	  path.
	* branches/opensc-0.10/src/libopensc/card-oberthur.c: check file
	  parameter. set file=NULL after freeing it to avoid potential
	  double free. check key_file parameter before dereferencing it.
	  check card first, then derefence it.
	* branches/opensc-0.10/src/libopensc/card-setcos.c: sizeof(int[7])
	  is 28. I think bCommands_pin should have 7 elements, too.
	* branches/opensc-0.10/src/libopensc/card-openpgp.c: remove
	  unneeded if(1) block. free temp in error paths.

2005-12-05 22:16  aj

	* branches/opensc-0.10/src/libopensc/card-belpic.c: check if
	  scconf_find_blocks returned NULL
	* branches/opensc-0.10/src/libopensc/reader-ctapi.c: check if
	  scconf_find_blocks returned NULL
	* branches/opensc-0.10/src/libopensc/pkcs15.c: check if
	  scconf_find_blocks returned NULL.
	* branches/opensc-0.10/src/libopensc/iso7816.c: add proper free to
	  error path.

2005-12-05 22:15  aj

	* branches/opensc-0.10/src/libopensc/sc.c: simply code / remove
	  dead code.
	* branches/opensc-0.10/src/libopensc/card.c: check if
	  scconf_find_blocks returns NULL;
	* branches/opensc-0.10/src/libopensc/ctx.c: add paranoia: what if
	  scconf_find_bloicks returns NULL?
	* branches/opensc-0.10/src/libopensc/pkcs15-wrap.c: add paranoia:
	  check all arguments before dereferencing them to prevent
	  segfaults.
	* branches/opensc-0.10/src/libopensc/dir.c: free allocated
	  variable in error path. set rec=NULL after freeing it to prevent
	  double free'ing.

2005-12-05 22:14  aj

	* branches/opensc-0.10/src/tools/cryptoflex-tool.c: free buf if
	  pin was entered incorrectly. check if file is not NULL (out of
	  memory). free file, if something goes wrong. free pin/puk once
	  no longer needed.
	* branches/opensc-0.10/src/tools/pkcs15-init.c: make code easier
	  by removing match variable. check if cert was returned != NULL.
	  free cert if there is some error. set variables to NULL after
	  being freed, to avoid potential double free bugs.
	* branches/opensc-0.10/src/tools/opensc-explorer.c: proper
	  cleanup: close files if something goes wrong.

2005-12-05 22:13  aj

	* branches/opensc-0.10/src/tools/pkcs15-tool.c: check publickey
	  variable before de-referencing. change newpin to NULL so it
	  can't get free'd twice. allocate buf from heap, not stack (quite
	  large).
	* branches/opensc-0.10/src/tools/pkcs11-tool.c: #if out the dead
	  code. remove some dead code in the hexdump code.
	* branches/opensc-0.10/src/scconf/test-conf.c: does not work, will
	  segfault. also no need to assign foo_item all the time,
	  scconf_item_add returns the item parameter, so it does not
	  change.

2005-12-05 22:12  aj

	* branches/opensc-0.10/src/scconf/parse.c: add a few sanity checks.

2005-12-04 23:24  nils

	* branches/opensc-0.10/src/pkcs11/framework-pkcs15.c: fix problem
	  with uninitialized pointer; this patch resolves opensc ticket #61

2005-12-02 22:25  nils

	* branches/opensc-0.10/src/libopensc/card-incrypto34.c,
	  branches/opensc-0.10/src/pkcs15init/pkcs15-incrypto34.c: fix
	  pkcs15 initialization + fix DIRECTORY command; patch supplied by
	  Giuseppe AMATO <giuseppe.amato@st.com>

2005-12-01 22:20  aj

	* branches/opensc-0.10/src/libopensc/card-flex.c: fix for the
	  combination of cryptoflex, 2048bit keys and some smart card
	  readers by Jean-Pierre Szikora

2005-11-29 20:56  nils

	* branches/opensc-0.10/src/tools/opensc-tool.c,
	  branches/opensc-0.10/src/tools/pkcs15-tool.c: use sc_print_path

2005-11-28 23:08  nils

	* branches/opensc-0.10/src/tests/print.c: use sc_print_path

2005-11-26 10:12  nils

	* branches/opensc-0.10/src/libopensc/card-atrust-acos.c,
	  branches/opensc-0.10/src/libopensc/card-starcos.c: remove
	  senseless and inconsistent checks + cleanup

2005-11-25 19:12  nils

	* branches/opensc-0.10/src/libopensc/reader-pcsc.c: use unsigned
	  int instead of uint16_t

2005-11-17 10:29  nils

	* branches/opensc-0.10/src/libopensc/opensc.h: fix ac for file
	  deletion

2005-11-01 22:34  aj

	* branches/opensc-0.10/src/tools/cardos-info.c: add more cardos
	  versions.

2005-10-30 09:23  nils

	* branches/opensc-0.10: create separate branch for 0.10.1

2005-10-29 21:17  martin

	* trunk/src/libopensc/reader-pcsc.c: Update pcsc pinpad code to
	  latest pcsc-lite code, limit to pcsc-lite only. Verify works
	  fine, modify needs some debugging-testing.

2005-10-28 18:10  nils

	* trunk/src/libopensc/pkcs15-infocamere.c: update from Sirio
	  Capizzi <graaf@virgilio.it>

2005-10-27 21:39  martin

	* trunk/src/libopensc/card-etoken.c: This works better.

2005-10-27 20:16  nils

	* trunk/src/libopensc/card-etoken.c: add another cardos ATR,
	  supplied by graaf@virgilio.it

2005-10-24 22:00  aj

	* trunk/CodingStyle, trunk/INSTALL, trunk/Makefile.am, trunk/NEWS,
	  trunk/README: remove outdated files, improve documentation
	  slightly.

2005-10-24 21:58  nils

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/card-incrypto34.c,
	  trunk/src/libopensc/cardctl.h, trunk/src/libopensc/cards.h,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/log.h,
	  trunk/src/libopensc/opensc.h, trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/Makefile.mak,
	  trunk/src/pkcs15init/incrypto34.profile,
	  trunk/src/pkcs15init/pkcs15-incrypto34.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: add support for the Italian
	  Incrypto34 smartcard; patch supplied by Giuseppe AMATO
	  <giuseppe.amato@st.com>

2005-10-24 21:18  aj

	* trunk/man/Makefile.am: fix man page installation.

2005-10-24 15:19  martin

	* trunk/etc/opensc.conf.in: More comments on default config options

2005-10-21 20:12  aj

	* trunk/configure.in: not compatible with 0.9.*. increse library
	  major revision.

2005-10-21 19:40  nils

	* trunk/src/tools/pkcs11-tool.c: fix typo

2005-10-21 17:34  aj

	* trunk/NEWS, trunk/doc/old/doxygen.conf,
	  trunk/src/include/winconfig.h, trunk/win32/version.rc: prepare
	  0.10.0 release.

2005-10-20 12:55  aj

	* trunk/Makefile.am, trunk/QUICKSTART, trunk/README: remove
	  QUICKSTART (outdated and replaced by wiki documentation
	  "QuickStart") and add README pointing people to our wiki / html
	  documentation.

2005-10-17 08:00  aj

	* trunk/src/libopensc/card-tcos.c: update by Peter Koch. still one
	  problem left in pkcs11-tool, but lots of improvements.

2005-10-15 14:53  martin

	* trunk/etc/opensc.conf.in: Comment config file lines that have
	  default values.

2005-10-13 11:19  sth

	* trunk/src/tools/pkcs11-tool.c: Compiler warning fix: use 'char *
	  argv[]' in main() because getopt_long() does so too

2005-10-12 17:52  nils

	* trunk/src/libopensc/card-setcos.c: bugfix for a potential
	  segfault in card-setcos.c when the acl "pointer" is one of the
	  special values 1,2,3 Patch supplied by Jakub Bogusz
	  <qboosh@pld-linux.org>

2005-10-12 13:37  ludovic.rousseau

	* trunk/man/Makefile.am: use *.[1-7] instead of *.1 *.3 *.5 *.7 to
	  avoid the (harmless) error "ls: *.7: No such file or directory"

2005-10-11 20:57  aj

	* trunk/src/tools/pkcs11-tool.c, trunk/src/tools/util.h: fix
	  compiling on solaris9. Thanks to Douglas E. Engert

2005-10-10 19:24  aj

	* trunk/etc/opensc.conf.in: masquerading is no longer needed on
	  windows or mac os X and never was on linux.

2005-10-10 08:07  aj

	* trunk/doc/tools/netkey-tool.xml: fix typo.

2005-10-09 22:15  nils

	* trunk/src/libopensc/sc.c: fix build with openssl 0.9.8: move
	  "#include <openssl/crypto.h> up and remove unnecessary include
	  for asn1.h

2005-10-09 12:00  nils

	* trunk/src/libopensc/card.c: fix typo

2005-10-08 11:08  nils

	* trunk/src/libopensc/dir.c, trunk/src/libopensc/pkcs15.c:
	  suppress errors in pkcs15 card detection if we don't know
	  whether we really have a pkcs15 card

2005-10-07 20:04  nils

	* trunk/src/libopensc/pkcs15-infocamere.c: set the ca certificate
	  only if it's really present

2005-10-07 19:58  nils

	* trunk/src/tools/pkcs15-tool.c: print lastUpdate field as well

2005-10-07 11:40  martin

	* trunk/configure.in: define HAVE_PCSC on darwin with native pcsc

2005-10-07 07:06  aj

	* trunk/src/tools/pkcs15-tool.c: add a few details about the card,
	  also by Antonio Iacono.

2005-10-06 19:30  aj

	* trunk/src/tools/pkcs15-tool.c: add --dump option, thanks to
	  antonio

2005-10-06 18:23  aj

	* trunk/etc/opensc.conf.in: enable masquerading by default for
	  pcsc.

2005-10-06 10:28  martin

	* trunk/configure.in: Fix the #define in pcsc probing, move
	  pkg-config code before the darwin-specific code so that if a
	  pkg-config enabled pcsc is installed you can simply use
	  PKG_CONFIG_PATH to detect it.

2005-10-06 06:57  aj

	* trunk/configure.in, trunk/src/libopensc/reader-pcsc.c: Better
	  name, as suggested by Ludovic.

2005-10-05 15:25  aj

	* trunk/configure.in, trunk/src/libopensc/reader-pcsc.c: __APPLE__
	  does not need special handly. Only the broken pcsc-lite shipped
	  in mac os X does, so use define set by configure on mac os X, if
	  the default pcsc is used, but not if a self compiled is used.
	  teach configure new getopt source file names.

2005-10-05 15:23  aj

	* trunk/src/common/ChangeLog, trunk/src/common/LICENSE,
	  trunk/src/common/Makefile.am, trunk/src/common/Makefile.mak,
	  trunk/src/common/README, trunk/src/common/getopt.3,
	  trunk/src/common/getopt.c, trunk/src/common/getopt.h,
	  trunk/src/common/getopt.txt, trunk/src/common/getopt1.c,
	  trunk/src/common/getopt_int.h, trunk/src/common/main.c,
	  trunk/src/common/my_getopt.c, trunk/src/common/my_getopt.h:
	  replace GNU/glibc getopt (LGPL) with my_getopt (BSD).

2005-10-01 18:51  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Do an sc_lock() before an
	  sc_pkcs15init_bind(). Reason: in sc_pkcs15init_bind() an
	  sc_lock() and sc_unlock() is done; and when the lock_login
	  config option is set to false, the sc_unlock() will call
	  logout() which for some cards means a SELECT(3F00) -> unwanted
	  change of the current EF/DF causing errors

2005-09-30 17:44  aj

	* trunk/src/pkcs11/pkcs11.h: reomve unneeded ifdefs.

2005-09-30 11:17  sth

	* trunk/src/pkcs11/pkcs11.h: Removed the bundle on Mac

2005-09-30 06:35  aj

	* trunk/src/libopensc/errors.c: "Unsupported" might be easier to
	  understand.

2005-09-28 14:52  sth

	* trunk/src/tools/pkcs15-init.c: Fix: deleting a cert chain with 1
	  or more intermediate CA's crashed

2005-09-27 17:22  nils

	* trunk/src/tools/pkcs11-tool.c: add option to specify the key
	  length

2005-09-24 17:45  aj

	* trunk/src/libopensc/card-tcos.c: new tcos atr provided by Gerald
	  Richter.

2005-09-23 15:47  aj

	* trunk/src/common/Makefile.am, trunk/src/common/getopt.c,
	  trunk/src/common/getopt.h, trunk/src/common/getopt1.c,
	  trunk/src/common/getopt_int.h: replace gpl'ed and old version
	  with new lgpl'ed version from glibc.

2005-09-23 15:46  aj

	* trunk/doc/Makefile.am: proper reference to src dir.

2005-09-23 15:45  aj

	* trunk/aclocal/Makefile.am: list all current macro packages.

2005-09-22 14:53  aj

	* trunk/doc/old/Makefile.am, trunk/doc/old/init_perso_guide.html,
	  trunk/doc/old/init_perso_guide.txt: add init perso guide by Nils.

2005-09-22 14:51  aj

	* trunk/src/libp11, trunk/src/scdl, trunk/src/sslengines: scdl is
	  replaced by ltdl, libp11 and sslengines are not standalone.

2005-09-22 13:15  aj

	* trunk/src/pkcs11/rsaref/Makefile.am,
	  trunk/src/pkcs11/rsaref/README: Document cryptoki header files.

2005-09-22 12:45  sth

	* trunk/src/pkcs15init/pkcs15-lib.c: No SC_AC_OP_DELETE for EFs

2005-09-22 08:50  martin

	* trunk/configure.in: Also remove the bundle stuff from configure

2005-09-21 20:18  aj

	* trunk/src/pkcs11/Makefile.mak: scconf no longer needed for
	  pkcs#11 spy.

2005-09-21 20:17  aj

	* trunk/src/pkcs11/Makefile.am: do not install bundles on mac os
	  X. no reason to.

2005-09-21 18:55  bert

	* trunk/doc/tools/netkey-tool.xml, trunk/doc/tools/tools.xml:
	  Added Peter Koch's netkey-tool manpage

2005-09-21 12:52  martin

	* trunk/Makefile.am, trunk/configure.in,
	  trunk/src/pkcs11/Makefile.mak: Fix makefiles

2005-09-21 10:10  martin

	* trunk/win32/Make.rules.mak: It actually helps to have make clean
	  on windows too

2005-09-21 10:09  martin

	* trunk/macos: don't know what it was for but it's not needed now.

2005-09-20 22:22  nils

	* trunk/src/libopensc/card.c: fix TPDU if T0 is used

2005-09-20 07:32  aj

	* trunk/aclocal/libtool.m4: adding libtool.m4 was a bad idea and
	  causes problems. undo.

2005-09-19 16:37  nils

	* trunk/src/tools/pkcs15-init.c: remove unused variable

2005-09-19 08:09  ludovic.rousseau

	* trunk/src/libopensc/ui.c: use_color(): add "rxvt-unicode" to the
	  list of terminals supporting colors

2005-09-18 20:29  aj

	* trunk/src/libopensc/card.c: undo change 2397 as it breaks openct
	  and you can use apd_masquerade = case4as3 instead.

2005-09-18 12:33  aj

	* trunk/etc/opensc.conf.in, trunk/src/libopensc/reader-openct.c:
	  make openct readers configureable.

2005-09-18 11:00  aj

	* trunk/etc/opensc.conf.in, trunk/src/pkcs11/Makefile.am,
	  trunk/src/pkcs11/pkcs11-spy.c: pkcs11-spy no longer uses a
	  config file.

2005-09-17 10:44  nils

	* trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-oberthur.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15-sec.c,
	  trunk/src/libopensc/reader-openct.c, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/ui.c, trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs15init/keycache.c: add a new function void
	  sc_mem_clear(void *ptr, size_t len); to clear a memory buffer.
	  If OpenSSL is used this function is a wrapper for
	  OPENSSL_cleanse, otherwise memset is currenlty used. Use this
	  function to clear memory buffers with sensitive content.

2005-09-17 09:40  nils

	* trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-pcsc.c,
	  trunk/src/signer/opensc-support.c: use calloc instead of malloc
	  + memset

2005-09-17 08:53  nils

	* trunk/src/libopensc/card-belpic.c: remove useless memset

2005-09-17 08:20  nils

	* trunk/src/libopensc/iso7816.c: don't use static buffer in
	  iso7816_build_pin_apdu

2005-09-17 08:04  nils

	* trunk/src/libopensc/pkcs15-infocamere.c: fix warning

2005-09-16 20:31  nils

	* trunk/src/libopensc/ctx.c, trunk/src/libopensc/pkcs15-syn.c,
	  trunk/src/libopensc/reader-ctapi.c, trunk/src/libopensc/ui.c,
	  trunk/src/pkcs15init/pkcs15-lib.c: log dlerror message when
	  dlopen failed

2005-09-16 10:18  nils

	* trunk/src/libopensc/ctx.c, trunk/src/libopensc/opensc.h,
	  trunk/src/pkcs11/pkcs11-global.c, trunk/src/pkcs11/slot.c: add
	  two new functions sc_reader_t *sc_ctx_get_reader(sc_context_t
	  *ctx, unsigned int i); unsigned int
	  sc_ctx_get_reader_count(sc_context_t *ctx); to access the
	  reader_count and the sc_reader objects (to avoid accessing the
	  sc_context members directly). Use these functions in src/pkcs11
	  + error checking to avoid accessing invalid sc_reader objects.

2005-09-16 08:55  nils

	* trunk/etc/opensc.conf.in, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/pkcs15-syn.c,
	  trunk/src/libopensc/pkcs15-tccardos.c: add pkcs15 emulation
	  support for a cardos based id card issued by tc trustcenter

2005-09-15 19:40  sth

	* trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs15-init.c: Added certificate update
	  functionality

2005-09-15 05:55  sth

	* trunk/INSTALL, trunk/src/libopensc/Makefile.mak,
	  trunk/src/pkcs11/Makefile.mak,
	  trunk/src/pkcs15init/Makefile.mak, trunk/win32/Make.rules.mak:
	  Win32: we now need the external libtool package

2005-09-15 05:41  sth

	* trunk/src/libopensc/ctx.c: Fix warning on Windows compiler

2005-09-14 09:50  ludovic.rousseau

	* trunk/doc/export-wiki.sh: use -nv instead of --non-verbose since
	  wget 1.10 now uses --no-verbose instead. Grr!

2005-09-13 10:46  aj

	* trunk/doc/Makefile.am: fix ChangeLog generation.

2005-09-13 09:42  aj

	* trunk/doc/Makefile.am: generate and ship ChangeLog and HTML.

2005-09-13 08:13  sth

	* trunk/src/pkcs15init/Makefile.am: Added setcos.profile (thx JP
	  Szikora)

2005-09-12 21:16  aj

	* trunk/doc/changelog.sh, trunk/doc/export-wiki.sh,
	  trunk/doc/generate-man.sh: disable network connections by
	  xsltproc.

2005-09-12 21:09  nils

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/pkcs15-actalis.c,
	  trunk/src/libopensc/pkcs15-atrust-acos.c,
	  trunk/src/libopensc/pkcs15-gemsafe.c,
	  trunk/src/libopensc/pkcs15-infocamere.c,
	  trunk/src/libopensc/reader-pcsc.c: fix compiler warnings

2005-09-12 20:13  aj

	* trunk/doc/Makefile.am, trunk/doc/changelog.sh,
	  trunk/doc/generate-man.sh, trunk/doc/svn2cl.xsl: more makefile
	  fixes for man page stuff. add ChangeLog generation using svn2cl.

2005-09-12 17:34  aj

	* trunk/doc/Makefile.am, trunk/doc/generate-man.sh: remove html
	  files on "make maintainer-clean".

2005-09-12 17:32  aj

	* trunk/man/Makefile.am: remove man files on "make
	  maintainer-clean".
	* trunk/doc/tools/pkcs15-profile.xml,
	  trunk/doc/tools/pkcs15-profile.xml.in: rename *.xml.in to *.xml.

2005-09-12 17:12  aj

	* trunk/man/Makefile.am: simplified make.
	* trunk/configure.in, trunk/doc/Makefile.am,
	  trunk/doc/generate-man.sh, trunk/doc/src: remove doc/src, add
	  replacement script to render these files.

2005-09-12 17:07  aj

	* trunk/doc/api, trunk/doc/src/api, trunk/doc/src/tools,
	  trunk/doc/tools: remove one unneeded sublevel.
	* trunk/configure.in: don't touch pkcs15-profile.5.in.

2005-09-12 17:06  aj

	* trunk/man/cardos-info.1, trunk/man/cryptoflex-tool.1,
	  trunk/man/netkey-tool.1, trunk/man/old,
	  trunk/man/old/cardos-info.1, trunk/man/old/cryptoflex-tool.1,
	  trunk/man/old/netkey-tool.1, trunk/man/old/opensc-config.1,
	  trunk/man/old/opensc-explorer.1, trunk/man/old/opensc-tool.1,
	  trunk/man/old/opensc.7, trunk/man/old/pkcs11-tool.1,
	  trunk/man/old/pkcs15-crypt.1, trunk/man/old/pkcs15-init.1,
	  trunk/man/old/pkcs15-profile.5.in, trunk/man/old/pkcs15-tool.1,
	  trunk/man/old/pkcs15.7, trunk/man/old/sc_connect_card.3,
	  trunk/man/old/sc_detect_card_presence.3,
	  trunk/man/old/sc_disconnect_card.3,
	  trunk/man/old/sc_establish_context.3, trunk/man/old/sc_file.3,
	  trunk/man/old/sc_file_free.3, trunk/man/old/sc_file_new.3,
	  trunk/man/old/sc_list_files.3, trunk/man/old/sc_lock.3,
	  trunk/man/old/sc_pkcs15_compute_signature.3,
	  trunk/man/old/sc_read_binary.3, trunk/man/old/sc_read_record.3,
	  trunk/man/old/sc_release_context.3,
	  trunk/man/old/sc_select_file.3, trunk/man/opensc-config.1,
	  trunk/man/opensc-explorer.1, trunk/man/opensc-tool.1,
	  trunk/man/opensc.7, trunk/man/pkcs11-tool.1,
	  trunk/man/pkcs15-crypt.1, trunk/man/pkcs15-init.1,
	  trunk/man/pkcs15-profile.5.in, trunk/man/pkcs15-tool.1,
	  trunk/man/pkcs15.7, trunk/man/sc_connect_card.3,
	  trunk/man/sc_detect_card_presence.3,
	  trunk/man/sc_disconnect_card.3,
	  trunk/man/sc_establish_context.3, trunk/man/sc_file.3,
	  trunk/man/sc_file_free.3, trunk/man/sc_file_new.3,
	  trunk/man/sc_list_files.3, trunk/man/sc_lock.3,
	  trunk/man/sc_pkcs15_compute_signature.3,
	  trunk/man/sc_read_binary.3, trunk/man/sc_read_record.3,
	  trunk/man/sc_release_context.3, trunk/man/sc_select_file.3: move
	  old manpages to old/.

2005-09-12 08:32  nils

	* trunk/etc/opensc.conf.in: add gemsafe as well

2005-09-12 06:42  nils

	* trunk/etc/opensc.conf.in: tcos not netkey

2005-09-11 21:06  nils

	* trunk/src/libopensc/cards.h: remove superfluous comma

2005-09-11 21:05  nils

	* trunk/src/libopensc/ui.c: more pointer madness to make the
	  compiler happy

2005-09-11 20:40  nils

	* trunk/src/libopensc/ctx.c: fix function pointers

2005-09-11 19:57  sth

	* trunk/src/pkcs11/pkcs11-spy.c: Typo fix

2005-09-11 19:49  aj

	* trunk/configure.in: set assuan status for the summary at the end.
	* trunk/ChangeLog: "NEWS" is the file for manual editing, and
	  doc/ChangeLog will be auto generated from the svn repository /
	  log.

2005-09-11 19:48  aj

	* trunk/ANNOUNCE, trunk/AUTHORS, trunk/Makefile.am, trunk/README:
	  AUTHORS: now in the wiki. README: now in the wiki. people will
	  find the "doc/" directory, I'm sure. remove ANNONCE, as it is
	  always outdated.

2005-09-09 19:51  nils

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/pkcs15-netkey.c,
	  trunk/src/libopensc/pkcs15-syn.c,
	  trunk/src/libopensc/pkcs15-tcos.c: pkcs15-netkey.c ->
	  pkcs15-tcos.c

2005-09-09 19:30  nils

	* trunk/src/libopensc/pkcs15-netkey.c: update tcos pkcs15
	  emulation drivers; patch supplied by Peter Koch
	  <pk_opensc@web.de>

2005-09-09 14:43  aj

	* trunk/src/Makefile.mak, trunk/src/libp11/Makefile.mak,
	  trunk/src/pkcs11/Makefile.mak, trunk/src/tools/Makefile.mak,
	  trunk/win32/Make.rules.mak: use ltdl not scdl.

2005-09-09 12:45  aj

	* trunk/configure.in: add autoconf voodoo to circumvent the
	  caching.

2005-09-09 12:32  aj

	* trunk/configure.in: oops, ugly bug in configure script. set
	  those variables, if the user did *NOT* supply any of them
	  himself.

2005-09-09 11:32  martin

	* trunk/configure.in: No ENGINE_MSG in configure.in

2005-09-09 11:31  martin

	* trunk/etc/opensc.conf.in: RIP, scam

2005-09-09 07:15  nils

	* trunk/src/pkcs15init/pkcs15-starcos.c: select file even if no
	  acl for writting is set; patch supplied by Tarasov Viktor
	  <vtarasov@idealx.com>

2005-09-08 17:21  aj

	* trunk/src/libopensc/Makefile.am, trunk/src/pkcs11/Makefile.am,
	  trunk/src/tests/Makefile.am, trunk/src/tools/Makefile.am: we use
	  libtool for linking, so it can calucalte the dependencies using
	  LTLIBLTDL better. Thanks to Ralf Wildenhues.

2005-09-08 17:15  aj

	* trunk/src/libopensc/Makefile.am, trunk/src/pkcs11/Makefile.am,
	  trunk/src/pkcs15init/Makefile.am, trunk/src/scconf/Makefile.am,
	  trunk/src/signer/Makefile.am, trunk/src/tests/Makefile.am,
	  trunk/src/tools/Makefile.am: AC_SUBSTed variables are better
	  used with $(..). Thanks to Ralf Wildenhues.

2005-09-08 17:06  aj

	* trunk/configure.in: fix AC_MSG_ERROR usage. thanks to Ralf
	  Wildenhues.

2005-09-08 16:52  aj

	* trunk/Makefile.am, trunk/bootstrap: aclocal -I aclocal/ (as
	  suggested by Ralf Wildenhues)

2005-09-08 14:27  aj

	* trunk/configure.in: proper use of CFLAGS push/pop. fix
	  overwriting CFLAGS.

2005-09-08 11:35  martin

	* trunk/etc/opensc.conf.in, trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/reader-pcsc.c,
	  trunk/src/pkcs11/Makefile.mak: * Get rid of reset card error
	  that comes from pcsc only and deal with reset situations with
	  SCardReconnect * Add some options to control pcsc behavior.

2005-09-07 20:05  nils

	* trunk/src/pkcs11/Makefile.am, trunk/src/pkcs11/pkcs11-spy.c:
	  remove dependence on libopensc, instead use scconf directly.
	  Note: this code is still experimental !

2005-09-07 09:34  nils

	* trunk/src/pkcs11/pkcs11-session.c: fix warning

2005-09-07 09:32  nils

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs15-init.c: cleanup key usage handling,
	  cleanup

2005-09-07 09:20  nils

	* trunk/src/tests/Makefile.am: we need libltdl

2005-09-07 09:05  nils

	* trunk/configure.in: fix openssl configure message

2005-09-07 08:47  nils

	* trunk/src/libopensc/card-jcop.c: let src/libopensc/ compile with
	  -Wall -W -Wno-unused-parameter -Werror

2005-09-07 08:33  nils

	* trunk/src/libopensc/card-atrust-acos.c,
	  trunk/src/libopensc/card-belpic.c,
	  trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-emv.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-oberthur.c,
	  trunk/src/libopensc/card-openpgp.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/card-tcos.c,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-pcsc.c: let src/libopensc/ compile
	  with -Wall -W -Wno-unused-parameter -Werror

2005-09-06 21:18  nils

	* trunk/src/tools/pkcs15-init.c: adjust key usage bits

2005-09-06 20:22  aj

	* trunk/src/pkcs11/Makefile.am: users of libpcs11.c also need
	  @LIBLTDL@ libraries.

2005-09-06 12:40  aj

	* trunk/man/pkcs15-init.1, trunk/man/pkcs15-profile.5.in,
	  trunk/man/pkcs15.7: man page fixes from the debian diff.

2005-09-05 20:44  aj

	* trunk/src/libopensc/Makefile.am, trunk/src/tools/Makefile.am:
	  fix compiling with ltdl.

2005-09-05 20:15  aj

	* trunk/configure.in: fix openct detection. fix assuan detection.
	  improve libltdl detection code.
	* trunk/aclocal/lib-ld.m4, trunk/aclocal/lib-link.m4,
	  trunk/aclocal/lib-prefix.m4: add macro packages used by opensc.

2005-09-05 20:13  aj

	* trunk/aclocal/libassuan.m4, trunk/aclocal/libtool.m4: add
	  additional m4 macro packages used by opensc.

2005-09-05 17:05  nils

	* trunk/src/pkcs11/libpkcs11.c: we need lt_dlinit()

2005-09-05 11:29  martin

	* trunk/src/libopensc/reader-pcsc.c: Include reader.h if found.

2005-09-05 06:44  ludovic.rousseau

	* trunk/doc/export-wiki.sh: make export-wiki.sh executable

2005-09-04 09:23  nils

	* trunk/src/libopensc/card-setcos.c: yet another atr + cleanup

2005-09-04 08:57  nils

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/internal.h:
	  remove unused internal function

2005-09-02 16:53  aj

	* trunk/Makefile.am, trunk/doc/Makefile.am: one more change to
	  "make dist" style documentation generation.

2005-09-02 09:51  aj

	* trunk/Makefile.am: "doc" does not work well, it is the
	  subdirectory name.

2005-09-02 09:29  aj

	* trunk/Makefile.am: dist-hook: is too late, need to generate the
	  documentation before automake "make dist" copied files around.

2005-09-01 20:51  aj

	* trunk/src/pkcs15init/Makefile.am, trunk/src/tools/Makefile.am:
	  fix compiling with openssl installed in a non-standard location.

2005-09-01 17:18  aj

	* trunk/doc/Makefile.am, trunk/doc/old/Makefile.am: proper
	  documentation cleanup.

2005-09-01 14:01  aj

	* trunk/Makefile.am, trunk/bootstrap, trunk/configure.in,
	  trunk/src/Makefile.am, trunk/src/include/opensc/Makefile.am,
	  trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/pkcs15-syn.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/reader-ctapi.c, trunk/src/libopensc/ui.c,
	  trunk/src/pkcs11/Makefile.am, trunk/src/pkcs11/Makefile.mak,
	  trunk/src/pkcs11/libpkcs11.c, trunk/src/pkcs15init/Makefile.mak,
	  trunk/src/pkcs15init/pkcs15-lib.c, trunk/src/signer/Makefile.am,
	  trunk/src/tools/Makefile.am: big configure update. use
	  pkg-config for openct, openssl, pcsc. do not compilke libp11. do
	  not compile sslengines. remove scdl. use libltdl instead. use
	  libassuan.m4 macro for m4 detection.

2005-09-01 14:00  aj

	* trunk/doc/old/generate.sh, trunk/doc/trac.css: remove trac.css
	  from svn. add script to generate documentation (old one).

2005-09-01 13:59  aj

	* trunk/doc/AladdinEtokenPro.html, trunk/doc/AutoVersions.html,
	  trunk/doc/BelgianEid.html, trunk/doc/CardOs.html,
	  trunk/doc/CardReaders_CTAPI.html,
	  trunk/doc/CardReaders_SPR532.html,
	  trunk/doc/CardsAndTokens.html,
	  trunk/doc/CompatibilityIssues.html,
	  trunk/doc/CompatiblityIssues.html,
	  trunk/doc/CryptoIdendityItsec.html, trunk/doc/Cryptoflex.html,
	  trunk/doc/Cyberflex.html, trunk/doc/DesignDiscussion.html,
	  trunk/doc/DesignDiscussion_UserInterface.html,
	  trunk/doc/EstonianEid.html, trunk/doc/FinnishEid.html,
	  trunk/doc/GemplusGpk.html, trunk/doc/GermanEid.html,
	  trunk/doc/ItalianEid.html, trunk/doc/ItalianPostecert.html,
	  trunk/doc/LinuxDistributions.html, trunk/doc/MacOsX.html,
	  trunk/doc/Makefile.am, trunk/doc/MartinBlog.html,
	  trunk/doc/MartinBlogMuscle.html,
	  trunk/doc/MartinBlogPlatform.html, trunk/doc/OpenPgp.html,
	  trunk/doc/OpenSsh.html, trunk/doc/OpensslEngines.html,
	  trunk/doc/PinpadReaders.html, trunk/doc/PuTTYcard.html,
	  trunk/doc/RainbowIkeyThree.html,
	  trunk/doc/RecentTestresults.html, trunk/doc/ReleaseHowto.html,
	  trunk/doc/ReplacingCertificates.html, trunk/doc/RoadMap.html,
	  trunk/doc/SchlumbergerEgate.html,
	  trunk/doc/SmartCardApplications.html, trunk/doc/SpanishEid.html,
	  trunk/doc/SubversionRepository.html,
	  trunk/doc/SupportedHardware.html, trunk/doc/SwedishEid.html,
	  trunk/doc/TaiwanEid.html, trunk/doc/TelseCos.html,
	  trunk/doc/TroubleShooting.html, trunk/doc/WindowsCsp.html,
	  trunk/doc/export-wiki.sh, trunk/doc/index.html,
	  trunk/doc/old/Makefile.am, trunk/doc/old/opensc-es.html,
	  trunk/doc/old/opensc.html, trunk/doc/pkcs11_keypair_gen.html:
	  big documentation update. remove html from svn.

2005-08-29 20:48  sth

	* trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15.profile,
	  trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h:
	  The lastUpdate field is in the EF(TokenInfo), not in the ODF
	  (thx Nils)

2005-08-29 12:49  sth

	* trunk/src/pkcs11/pkcs11-display.c: Added Netscape/Mozilla
	  specific types etc.

2005-08-28 20:18  aj

	* trunk/configure.in, trunk/src/Makefile.am,
	  trunk/src/Makefile.mak, trunk/win32/Make.rules.mak: stop
	  building libp11 and the ssl engines.

2005-08-26 19:35  sth

	* trunk/src/pkcs15init/pkcs15-setcos.c: Fix in new_file(): if
	  there's already a key with such ID, take next one

2005-08-26 19:33  sth

	* trunk/src/libopensc/card-setcos.c: Return the real pinref

2005-08-24 16:18  nils

	* trunk/src/tools/eidenv.c: fix compiler warning

2005-08-24 16:11  sth

	* trunk/src/pkcs15init/setcos.profile: Improved ACs

2005-08-24 15:59  nils

	* trunk/src/tools/pkcs15-init.c: add missing include, removed
	  unused variable and initialize variable

2005-08-24 15:54  nils

	* trunk/src/libopensc/pkcs15.c: decode preferredLanguage field if
	  present

2005-08-24 14:25  ludovic.rousseau

	* trunk/src/libp11/libp11-int.h, trunk/src/libp11/libp11.h: move
	  PKCS11_open_session() from libp11-int.h to libp11.h

2005-08-24 09:50  sth

	* trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15.profile,
	  trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h:
	  Have the option not to update the ODF (the lastUpdate field),
	  this is usefull for cards that don't have an ODF that is
	  un-writable or too small

2005-08-24 08:00  nils

	* trunk/src/libopensc/asn1.c: de-/encode printable strings as well

2005-08-23 21:16  nils

	* trunk/src/libopensc/card-gpk.c: cleanup

2005-08-23 09:01  sth

	* trunk/src/tools/pkcs15-init.c: Added set_userpin_ref() to link a
	  PIN value to a PIN ref for an existing user PIN

2005-08-22 12:53  sth

	* trunk/ChangeLog: Add support for SetCOS 4.4.1 card. Add support
	  for deleting pkcs15 objects.

2005-08-22 09:37  nils

	* trunk/src/pkcs15init/pkcs15-lib.c: mark card/profile as dirty
	  when an object has been deleted
	* trunk/src/libopensc/cardctl.h: avoid warning

2005-08-22 09:23  sth

	* trunk/src/tools/pkcs15-init.c: Added support for deleting pkcs15
	  objects (if the pkcs15init card driver for that card supports it)

2005-08-22 09:22  nils

	* trunk/src/libopensc/card.c, trunk/src/libopensc/internal.h: fix
	  parameter type

2005-08-22 09:20  sth

	* trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-jcop.c,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c,
	  trunk/src/pkcs15init/pkcs15-oberthur.c,
	  trunk/src/pkcs15init/pkcs15-setcos.c,
	  trunk/src/pkcs15init/pkcs15-starcos.c: Added support for
	  deleting pkcs15 objects, each card driver should implement its
	  delete_object() operation in order to support it

2005-08-22 09:17  nils

	* trunk/src/libopensc/card-oberthur.c: add support for serial
	  number in card-oberthur.c; supplied by Tarasov Viktor
	  <vtarasov@idealx.com>

2005-08-22 09:15  nils

	* trunk/src/libopensc/reader-pcsc.c: add missing variable

2005-08-21 18:44  martin

	* trunk/src/libopensc/card.c, trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/reader-pcsc.c: Make the pcsc pinpad option
	  work.

2005-08-21 18:39  martin

	* trunk/src/pkcs11/framework-pkcs15.c: Don't cache pins that
	  protect a userconsent slot.

2005-08-20 13:39  nils

	* trunk/src/libopensc/iso7816.c: use compile time initialization
	  for the iso_ops structure

2005-08-20 11:06  nils

	* trunk/src/libopensc/pkcs15-netkey.c: use non-repudiation flag
	  only for the signature key

2005-08-19 17:56  nils

	* trunk/src/libopensc/card-jcop.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-oberthur.c,
	  trunk/src/pkcs15init/profile.c: check result of sc_file_dup +
	  some cleanup

2005-08-19 06:39  nils

	* trunk/src/libopensc/sc.c: sc_file_dup(): copy attributes as
	  well, use explicit assignement and check return values

2005-08-18 22:43  nils

	* trunk/src/libopensc/sc.c: use calloc instead of malloc + memset

2005-08-18 21:14  sth

	* trunk/src/pkcs15init/pkcs15-lib.c: Fix: object type contains not
	  only the class

2005-08-18 14:01  sth

	* trunk/src/libopensc/card-belpic.c,
	  trunk/src/libopensc/pkcs15-sec.c: Undo-ing accidential commit of
	  card-belpic.c and pkcs15-sec.c

2005-08-18 13:55  sth

	* trunk/src/libopensc/card-belpic.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c:
	  The lengths of the ASN.1 entries are used outside the if blocks
	  -> declare them outside the blocks

2005-08-18 08:39  ludovic.rousseau

	* trunk/src/libp11/libp11.h: use _LIB11_H instead of _LIB11_INT_H

2005-08-18 07:06  ludovic.rousseau

	* trunk/src/libp11/p11_load.c: PKCS11_CTX_unload(): do not call
	  ERR_free_strings() and ERR_remove_state() since OpenSSL strings
	  may be used by the application and we can't know

2005-08-16 21:35  nils

	* trunk/src/libopensc/card-tcos.c: add support for signature
	  generation with a decryption key; patch supplied by Peter Koch
	  <pk_opensc@web.de>

2005-08-16 12:10  nils

	* trunk/src/libp11/libp11.h: use ERR_LIB_USER instead of 42

2005-08-16 11:05  ludovic.rousseau

	* trunk/src/libp11/libp11.h, trunk/src/libp11/p11_err.c,
	  trunk/src/libp11/p11_slot.c: add PKCS11_change_pin() function

2005-08-16 10:58  nils

	* trunk/src/sslengines/engine_pkcs11.c: summary: - do not use key
	  enumeration as a test of login status, as this will not work for
	  all PKCS#11 libraries - replace magic number used for PIN length
	  with a constant - add documentation for set_pin, as well as
	  testing for NULL input and checking for strdup failure - made
	  the global variable 'pin' static (TODO check if other global
	  variables can be declared static) - if a PIN is allocated, then
	  check for NULL - if a PIN is to be freed, then whiten the memory
	  first - if the token has a secure authentication path, then the
	  PIN shoud be NULL (as per PKCS#11 v2, p. 126) - replaced some
	  fprintf statements with 'fail' (TODO all fprintf calls should be
	  replaced with log functions) Patch supplied by Geoff Elgey
	  <Geoff.Elgey@quest.com>

2005-08-14 22:33  nils

	* trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-jcop.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c,
	  trunk/src/pkcs15init/pkcs15-oberthur.c,
	  trunk/src/pkcs15init/pkcs15-setcos.c,
	  trunk/src/pkcs15init/pkcs15-starcos.c: make old compilers happy

2005-08-14 22:00  nils

	* trunk/src/libopensc/card-oberthur.c: fix typo

2005-08-13 13:26  martin

	* trunk/etc/opensc.conf.in, trunk/src/libopensc/reader-pcsc.c: *
	  Clean up some whitespace * class2->part10 * Make pinpad
	  detection a configurable option

2005-08-13 13:14  martin

	* trunk/configure.in: Add a check for reader.h

2005-08-13 13:10  martin

	* trunk/Makefile.am, trunk/PAM_README, trunk/solaris/proto: *
	  Remove PAM_README as it is not valid any more * Remove dead
	  files from Solaris package script

2005-08-13 13:04  martin

	* trunk/etc/opensc.conf.in, trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h:
	  Remove the (stupid) use_pinpad option from pkcs15 structures

2005-08-11 19:14  nils

	* trunk/src/libopensc/card-oberthur.c,
	  trunk/src/pkcs15init/oberthur.profile: two small fixes from
	  Tarasov Viktor <vtarasov@idealx.com>

2005-08-10 21:31  nils

	* trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-jcop.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c,
	  trunk/src/pkcs15init/pkcs15-oberthur.c,
	  trunk/src/pkcs15init/pkcs15-starcos.c: initialize
	  sc_pkcs15init_operations at compile time

2005-08-10 21:00  nils

	* trunk/src/libopensc/asn1.c: set obj to NULL to avoid double free
	  in case of an error

2005-08-10 19:04  nils

	* trunk/configure.in, trunk/src/tools/pkcs15-tool.c: use
	  inttypes.h instead of stdint.h; disable read_ssh_key when no
	  uint32_t is available

2005-08-10 18:20  nils

	* trunk/src/tools/pkcs15-init.c: initialize the oid object, patch
	  supplied by Tarasov Viktor <vtarasov@idealx.com>

2005-08-09 21:27  nils

	* trunk/src/pkcs11/debug.c, trunk/src/tools/pkcs15-tool.c: include
	  sys/types.h if stdint.h doesn't exist + fix typo

2005-08-09 21:13  nils

	* trunk/configure.in: check for stdint.h and remove checks for pam
	  stuff

2005-08-09 18:21  nils

	* trunk/src/tools/opensc-explorer.c: allow up to 64 byte long pins

2005-08-09 11:51  ludovic.rousseau

	* trunk/src/libp11/libp11.h, trunk/src/libp11/p11_slot.c:
	  PKCS11_login(), PKCS11_init_token(), PKCS11_init_pin(): use
	  "const char *" instead of "char *" for pin arguments

2005-08-09 11:48  ludovic.rousseau

	* trunk/src/libp11/p11_misc.c: pkcs11_strdup(): use "return NULL;"
	  instead of just "NULL;"

2005-08-09 07:53  nils

	* trunk/src/libopensc/card-oberthur.c,
	  trunk/src/pkcs15init/pkcs15-oberthur.c: oberthur updates from
	  Tarasov Viktor <vtarasov@idealx.com>

2005-08-08 14:25  sth

	* trunk/src/tools/eidenv.c: One of the memset()s appears to write
	  too much zeros on some systems -> put all the data in a struct
	  and memset() this instead of each field separately. Thx to JP
	  Szikora for notifying.

2005-08-08 10:22  nils

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/asn1.h,
	  trunk/src/libopensc/card-atrust-acos.c,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/pkcs15-postecert.c,
	  trunk/src/libopensc/pkcs15-syn.c,
	  trunk/src/pkcs15init/pkcs15-starcos.c: cleanup, mostly
	  signed/unsigned issues

2005-08-05 19:07  nils

	* trunk/ChangeLog, trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-setcos.c,
	  trunk/src/pkcs15init/pkcs15-starcos.c,
	  trunk/src/pkcs15init/profile.h: Add support for the lastUpdate
	  field to pkcs15init. Add flag to indicate whether some data has
	  been changed to the profile structure and set the flag in the
	  functions which change the card contents.

2005-08-05 17:18  nils

	* trunk/src/libopensc/card-atrust-acos.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-starcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/internal.h, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/opensc.h: the apdu error codes are unsigned
	  => change sc_check_sw and the card ops check_sw

2005-08-05 16:24  nils

	* trunk/ChangeLog, trunk/src/libopensc/pkcs15-cache.c,
	  trunk/src/libopensc/pkcs15-syn.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h: - Initial support for
	  TokenUpdate;;lastUpdate field. Change pkcs15 caching code to use
	  the card serial number and lastUpdate field (if present) to
	  specify the cache file. - consistently use unsigned data types
	  to specify object types - make sc_pkcs15emu_get_df a local
	  function (it's not used outside pkcs15-syn.c and honestly I see
	  no reason to export it). - start of a new ChangeLog file (with
	  some intial entries)

2005-08-05 15:03  nils

	* trunk/src/libopensc/pkcs15-atrust-acos.c,
	  trunk/src/libopensc/pkcs15-gemsafe.c,
	  trunk/src/libopensc/pkcs15-netkey.c,
	  trunk/src/libopensc/pkcs15-starcert.c: more cleanup

2005-08-05 07:28  nils

	* trunk/src/libopensc/asn1.c: improve generalizedTime support +
	  more cleanup

2005-08-05 07:24  nils

	* trunk/src/libopensc/dir.c, trunk/src/libopensc/pkcs15-algo.c,
	  trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-data.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15-wrap.c: properly initialize
	  sc_asn1_entry elements + some cleanup

2005-08-04 06:29  sth

	* trunk/src/libopensc/pkcs15.h: Reverse the export of function
	  parse_x509_cert()

2005-08-03 18:43  nils

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc.c: change
	  sc_bin_to_hex separator parameter from char to int as character
	  constants are integers in c

2005-08-03 18:29  nils

	* trunk/src/libopensc/card-belpic.c,
	  trunk/src/libopensc/pkcs15-gemsafe.c,
	  trunk/src/libopensc/pkcs15-openpgp.c: cleanup

2005-08-03 11:33  sth

	* trunk/src/tools/eidenv.c: More typo fixes, from JP Zikora

2005-08-03 09:07  sth

	* trunk/src/libopensc/pkcs15-cert.c, trunk/src/libopensc/pkcs15.h:
	  Export function parse_x509_cert()

2005-08-03 09:05  sth

	* trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h:
	  Allow to seach a data object by it's application OID

2005-08-03 09:00  sth

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc.c: Added
	  function sc_compare_oid()

2005-08-02 21:13  nils

	* trunk/src/libopensc/base64.c, trunk/src/libopensc/card-belpic.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/iso7816.c: cleanup

2005-08-02 20:48  sth

	* trunk/src/tools/eidenv.c: Typo fix

2005-08-01 08:59  nils

	* trunk/src/libp11/p11_misc.c: check malloc return value

2005-07-29 21:21  sth

	* trunk/src/tools/eidenv.c: Added support for the Belgian EID card
	  (shows the contents of the ID and Address files)

2005-07-29 21:15  sth

	* trunk/src/tools/Makefile.mak: Add eidenv.exe tool

2005-07-29 21:14  sth

	* trunk/src/tools/eidenv.c: Now compiles on Win32

2005-07-29 14:38  mb

	* trunk/src/tests/print.c: Fixed a warning (comparison between
	  signed and unsigned).

2005-07-24 14:06  nils

	* trunk/etc/opensc.conf.in, trunk/src/pkcs11/framework-pkcs15.c:
	  apply Stef's patch which puts all public objects in first slot
	  if only one pin is present (and hide_empty_tokens is true)

2005-07-21 21:05  aj

	* trunk/src/pkcs11/framework-pkcs15.c: fix compiling without
	  openssl.

2005-07-20 18:19  nils

	* trunk/src/libopensc/reader-openct.c,
	  trunk/src/pkcs15init/pkcs15-cflex.c: fix memory leak; patch
	  supplied by Imanishi Masayuki <Masayuki.Imanishi@jp.sony.com>

2005-07-20 17:58  nils

	* trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs15-init.c: fix use of x509v3 key usage
	  extension value

2005-07-20 00:47  bert

	* trunk/opensc: oops, how did I create that...

2005-07-20 00:43  bert

	* trunk/doc/src/tools, trunk/doc/src/tools/cardos-info.xml,
	  trunk/doc/src/tools/cryptoflex-tool.xml,
	  trunk/doc/src/tools/opensc-config.xml,
	  trunk/doc/src/tools/opensc-explorer.xml,
	  trunk/doc/src/tools/opensc-tool.xml,
	  trunk/doc/src/tools/pkcs11-tool.xml,
	  trunk/doc/src/tools/pkcs15-crypt.xml,
	  trunk/doc/src/tools/pkcs15-init.xml,
	  trunk/doc/src/tools/pkcs15-profile.xml.in,
	  trunk/doc/src/tools/pkcs15-tool.xml,
	  trunk/doc/src/tools/tools.xml: added docbook XML source for
	  tools manpages

2005-07-19 23:28  bert

	* trunk/opensc: Initial import.

2005-07-19 21:03  aj

	* trunk/src/libopensc/card-etoken.c: sorry, not compatible :(

2005-07-19 11:57  nils

	* trunk/src/libp11/p11_load.c: free error strings on when
	  destroying context

2005-07-19 11:20  sth

	* trunk/src/libp11/p11_key.c,
	  trunk/src/sslengines/engine_pkcs11.c: #ifndef strncasecmp
	  doesn't work because strncasecmp is no macro (thx Nils)

2005-07-18 22:33  aj

	* trunk/src/libopensc/card-etoken.c: add new atr.

2005-07-18 21:30  nils

	* trunk/src/libopensc/card-starcos.c: only copy resp if the
	  operation was successful

2005-07-18 20:20  nils

	* trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/openssl.c,
	  trunk/src/pkcs11/pkcs11-object.c, trunk/src/pkcs11/sc-pkcs11.h:
	  don't use software prng

2005-07-18 12:20  sth

	* trunk/src/tools/pkcs15-tool.c: Added #ifdef HAVE_OPENSSL for
	  read_ssh_key()

2005-07-18 12:13  sth

	* trunk/src/Makefile.mak, trunk/win32/Make.rules.mak: Don't build
	  libp11 if we don't have OpenSSL support

2005-07-18 12:12  sth

	* trunk/win32/Make.rules.mak: Get include files also from
	  include\opensc, this is a temporary fix so the compiler finds
	  the rsaref/ dir when reaching '#include <rsaref/pkcs11.h>' in
	  libp11-int.h

2005-07-18 11:56  sth

	* trunk/src/sslengines/Makefile.mak: Changes in .obj and .lib
	  files now we have the new libp11

2005-07-18 11:54  sth

	* trunk/src/sslengines/engine_pkcs11.c: No strncasecmp() on Windows

2005-07-18 11:53  sth

	* trunk/src/libp11/Makefile.mak: Install libp11.h + small fixes

2005-07-18 11:51  sth

	* trunk/src/libp11/p11_key.c: No strncasecmp() on Windows

2005-07-18 09:15  aj

	* trunk/src/libp11/p11_slot.c: open a session if there is none.

2005-07-18 07:26  nils

	* trunk/src/libopensc/card-starcos.c: starcos has a GET CHALLENGE
	  command ... useless flag

2005-07-17 21:19  aj

	* trunk/src/libp11/libp11.h, trunk/src/libp11/p11_slot.c: add
	  functions to access smart card as random number generator.

2005-07-17 20:40  aj

	* trunk/configure.in: fix scconf linking.

2005-07-17 20:31  aj

	* trunk/src/libopensc/Makefile.am: oops, ldap/scam is no more.

2005-07-17 20:27  aj

	* trunk/doc/Makefile, trunk/doc/src/Makefile.am: fix two small
	  makefile gliches.

2005-07-17 20:23  aj

	* trunk/configure.in, trunk/etc/Makefile.am,
	  trunk/etc/scldap.conf.in, trunk/src/libopensc/libscam.pc.in,
	  trunk/src/libopensc/libscldap.pc.in: remove scldap.conf, and
	  pkg-config files for libscldap and libscam.

2005-07-17 20:19  aj

	* trunk/src/include/opensc/Makefile.am: remove ldap/random related
	  makefile commands.

2005-07-17 20:18  aj

	* trunk/src/include/opensc/Makefile.am,
	  trunk/src/pkcs11/Makefile.am, trunk/src/pkcs11/Makefile.mak,
	  trunk/src/pkcs11/openssl.c, trunk/src/pkcs11/pkcs11-object.c:
	  remove code dealing with random numbers for now.

2005-07-17 20:11  aj

	* trunk/configure.in: remove random/prng related code from
	  configure.in

2005-07-17 20:10  aj

	* trunk/configure.in, trunk/src/Makefile.am,
	  trunk/src/Makefile.mak, trunk/src/scrandom: remove scrandom
	  code. We will implement proper code to get random data from the
	  card itself.

2005-07-17 20:09  aj

	* trunk/configure.in: remove pam/ldap/sia specific code from
	  configure.in

2005-07-17 20:08  aj

	* trunk/configure.in, trunk/src/Makefile.am, trunk/src/pam,
	  trunk/src/scam, trunk/src/scldap, trunk/src/sia: pam module
	  obsoleted by pam_pkcs11 and pam_p11.

2005-07-17 20:06  aj

	* trunk/man/Makefile.am: add Makefile for man/ directory.

2005-07-17 19:59  aj

	* trunk/Makefile.am, trunk/configure.in, trunk/doc/Makefile.am,
	  trunk/doc/old/Makefile.am, trunk/doc/src/Makefile.am: additionl
	  cleanup from doc / docs merge. New include api documentation
	  (xml files at least). Not yet installed.

2005-07-17 19:50  aj

	* trunk/doc/AladdinEtokenPro.html, trunk/doc/AutoVersions.html,
	  trunk/doc/BelgianEid.html, trunk/doc/CardOs.html,
	  trunk/doc/CardReaders_CTAPI.html,
	  trunk/doc/CardReaders_SPR532.html,
	  trunk/doc/CardsAndTokens.html,
	  trunk/doc/CompatibilityIssues.html,
	  trunk/doc/CompatiblityIssues.html,
	  trunk/doc/CryptoIdendityItsec.html, trunk/doc/Cryptoflex.html,
	  trunk/doc/Cyberflex.html, trunk/doc/DesignDiscussion.html,
	  trunk/doc/DesignDiscussion_UserInterface.html,
	  trunk/doc/EstonianEid.html, trunk/doc/FinnishEid.html,
	  trunk/doc/GemplusGpk.html, trunk/doc/GermanEid.html,
	  trunk/doc/ItalianEid.html, trunk/doc/ItalianPostecert.html,
	  trunk/doc/LinuxDistributions.html, trunk/doc/MacOsX.html,
	  trunk/doc/Makefile.am, trunk/doc/MartinBlog.html,
	  trunk/doc/MartinBlogMuscle.html,
	  trunk/doc/MartinBlogPlatform.html, trunk/doc/OpenPgp.html,
	  trunk/doc/OpenSsh.html, trunk/doc/OpensslEngines.html,
	  trunk/doc/PinpadReaders.html, trunk/doc/PuTTYcard.html,
	  trunk/doc/README, trunk/doc/RainbowIkeyThree.html,
	  trunk/doc/RecentTestresults.html, trunk/doc/ReleaseHowto.html,
	  trunk/doc/ReplacingCertificates.html, trunk/doc/RoadMap.html,
	  trunk/doc/SchlumbergerEgate.html,
	  trunk/doc/SmartCardApplications.html, trunk/doc/SpanishEid.html,
	  trunk/doc/SubversionRepository.html,
	  trunk/doc/SupportedHardware.html, trunk/doc/SwedishEid.html,
	  trunk/doc/TaiwanEid.html, trunk/doc/TelseCos.html,
	  trunk/doc/TroubleShooting.html, trunk/doc/WindowsCsp.html,
	  trunk/doc/export-wiki.sh, trunk/doc/export-wiki.xsl,
	  trunk/doc/index.html, trunk/doc/pkcs11_keypair_gen.html,
	  trunk/doc/trac.css: Add wiki snapshot.

2005-07-17 19:49  aj

	* trunk/doc/old, trunk/docs: move docs/ to do/. mark it "old"
	  (plan is to use the wiki).

2005-07-17 19:19  aj

	* trunk/Makefile.am, trunk/configure.in, trunk/docs/cardos-info.1,
	  trunk/docs/cryptoflex-tool.1, trunk/docs/netkey-tool.1,
	  trunk/docs/opensc-config.1, trunk/docs/opensc-explorer.1,
	  trunk/docs/opensc-tool.1, trunk/docs/opensc.7,
	  trunk/docs/pkcs11-tool.1, trunk/docs/pkcs15-crypt.1,
	  trunk/docs/pkcs15-init.1, trunk/docs/pkcs15-profile.5.in,
	  trunk/docs/pkcs15-tool.1, trunk/docs/pkcs15.7,
	  trunk/docs/sc_connect_card.3,
	  trunk/docs/sc_detect_card_presence.3,
	  trunk/docs/sc_disconnect_card.3,
	  trunk/docs/sc_establish_context.3, trunk/docs/sc_file.3,
	  trunk/docs/sc_file_free.3, trunk/docs/sc_file_new.3,
	  trunk/docs/sc_list_files.3, trunk/docs/sc_lock.3,
	  trunk/docs/sc_pkcs15_compute_signature.3,
	  trunk/docs/sc_read_binary.3, trunk/docs/sc_read_record.3,
	  trunk/docs/sc_release_context.3, trunk/docs/sc_select_file.3,
	  trunk/man, trunk/man/cardos-info.1, trunk/man/cryptoflex-tool.1,
	  trunk/man/netkey-tool.1, trunk/man/opensc-config.1,
	  trunk/man/opensc-explorer.1, trunk/man/opensc-tool.1,
	  trunk/man/opensc.7, trunk/man/pkcs11-tool.1,
	  trunk/man/pkcs15-crypt.1, trunk/man/pkcs15-init.1,
	  trunk/man/pkcs15-profile.5.in, trunk/man/pkcs15-tool.1,
	  trunk/man/pkcs15.7, trunk/man/sc_connect_card.3,
	  trunk/man/sc_detect_card_presence.3,
	  trunk/man/sc_disconnect_card.3,
	  trunk/man/sc_establish_context.3, trunk/man/sc_file.3,
	  trunk/man/sc_file_free.3, trunk/man/sc_file_new.3,
	  trunk/man/sc_list_files.3, trunk/man/sc_lock.3,
	  trunk/man/sc_pkcs15_compute_signature.3,
	  trunk/man/sc_read_binary.3, trunk/man/sc_read_record.3,
	  trunk/man/sc_release_context.3, trunk/man/sc_select_file.3: move
	  man pages to man/ directory.

2005-07-17 09:39  aj

	* trunk/src/libp11/p11_key.c: fail() returned NULL, windows need
	  return 0;

2005-07-15 13:37  sth

	* trunk/src/tools/pkcs11-tool.c: If we want to test signing, first
	  see if the key can do this

2005-07-15 13:32  sth

	* trunk/src/pkcs15init/pkcs15-lib.c: Cast correctly

2005-07-14 10:38  aj

	* trunk/src/libp11/libp11-int.h, trunk/src/libp11/libp11.h,
	  trunk/src/libp11/p11_key.c: cert to key is even more interesting
	  than key to cert.

2005-07-13 17:11  aj

	* trunk/src/libp11/p11_load.c: Unload twice causes segfault.

2005-07-13 17:10  aj

	* trunk/src/libp11/libp11-int.h, trunk/src/libp11/libp11.h,
	  trunk/src/libp11/p11_ops.c, trunk/src/libp11/p11_rsa.c: make the
	  sign/encrypt/decrypt opterations public.

2005-07-13 13:50  aj

	* trunk/src/sslengines/engine_pkcs11.c: first step to eleminate
	  libpkcs11.

2005-07-13 13:48  aj

	* trunk/src/libp11/Makefile.am, trunk/src/libp11/libp11-int.h,
	  trunk/src/libp11/libp11.h, trunk/src/libp11/p11_rsa.c: commit
	  latest code, improve include file split, first steps towards
	  eleminating libpkcs11.

2005-07-13 11:47  aj

	* trunk/src/libp11/libp11-int.h: add new internal header file.

2005-07-13 11:41  aj

	* trunk/src/libp11/Makefile.am, trunk/src/libp11/libp11.h,
	  trunk/src/libp11/p11_attr.c, trunk/src/libp11/p11_cert.c,
	  trunk/src/libp11/p11_err.c, trunk/src/libp11/p11_key.c,
	  trunk/src/libp11/p11_load.c, trunk/src/libp11/p11_misc.c,
	  trunk/src/libp11/p11_ops.c, trunk/src/libp11/p11_rsa.c,
	  trunk/src/libp11/p11_slot.c: split libp11.h in an internal and a
	  public part. add p11_ops.c and other code by kevin stefanik.

2005-07-13 10:24  aj

	* trunk/src/libp11/Makefile.am: install header file, fix linking.

2005-07-13 08:25  sth

	* trunk/src/libp11/libp11.h: Increased the ID length

2005-07-12 21:03  nils

	* trunk/src/libopensc/dir.c: interpret rec_nr == 0 as a request to
	  create a new record, fix for bug report #21

2005-07-11 21:31  nils

	* trunk/src/libopensc/card.c: in case of T0 the Le value is
	  omitted for case 4 APDUs; patch supplied by
	  richard.musil@bigfoot.com

2005-07-11 21:28  nils

	* trunk/src/libopensc/iso7816.c, trunk/src/pkcs15init/profile.c:
	  fix file descriptor byte and ef_structure type; patch supplied
	  by richard.musil@bigfoot.com

2005-07-11 08:26  aj

	* trunk/src/sslengines/Makefile.am: remove reference to no longer
	  existing file pkcs11-internal.h

2005-07-10 20:32  aj

	* trunk/src/libp11/Makefile.am: fix compiling and distribution
	  package.

2005-07-10 18:40  aj

	* trunk/src/sslengines/Makefile.am,
	  trunk/src/sslengines/engine_pkcs11.c,
	  trunk/src/sslengines/hw_pkcs11.c: use new libp11.h header from
	  libp11.

2005-07-10 18:38  aj

	* trunk/src/libp11/p11_attr.c, trunk/src/libp11/p11_cert.c,
	  trunk/src/libp11/p11_err.c, trunk/src/libp11/p11_key.c,
	  trunk/src/libp11/p11_load.c, trunk/src/libp11/p11_misc.c,
	  trunk/src/libp11/p11_rsa.c, trunk/src/libp11/p11_slot.c: use new
	  name in include syntax.

2005-07-10 18:37  aj

	* trunk/configure.in, trunk/src/libp11/Makefile.am,
	  trunk/src/libp11/libp11.pc.in: enable libp11.pc pkg-config file.

2005-07-10 18:36  aj

	* trunk/src/libp11/libp11.h,
	  trunk/src/sslengines/pkcs11-internal.h: move and rename
	  pkcs11-internal.h to libp11.h

2005-07-10 17:03  aj

	* trunk/src/libp11/Makefile.am, trunk/src/libp11/Makefile.mak: add
	  Makefiles for libp11
	* trunk/src/pkcs11/Makefile.am: do not install libpkcs11 as shared
	  library.

2005-07-10 17:01  aj

	* trunk/src/Makefile.am, trunk/src/Makefile.mak, trunk/src/libp11,
	  trunk/src/libp11/p11_attr.c, trunk/src/libp11/p11_cert.c,
	  trunk/src/libp11/p11_err.c, trunk/src/libp11/p11_key.c,
	  trunk/src/libp11/p11_load.c, trunk/src/libp11/p11_misc.c,
	  trunk/src/libp11/p11_rsa.c, trunk/src/libp11/p11_slot.c,
	  trunk/src/sslengines/Makefile.am,
	  trunk/src/sslengines/p11_attr.c,
	  trunk/src/sslengines/p11_cert.c, trunk/src/sslengines/p11_err.c,
	  trunk/src/sslengines/p11_key.c, trunk/src/sslengines/p11_load.c,
	  trunk/src/sslengines/p11_misc.c, trunk/src/sslengines/p11_rsa.c,
	  trunk/src/sslengines/p11_slot.c: move p11_* into a new library.

2005-07-08 21:16  nils

	* trunk/src/pkcs11/pkcs11-display.c,
	  trunk/src/pkcs11/rsaref/pkcs11t.h: enhance attribute support;
	  patch supplied by supplied by Marc Bevand <bevand_m@epita.fr>

2005-07-08 21:04  nils

	* trunk/src/pkcs11/pkcs11-spy.c: fix check of the return value in
	  C_GetAttributeValue; supplied by Marc Bevand <bevand_m@epita.fr>

2005-07-06 12:59  sth

	* trunk/src/tools/pkcs11-tool.c: Oops, shouldn't have changed the
	  serial number size in x509cert_info to 256

2005-07-06 12:23  sth

	* trunk/src/tools/pkcs15-tool.c: No uint32_t type in MS VS

2005-07-05 17:45  sth

	* trunk/src/pkcs15init/pkcs15-lib.c: Don't ignore the
	  profile_option -- remark from Victor Tarasov

2005-07-05 17:43  sth

	* trunk/src/tools/pkcs15-init.c: Print an error if
	  sc_pkcs15init_bind() fails

2005-07-05 15:27  sth

	* trunk/src/tools/pkcs11-tool.c: Increased sizes in rsakey_info
	  struct

2005-07-05 15:22  sth

	* trunk/src/pkcs15init/setcos.profile: Typo fix
	* trunk/src/libopensc/card-setcos.c: SetCOS 4.4.1 supports keypair
	  generation, keysizes of 512, 768 and 1024 are fine

2005-07-05 13:34  sth

	* trunk/src/sslengines/p11_rsa.c: Macro cleanup, patch received
	  some time ago but appearently not committed

2005-07-01 22:37  nils

	* trunk/src/pkcs15init/pkcs15-etoken.c: remove unnecessary include

2005-07-01 08:40  nils

	* trunk/etc/opensc.conf.in: remove duplicate entry

2005-07-01 08:26  nils

	* trunk/etc/opensc.conf.in, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/card-atrust-acos.c,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-atrust-acos.c,
	  trunk/src/libopensc/pkcs15-syn.c: add initial support for atrust
	  acos cards; patch supplied by Franz Brandl <f.brandl@a-trust.at>

2005-07-01 07:17  nils

	* trunk/src/pkcs15init/pkcs15-etoken.c: remove unused variable

2005-07-01 06:27  nils

	* trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/cardctl.h,
	  trunk/src/pkcs15init/pkcs15-etoken.c: GIVE RANDOM is for sm, so
	  remove it from the etoken key generation code

2005-06-29 11:32  martin

	* trunk/src/libopensc/pkcs15-esteid.c: Make the names fit in
	  pkcs11 limits

2005-06-28 21:16  aj

	* trunk/src/tools/pkcs15-tool.c: oops, missed a #endif.

2005-06-28 20:33  aj

	* trunk/src/tools/pkcs15-tool.c: use uint32_t, it is a c++ stdtype
	  and should work on all plattforms.

2005-06-28 13:50  sth

	* trunk/src/tools/pkcs15-tool.c: Use uint32_t on Mac

2005-06-28 04:09  aj

	* trunk/src/openssh/ask-for-pin.diff: rediffed against openssh
	  4.1p1

2005-06-27 21:49  aj

	* trunk/src/openscd: openscd code hasn't been used by anyone in
	  years.

2005-06-27 13:52  martin

	* trunk/src/pkcs11/framework-pkcs15.c: Annoying typo

2005-06-27 13:51  martin

	* trunk/src/libopensc/card-mcrd.c: Adjust function name to reflect
	  documented functionality

2005-06-27 11:51  sth

	* trunk/src/tools/pkcs15-tool.c: No asm/types.h on MacOSX either

2005-06-27 11:47  aj

	* trunk/src/tests/regression/test.p12: add working file.
	* trunk/src/tests/regression/test.p12: remove broken file.

2005-06-27 10:08  martin

	* trunk/src/libopensc/reader-pcsc.c: Log in hex format of course...

2005-06-22 10:32  sth

	* trunk/src/tools/pkcs15-tool.c: Windows: no _uu32 in MS VS

2005-06-17 19:34  aj

	* trunk/docs/opensc.xml: add comment about usb crypto tokens.

2005-06-17 15:47  sth

	* trunk/src/libopensc/reader-pcsc.c: Fix: if a card is inserted,
	  the SC_SLOT_CARD_CHANGED flag must be set

2005-06-16 20:15  aj

	* trunk/src/sslengines/Makefile.am: small makefile fix.

2005-06-16 19:39  aj

	* trunk/src/tools/pkcs15-tool.c: make it compile without openssl.

2005-06-16 19:35  aj

	* trunk/QUICKSTART, trunk/doc/src/api/card/sc_card_ctl.xml,
	  trunk/doc/src/api/card/sc_wait_for_event.xml,
	  trunk/doc/src/api/file/sc_delete_record.xml,
	  trunk/doc/src/api/init/sc_connect_card.xml,
	  trunk/doc/src/api/init/sc_detect_card_presence.xml,
	  trunk/doc/src/api/init/sc_disconnect_card.xml,
	  trunk/doc/src/api/init/sc_set_card_driver.xml,
	  trunk/doc/src/api/types/sc_app_info_t.xml,
	  trunk/src/libopensc/card.c, trunk/src/libopensc/ctbcs.h,
	  trunk/src/libopensc/errors.c,
	  trunk/src/openssh/ask-for-pin.diff,
	  trunk/src/pkcs11/pkcs11-global.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/slot.c, trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/signer/opensc-crypto.c, trunk/src/signer/signer.c,
	  trunk/src/sslengines/engine_opensc.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-crypt.c,
	  trunk/src/tools/pkcs15-init.c, trunk/src/tools/pkcs15-tool.c:
	  "smart card" not "smartcard" or "SmartCard".

2005-06-16 19:28  aj

	* trunk/docs/netkey-tool.1, trunk/docs/opensc-es.html,
	  trunk/docs/opensc.html, trunk/docs/opensc.xml: "smart card" not
	  smartcard or SmartCards.

2005-06-16 18:13  aj

	* trunk/aclocal/pkg.m4: update to current version of pkg.m4 from
	  pkg-config.

2005-06-15 08:57  aj

	* trunk/src/tools/pkcs15-tool.c: add options for displaying
	  openssh keys.

2005-06-15 08:56  aj

	* trunk/src/pkcs11/Makefile.am, trunk/src/sslengines/Makefile.am:
	  move libraries from lib/pkcs11 to lib/, rename the engine dir to
	  engine, and make it "openssl" so openssl can load the engines
	  automaticaly.

2005-06-14 21:37  nils

	* trunk/docs/Makefile.am, trunk/docs/netkey-tool.1,
	  trunk/src/tools/Makefile.am, trunk/src/tools/netkey-tool.c: add
	  netkey-tool from Peter Koch

2005-06-07 14:31  martin

	* trunk/src/libopensc/reader-pcsc.c: It is plain wrong to call
	  again pcsc layer locking methods as card.c:sc_lock() already
	  does it when somebody goes to the card the very first time and
	  thus begins a transaction. iso7816.c methods should lock the
	  card in iso7816_pin_cmd() on card level if anything.

2005-06-07 12:43  martin

	* trunk/src/libopensc/card-oberthur.c: Add support for pinpad PIN
	  verification. Patch from Andreas Steffen

2005-05-22 20:07  nils

	* trunk/src/tools/pkcs11-tool.c: microsoft's vs 6.0 doesn't like
	  initialization during declaration. let's use memset instead

2005-05-21 10:21  nils

	* trunk/docs/pkcs11-tool.1, trunk/src/tools/pkcs11-tool.c: enhance
	  object writting support, patch supplied by Marc Bevand
	  <bevand_m@epita.fr>

2005-05-20 09:55  nils

	* trunk/src/pkcs11/pkcs11-display.c: cleanup, patch supplied by
	  Marc Bevand

2005-05-17 21:51  nils

	* trunk/src/libopensc/pkcs15-netkey.c: update from Peter Koch

2005-05-11 14:00  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Don't used cashed PINs for
	  a UserConsent key!

2005-05-10 19:58  sth

	* trunk/src/pkcs15init/setcos.profile: Better choices for the
	  sizes/FIDs + typo fix

2005-05-10 12:59  nils

	* trunk/src/libopensc/pkcs15-actalis.c: add certs only when we
	  have zlib support

2005-05-09 11:46  sth

	* trunk/src/pkcs15init/pkcs15-lib.c: If an object is added to a
	  pkcs15_card, don't call sc_pkcs15_free_object() on it

2005-05-08 21:30  nils

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/pkcs15-actalis.c,
	  trunk/src/libopensc/pkcs15-syn.c: add support for Actalis card;
	  patch supplied by Andrea Frigido

2005-05-07 22:22  nils

	* trunk/docs/pkcs11-tool.1, trunk/src/tools/pkcs11-tool.c: add
	  initialization support for token/pin; supplied by Marc Bevand
	  <marc.bevand@smartjog.com>

2005-05-06 13:52  sth

	* trunk/src/pkcs15init/pkcs15-setcos.c: Fix: re-link the SO-PIN to
	  the pkcs15 DF, otherwise the AC's in sc_pkcs15init_add_app() are
	  ignored resulting in a.o. an unprotected pkcs15 DF

2005-05-06 11:31  sth

	* trunk/src/pkcs15init/pkcs15-setcos.c,
	  trunk/src/pkcs15init/setcos.profile: Fixed handling of pkcs15
	  types and added support for storing pkcs15 data objects

2005-05-04 13:17  sth

	* trunk/src/pkcs15init/Makefile.mak: Have pkcs15init as a DLL
	  instead of as a static lib file

2005-05-03 09:33  martin

	* trunk/src/tests/pintest.c: Announce the capabilities of the
	  terminal 'press enter for pinpad'-enable the pintest utility

2005-05-02 19:17  sth

	* trunk/src/libopensc/card.c: Removed double line -- thx Nils

2005-05-02 18:48  sth

	* trunk/src/libopensc/card.c: atr table reallocation fix by
	  William Wanders

2005-05-02 09:43  sth

	* trunk/src/sslengines/engine_pkcs11.c: Removed unnessary
	  #includes from previous path

2005-05-02 09:41  sth

	* trunk/src/sslengines/engine_pkcs11.c: Typo fix -- causes compile
	  error on MS VS

2005-04-30 10:07  nils

	* trunk/src/sslengines/engine_pkcs11.c: free pin when ending a
	  pkcs11 session; patch supplied by Douglas E. Engert
	  <deengert@anl.gov>

2005-04-29 20:23  aj

	* trunk/QUICKSTART: create a key that does signing and decryption.

2005-04-26 09:09  aj

	* trunk/NEWS: Oops, didn't update news file yesterday before the
	  release. So at least document it now.

2005-04-25 21:00  nils

	* trunk/src/libopensc/pkcs15-infocamere.c: changes from Antonino
	  Iacono

2005-04-25 19:21  aj

	* trunk/src/libopensc/ui.c: Ludovic Rousseau: rxvt can also do
	  color so here is a patch.

2005-04-24 16:17  nils

	* trunk/src/libopensc/pkcs15-infocamere.c: changes from Antonino
	  Iacono

2005-04-24 09:28  nils

	* trunk/src/pkcs11/pkcs11-display.c: bugfix; supplied by Marc
	  Bevand <marc.bevand@smartjog.com>

2005-04-23 12:26  nils

	* trunk/src/sslengines/engine_opensc.c,
	  trunk/src/sslengines/engine_pkcs11.c: add callback_data
	  parameter to get_pin; supplied by Douglas E. Engert
	  <deengert@anl.gov>

2005-04-23 11:20  nils

	* trunk/src/libopensc/pkcs15-gemsafe.c: try file id if selection
	  via df name doesn't work; Douglas E. Engert <deengert@anl.gov>

2005-04-19 18:38  nils

	* trunk/src/libopensc/pkcs15-gemsafe.c: fix problem with unsigned
	  int; pointe out by Douglas E. Engert <deengert@anl.gov>

2005-04-17 16:43  nils

	* trunk/src/libopensc/pkcs15-infocamere.c: add support for yet
	  another infocamere card, submitted by Sirio Capizzi
	  <graaf@virgilio.it>

2005-04-16 13:42  nils

	* trunk/configure.in: check for zlib

2005-04-16 13:36  nils

	* trunk/src/libopensc/card-etoken.c: add yet another atr to
	  card-etoken.c

2005-04-16 12:06  nils

	* trunk/src/libopensc/card-flex.c: added yet another atr to
	  card-flex, supplied by: Giuseppe Raspanti <graspanti@crytron.com>

2005-04-16 10:40  nils

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/pkcs15-gemsafe.c,
	  trunk/src/libopensc/pkcs15-syn.c: add support for gpk16k gemsafe
	  cards, Douglas E. Engert et al

2005-04-16 10:37  nils

	* trunk/src/libopensc/card-setcos.c,
	  trunk/src/pkcs15init/pkcs15-setcos.c: cleanup

2005-04-16 10:21  martin

	* trunk/src/pkcs15init/pkcs15-starcos.c: scrandom interface is not
	  used by starcos

2005-04-12 20:46  aj

	* trunk/configure.in: set the version to "WIP" (work in progress)
	  for the snapshot script.

2005-04-11 06:36  nils

	* trunk/configure.in: make it work again (at least for me)

2005-04-10 21:58  nils

	* trunk/src/libopensc/pkcs15-syn.c: remove broken code, add
	  skeleton for a new function

2005-04-10 20:59  nils

	* trunk/src/libopensc/pkcs15-infocamere.c: disabled auth key/pin
	  as the IDs are wrong

2005-04-09 13:32  nils

	* trunk/src/libopensc/card-setcos.c: fix compiler warnings

2005-04-09 13:23  nils

	* trunk/src/sslengines/engine_pkcs11.c,
	  trunk/src/sslengines/engine_pkcs11.h,
	  trunk/src/sslengines/hw_pkcs11.c,
	  trunk/src/sslengines/test_engine.sh: add support cert loading,
	  patch supplied by Douglas E. Engert <deengert@anl.gov>

2005-04-07 19:45  martin

	* trunk/NEWS, trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/reader-pcsc.c: Small fixes in the teletrust
	  spec support code and related NEWS item

2005-04-07 08:45  aj

	* trunk/QUICKSTART: files were renamed - adjust QUICKSTART file.

2005-04-07 07:29  aj

	* trunk/Makefile.am, trunk/NEWS, trunk/solaris/opensc.conf-dist:
	  update trunk: include solaris/* files in tar file, update NEWS
	  with 0.9.6 changes, add profile_dir to solaris/openscc.conf-dist

2005-04-04 21:52  nils

	* trunk/src/libopensc/padding.c, trunk/src/libopensc/pkcs15.c:
	  cleanup

2005-04-04 09:30  sth

	* trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/cardctl.h, trunk/src/libopensc/cards.h,
	  trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/Makefile.mak,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-setcos.c,
	  trunk/src/pkcs15init/setcos.profile: Added initial support for
	  SetCOS 4.4 cards

2005-03-30 18:25  sth

	* trunk/src/libopensc/opensc.h, trunk/src/pkcs15init/pkcs15-lib.c:
	  If the SC_CARD_CAP_USE_FCI_AC flag is set,
	  sc_pkcs15init_authenticate() will check the file's ACs on the
	  card instead of relying on the ones in the profile file

2005-03-30 18:18  sth

	* trunk/src/libopensc/opensc.h: Added another life cycle state

2005-03-30 16:40  nils

	* branches/opensc-0.9/src/libopensc/asn1.c,
	  trunk/src/libopensc/asn1.c: bools are int; pointed out by
	  William Wanders <william@wanders.org>

2005-03-29 19:59  nils

	* trunk/src/tools/eidenv.c: fix for solaris; patch supplied by
	  Douglas E. Engert <deengert@anl.gov>

2005-03-29 07:30  aj

	* trunk/solaris, trunk/solaris/Makefile, trunk/solaris/README,
	  trunk/solaris/checkinstall.in, trunk/solaris/opensc.conf-dist,
	  trunk/solaris/pkginfo.in, trunk/solaris/proto: Add solaris/
	  subdir and files to make using opensc on solaris easier.

2005-03-26 20:10  sth

	* trunk/src/pkcs15init/pkcs15-lib.c: Moved init-card() till after
	  the pin-initialisation, this allows init-card() to do operation
	  with a pin without doing the pin stuff again. Shouldn't break
	  anything -- if it does, we'll undo this.

2005-03-26 20:00  sth

	* trunk/src/pkcs11/misc.c: Added opensc-to-pks11 error mapping

2005-03-26 19:48  sth

	* trunk/src/libopensc/sc.c: Prevent doubles in the ACL entries

2005-03-26 19:47  sth

	* trunk/src/libopensc/iso7816.c: Allow an empty path in
	  iso7816_delete_file(), to indicate that the current DF should be
	  deleted.

2005-03-26 19:35  sth

	* trunk/src/libopensc/opensc.h: No unistd.h on Windows

2005-03-26 19:33  sth

	* trunk/src/libopensc/Makefile.mak: Removed pinpad-ccid

2005-03-24 16:57  martin

	* trunk/src/libopensc/pkcs15-esteid.c: Parentheses too..

2005-03-24 16:54  martin

	* trunk/src/libopensc/pkcs15-esteid.c,
	  trunk/src/libopensc/reader-pcsc.c: * fix an return code from
	  ctbcs spec * make sure pins and puk are correctly associated in
	  esteid emu

2005-03-23 23:24  aj

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/reader-pcsc.c:
	  silence a few warnings.

2005-03-23 23:16  aj

	* trunk/etc/Makefile.am: use tab, not spaces.

2005-03-23 23:12  aj

	* trunk/etc/opensc.conf.in: fill in profile_dir in config file.
	* trunk/etc/Makefile.am, trunk/etc/opensc.conf.example,
	  trunk/etc/opensc.conf.in, trunk/etc/scldap.conf.example,
	  trunk/etc/scldap.conf.in: generate config file code with the
	  configure'd profile dir in opensc.conf.

2005-03-23 23:10  aj

	* trunk/src/libopensc/ctx.c, trunk/src/pkcs15init/profile.c,
	  trunk/src/pkcs15init/profile.h: apply improved profile handling
	  code.

2005-03-23 22:58  aj

	* trunk/src/include/winconfig.h: remove winreg.h as global include
	  (not needed in 99.9% of all files), remove obsolete config file
	  / profile dir definitions.

2005-03-23 22:44  aj

	* trunk/src/libopensc/card-flex.c: fix egate token with cryptoflex
	  on windows.

2005-03-23 22:37  aj

	* trunk/src/pkcs11/pkcs11-global.c: put new version in
	  pkcs11-global.c, too.

2005-03-23 21:31  aj

	* trunk/configure.in: library was changed in an incompatible way
	  since 0.8, so we need to go from 0 to 1.

2005-03-23 21:26  aj

	* trunk/NEWS: import news from 0.9 branch / releases.

2005-03-23 21:08  aj

	* trunk/.cvsignore, trunk/aclocal/.cvsignore,
	  trunk/doc/.cvsignore, trunk/docs/.cvsignore,
	  trunk/etc/.cvsignore, trunk/macos/.cvsignore,
	  trunk/src/.cvsignore, trunk/src/common/.cvsignore,
	  trunk/src/include/.cvsignore,
	  trunk/src/include/opensc/.cvsignore,
	  trunk/src/include/opensc/rsaref/.cvsignore,
	  trunk/src/libopensc/.cvsignore, trunk/src/openscd/.cvsignore,
	  trunk/src/openssh/.cvsignore, trunk/src/pam/.cvsignore,
	  trunk/src/pkcs11/.cvsignore, trunk/src/pkcs11/rsaref/.cvsignore,
	  trunk/src/pkcs15init/.cvsignore, trunk/src/scam/.cvsignore,
	  trunk/src/scconf/.cvsignore, trunk/src/scdl/.cvsignore,
	  trunk/src/scldap/.cvsignore, trunk/src/scrandom/.cvsignore,
	  trunk/src/sia/.cvsignore, trunk/src/signer/.cvsignore,
	  trunk/src/signer/npinclude/.cvsignore,
	  trunk/src/sslengines/.cvsignore, trunk/src/tests/.cvsignore,
	  trunk/src/tests/regression/.cvsignore,
	  trunk/src/tools/.cvsignore, trunk/win32/.cvsignore: remove
	  .cvsignore files.

2005-03-23 21:07  aj

	* trunk/debian: remove debian/ as it is obsolete and was not
	  maintained at all. this was eric can commit the current debian/
	  used by the official debian packages.

2005-03-18 20:36  nils

	* trunk/src/libopensc/pkcs15-esteid.c,
	  trunk/src/libopensc/pkcs15-infocamere.c,
	  trunk/src/libopensc/pkcs15-netkey.c,
	  trunk/src/libopensc/pkcs15-openpgp.c,
	  trunk/src/libopensc/pkcs15-postecert.c: fix free argument,
	  pointed out by Giuseppe Sacco
	  <giuseppe@eppesuigoccas.homedns.org>

2005-03-09 12:46  pisi

	* trunk/src/libopensc/pkcs15-pin.c: common pin validity check,
	  supprot (still disabled) for pinpads in modify and unblock

2005-03-09 12:44  pisi

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/pinpad-ccid.c,
	  trunk/src/libopensc/pinpad-ccid.h,
	  trunk/src/libopensc/reader-pcsc.c: Introduce TeleTrust Class 2
	  spec compliant pinpad functionality and incorporate the pinpad
	  functions directly to reader-pcsc.c. Mainly because the code
	  requires access to internal pcsc-only structures and splitting
	  some definitions to an extra header would not be very nice.
	  Also, the API is pcsc based and usable with other ifdhandlers
	  too, not just CCID.

2005-03-09 12:25  pisi

	* trunk/src/libopensc/card-mcrd.c: Minor additions

2005-03-09 11:45  pisi

	* trunk/etc/opensc.conf.example, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h: A single flag for all pkcs15 layer
	  applications to detect a) if pinpad is present b) and if we
	  should make use of it. Also remove the CCID specific option for
	  pinpad detection - if detected, the flag will anyway always be
	  set as it reflects the capabilities of the actual reader. Also,
	  the detection mechanism is changed to be crossplatform.

2005-03-09 11:14  pisi

	* trunk/src/libopensc/card.c, trunk/src/libopensc/internal.h:
	  copypaste ****s. Introduce a common internal function that
	  removes several copypastes

2005-03-09 10:47  pisi

	* trunk/src/libopensc/asn1.c: Space cleanups

2005-03-09 00:04  bert

	* trunk/src/openscd/commands.c,
	  trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/misc.c,
	  trunk/src/pkcs11/pkcs11-global.c, trunk/src/pkcs11/pkcs11-spy.c,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-jcop.c,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c,
	  trunk/src/pkcs15init/pkcs15-oberthur.c,
	  trunk/src/pkcs15init/pkcs15-starcos.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c, trunk/src/tests/sc-test.c,
	  trunk/src/tools/cardos-info.c,
	  trunk/src/tools/cryptoflex-tool.c, trunk/src/tools/eidenv.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-crypt.c,
	  trunk/src/tools/pkcs15-init.c, trunk/src/tools/pkcs15-tool.c,
	  trunk/src/tools/util.c: API fixup: use defined type instead of
	  struct for exposed structs (part 2)

2005-03-08 20:59  bert

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/card-belpic.c,
	  trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-emv.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-jcop.c,
	  trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-oberthur.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/ctbcs.c, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/dir.c, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/log.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/padding.c,
	  trunk/src/libopensc/pinpad-ccid.c,
	  trunk/src/libopensc/pkcs15-algo.c,
	  trunk/src/libopensc/pkcs15-cache.c,
	  trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-data.c,
	  trunk/src/libopensc/pkcs15-infocamere.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-postecert.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15-sec.c,
	  trunk/src/libopensc/pkcs15-starcert.c,
	  trunk/src/libopensc/pkcs15-wrap.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-openct.c,
	  trunk/src/libopensc/reader-pcsc.c, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/sec.c: API fixup: use defined type instead
	  of struct for exposed structs

2005-03-07 14:00  aet

	* trunk/etc/opensc.conf.example, trunk/src/include/winconfig.h,
	  trunk/src/libopensc/ctx.c, trunk/src/pkcs15init/profile.c,
	  trunk/src/pkcs15init/profile.h: - Add support for getting
	  location of the configuration file from Windows registry
	  (HKCU/HKLM) - Handle OPENSC_CONF environment variable on unix -
	  Add configuration option "profile_dir" to bypass build time
	  setting for pkcs15 initialization profiles directory Patch by
	  Andreas Jellinghaus, with minor enhancements from me.

2005-03-06 14:37  pisi

	* trunk/src/libopensc/card-flex.c: whitespace cleanups

2005-03-04 01:41  pisi

	* trunk/src/libopensc/reader-pcsc.c: consistent naming and trimmed
	  lines

2005-03-03 18:12  aet

	* trunk/src/tools, trunk/src/tools/.cvsignore,
	  trunk/src/tools/Makefile.am: - eidenv cleanup

2005-03-02 09:03  aet

	* trunk/src/tools/eidenv.c: - Minor fixes, convert crlf -> lf

2005-03-02 09:02  aet

	* trunk/configure.in: - Disable openscd

2005-03-02 08:11  pisi

	* trunk/src/Makefile.am: Removed openscd from
	  automake/distribution as it should be dead code.

2005-03-02 08:05  pisi

	* trunk/src/tools/Makefile.am, trunk/src/tools/eidenv.c: eidenv -
	  small utility for Estonian ID card *nix only)

2005-03-02 06:03  sth

	* trunk/src/libopensc/pkcs15-cache.c: Correctly check for reading
	  out of file bounds, thx to Sirio Capizi

2005-03-02 02:06  bert

	* trunk/doc/src/api/apps/sc_enum_apps.xml,
	  trunk/doc/src/api/apps/sc_find_app_by_aid.xml,
	  trunk/doc/src/api/apps/sc_find_pkcs15_app.xml,
	  trunk/doc/src/api/apps/sc_free_apps.xml,
	  trunk/doc/src/api/apps/sc_update_dir.xml,
	  trunk/doc/src/api/asn1/sc_asn1_decode.xml,
	  trunk/doc/src/api/asn1/sc_asn1_encode.xml,
	  trunk/doc/src/api/asn1/sc_asn1_find_tag.xml,
	  trunk/doc/src/api/asn1/sc_asn1_print_tags.xml,
	  trunk/doc/src/api/asn1/sc_asn1_put_tag.xml,
	  trunk/doc/src/api/asn1/sc_asn1_read_tag.xml,
	  trunk/doc/src/api/asn1/sc_asn1_skip_tag.xml,
	  trunk/doc/src/api/asn1/sc_asn1_verify_tag.xml,
	  trunk/doc/src/api/asn1/sc_copy_asn1_entry.xml,
	  trunk/doc/src/api/asn1/sc_format_asn1_entry.xml: Add XML header
	  + manual title

2005-03-02 02:01  bert

	* trunk/doc/src/api/init/sc_set_card_driver.xml,
	  trunk/doc/src/api/types/sc_file_t.xml,
	  trunk/doc/src/api/types/sc_path_t.xml: Work around simplelist bug

2005-03-02 00:30  bert

	* trunk/doc/src/api/card/sc_card_ctl.xml,
	  trunk/doc/src/api/card/sc_check_sw.xml,
	  trunk/doc/src/api/card/sc_format_apdu.xml,
	  trunk/doc/src/api/card/sc_get_challenge.xml,
	  trunk/doc/src/api/card/sc_get_data.xml,
	  trunk/doc/src/api/card/sc_lock.xml,
	  trunk/doc/src/api/card/sc_put_data.xml,
	  trunk/doc/src/api/card/sc_transmit_apdu.xml,
	  trunk/doc/src/api/card/sc_unlock.xml: Add proper XML header

2005-03-02 00:10  bert

	* trunk/doc/src/api/util/sc_base64_decode.xml,
	  trunk/doc/src/api/util/sc_base64_encode.xml,
	  trunk/doc/src/api/util/sc_der_clear.xml,
	  trunk/doc/src/api/util/sc_der_copy.xml,
	  trunk/doc/src/api/util/sc_strerror.xml: Add proper XML header

2005-03-02 00:08  bert

	* trunk/doc/src/api/init/sc_wait_for_event.xml: removed
	  sc_wait_for_event()

2005-03-01 23:33  bert

	* trunk/doc/src/api/file/chapter.xml,
	  trunk/doc/src/api/file/sc_append_record.xml,
	  trunk/doc/src/api/file/sc_create_file.xml,
	  trunk/doc/src/api/file/sc_delete_file.xml,
	  trunk/doc/src/api/file/sc_delete_record.xml,
	  trunk/doc/src/api/file/sc_file_dup.xml,
	  trunk/doc/src/api/file/sc_file_free.xml,
	  trunk/doc/src/api/file/sc_file_new.xml,
	  trunk/doc/src/api/file/sc_list_files.xml,
	  trunk/doc/src/api/file/sc_read_binary.xml,
	  trunk/doc/src/api/file/sc_read_record.xml,
	  trunk/doc/src/api/file/sc_select_file.xml,
	  trunk/doc/src/api/file/sc_update_binary.xml,
	  trunk/doc/src/api/file/sc_update_record.xml,
	  trunk/doc/src/api/file/sc_write_binary.xml,
	  trunk/doc/src/api/file/sc_write_record.xml: cleanup headers +
	  add manual title

2005-03-01 23:18  bert

	* trunk/doc/src/api/init/sc_card_valid.xml,
	  trunk/doc/src/api/init/sc_connect_card.xml,
	  trunk/doc/src/api/init/sc_detect_card_presence.xml,
	  trunk/doc/src/api/init/sc_disconnect_card.xml,
	  trunk/doc/src/api/init/sc_establish_context.xml,
	  trunk/doc/src/api/init/sc_get_cache_dir.xml,
	  trunk/doc/src/api/init/sc_make_cache_dir.xml,
	  trunk/doc/src/api/init/sc_release_context.xml,
	  trunk/doc/src/api/init/sc_set_card_driver.xml: clean up headers
	  + add manual title

2005-03-01 23:13  bert

	* trunk/doc/src/api/card/sc_wait_for_event.xml: fix typo's

2005-03-01 23:02  bert

	* trunk/doc/src/api/card/chapter.xml,
	  trunk/doc/src/api/card/sc_wait_for_event.xml,
	  trunk/doc/src/api/init/chapter.xml: Moved sc_wait_for_event() to
	  card ops

2005-03-01 22:58  bert

	* trunk/doc/src/api/init/chapter.xml,
	  trunk/doc/src/api/init/sc_wait_for_event.xml: Added
	  sc_wait_for_event()

2005-03-01 16:28  bert

	* trunk/doc/src/api/util/sc_base64_decode.xml,
	  trunk/doc/src/api/util/sc_base64_encode.xml,
	  trunk/doc/src/api/util/sc_der_clear.xml,
	  trunk/doc/src/api/util/sc_der_copy.xml,
	  trunk/doc/src/api/util/sc_strerror.xml: Added manual title

2005-03-01 16:11  bert

	* trunk/doc/src/api/types/chapter.xml: header file cleanup

2005-03-01 16:09  bert

	* trunk/doc/src/api/types/sc_app_info_t.xml,
	  trunk/doc/src/api/types/sc_asn1_entry.xml,
	  trunk/doc/src/api/types/sc_card_t.xml,
	  trunk/doc/src/api/types/sc_file_t.xml,
	  trunk/doc/src/api/types/sc_path_t.xml: header file cleanup +
	  manual title

2005-03-01 16:01  bert

	* trunk/doc, trunk/doc/.cvsignore: cvsignore

2005-03-01 15:56  bert

	* trunk/doc/Makefile, trunk/doc/src/api/api.xml,
	  trunk/doc/src/api/html.xsl, trunk/doc/src/api/man.xsl: New doc
	  build system

2005-02-28 20:08  bert

	* trunk/doc/src/api/init/sc_set_card_driver.xml,
	  trunk/doc/src/api/types/sc_card_t.xml: * openpgp card, not
	  opengpg * add atr_len field to sc_card_t

2005-02-27 07:25  sth

	* trunk/src/tools/pkcs15-crypt.c: Typo fix (thx Andreas, sorry Juha

2005-02-26 19:47  sth

	* trunk/src/tools/pkcs15-crypt.c: 'pinpad-enable' pkcs15-crypt: if
	  it's a pinpad and you press enter when being asked for a PIN,
	  you can enter the PIN on the reader

2005-02-25 23:57  bert

	* trunk/doc/src/api/api.css, trunk/doc/src/api/api.xml,
	  trunk/doc/src/api/types/sc_app_info_t.xml,
	  trunk/doc/src/api/types/sc_asn1_entry.xml,
	  trunk/doc/src/api/util/sc_strerror.xml: Added sc_app_info_t,
	  sc_asn1_entry and sc_strerror()

2005-02-25 23:56  bert

	* trunk/doc/src/api/asn1/sc_asn1_decode.xml,
	  trunk/doc/src/api/asn1/sc_copy_asn1_entry.xml,
	  trunk/doc/src/api/asn1/sc_format_asn1_entry.xml: Docbook
	  validation fixes

2005-02-25 23:55  bert

	* trunk/doc/src/api/apps/chapter.xml,
	  trunk/doc/src/api/asn1/chapter.xml,
	  trunk/doc/src/api/card/chapter.xml,
	  trunk/doc/src/api/file/chapter.xml,
	  trunk/doc/src/api/init/chapter.xml,
	  trunk/doc/src/api/types/chapter.xml,
	  trunk/doc/src/api/util/chapter.xml: Validation fixes

2005-02-25 21:17  pisi

	* trunk/src/sslengines/engine_pkcs11.c,
	  trunk/src/sslengines/p11_slot.c,
	  trunk/src/sslengines/pkcs11-internal.h: If the PKCS#11 token can
	  itself authenticate the user, we let it do it and ask nothing.
	  First because many applications that might link to the openssl
	  library would never-ever implement it and anyway it is the task
	  of the pkcs11 module to take care of the authentication however
	  the module/token feels feasible.

2005-02-24 11:11  aet

	* trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/cards.h:
	  - Some fine-tuning to get previous, current and future FinEID
	  cards working.

2005-02-23 23:36  bert

	* trunk/doc/src/api/api.xml, trunk/doc/src/api/apps,
	  trunk/doc/src/api/apps/chapter.xml,
	  trunk/doc/src/api/apps/sc_enum_apps.xml,
	  trunk/doc/src/api/apps/sc_find_app_by_aid.xml,
	  trunk/doc/src/api/apps/sc_find_pkcs15_app.xml,
	  trunk/doc/src/api/apps/sc_free_apps.xml,
	  trunk/doc/src/api/apps/sc_update_dir.xml,
	  trunk/doc/src/api/types/sc_card_t.xml: Added application
	  functions from dir.c Added app list to sc_card_t docs

2005-02-23 19:34  aet

	* trunk/src/tests/lottery.c, trunk/src/tests/prngtest.c: - Don't
	  loop forever

2005-02-23 19:09  aet

	* trunk/src/libopensc/opensc.h: - For completeness sake, add
	  SC_CARD_FLAG_VENDOR_MASK

2005-02-23 10:44  aet

	* trunk/NEWS: - Preliminary update for the next release

2005-02-23 10:39  aet

	* trunk/src/libopensc/card-openpgp.c: - Case cleanup

2005-02-23 02:52  bert

	* trunk/doc, trunk/doc/src, trunk/doc/src/api,
	  trunk/doc/src/api/api.css, trunk/doc/src/api/api.xml,
	  trunk/doc/src/api/asn1, trunk/doc/src/api/asn1/chapter.xml,
	  trunk/doc/src/api/asn1/sc_asn1_decode.xml,
	  trunk/doc/src/api/asn1/sc_asn1_encode.xml,
	  trunk/doc/src/api/asn1/sc_asn1_find_tag.xml,
	  trunk/doc/src/api/asn1/sc_asn1_print_tags.xml,
	  trunk/doc/src/api/asn1/sc_asn1_put_tag.xml,
	  trunk/doc/src/api/asn1/sc_asn1_read_tag.xml,
	  trunk/doc/src/api/asn1/sc_asn1_skip_tag.xml,
	  trunk/doc/src/api/asn1/sc_asn1_verify_tag.xml,
	  trunk/doc/src/api/asn1/sc_copy_asn1_entry.xml,
	  trunk/doc/src/api/asn1/sc_format_asn1_entry.xml,
	  trunk/doc/src/api/card, trunk/doc/src/api/card/chapter.xml,
	  trunk/doc/src/api/card/sc_card_ctl.xml,
	  trunk/doc/src/api/card/sc_check_sw.xml,
	  trunk/doc/src/api/card/sc_format_apdu.xml,
	  trunk/doc/src/api/card/sc_get_challenge.xml,
	  trunk/doc/src/api/card/sc_get_data.xml,
	  trunk/doc/src/api/card/sc_lock.xml,
	  trunk/doc/src/api/card/sc_put_data.xml,
	  trunk/doc/src/api/card/sc_transmit_apdu.xml,
	  trunk/doc/src/api/card/sc_unlock.xml, trunk/doc/src/api/file,
	  trunk/doc/src/api/file/chapter.xml,
	  trunk/doc/src/api/file/sc_append_record.xml,
	  trunk/doc/src/api/file/sc_create_file.xml,
	  trunk/doc/src/api/file/sc_delete_file.xml,
	  trunk/doc/src/api/file/sc_delete_record.xml,
	  trunk/doc/src/api/file/sc_file_dup.xml,
	  trunk/doc/src/api/file/sc_file_free.xml,
	  trunk/doc/src/api/file/sc_file_new.xml,
	  trunk/doc/src/api/file/sc_list_files.xml,
	  trunk/doc/src/api/file/sc_read_binary.xml,
	  trunk/doc/src/api/file/sc_read_record.xml,
	  trunk/doc/src/api/file/sc_select_file.xml,
	  trunk/doc/src/api/file/sc_update_binary.xml,
	  trunk/doc/src/api/file/sc_update_record.xml,
	  trunk/doc/src/api/file/sc_write_binary.xml,
	  trunk/doc/src/api/file/sc_write_record.xml,
	  trunk/doc/src/api/init, trunk/doc/src/api/init/chapter.xml,
	  trunk/doc/src/api/init/sc_card_valid.xml,
	  trunk/doc/src/api/init/sc_connect_card.xml,
	  trunk/doc/src/api/init/sc_detect_card_presence.xml,
	  trunk/doc/src/api/init/sc_disconnect_card.xml,
	  trunk/doc/src/api/init/sc_establish_context.xml,
	  trunk/doc/src/api/init/sc_get_cache_dir.xml,
	  trunk/doc/src/api/init/sc_make_cache_dir.xml,
	  trunk/doc/src/api/init/sc_release_context.xml,
	  trunk/doc/src/api/init/sc_set_card_driver.xml,
	  trunk/doc/src/api/init/sc_wait_for_event.xml,
	  trunk/doc/src/api/misc, trunk/doc/src/api/misc/chapter.xml,
	  trunk/doc/src/api/types, trunk/doc/src/api/types/chapter.xml,
	  trunk/doc/src/api/types/sc_card_t.xml,
	  trunk/doc/src/api/types/sc_file_t.xml,
	  trunk/doc/src/api/types/sc_path_t.xml, trunk/doc/src/api/util,
	  trunk/doc/src/api/util/chapter.xml,
	  trunk/doc/src/api/util/sc_base64_decode.xml,
	  trunk/doc/src/api/util/sc_base64_encode.xml,
	  trunk/doc/src/api/util/sc_der_clear.xml,
	  trunk/doc/src/api/util/sc_der_copy.xml: Initial checkin of new
	  docs

2005-02-22 21:03  nils

	* trunk/src/signer/opensc-crypto.c: bugfix

2005-02-22 07:59  aet

	* trunk/etc/opensc.conf.example, trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/card.c, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/internal.h, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-syn.c,
	  trunk/src/libopensc/reader-pcsc.c: - Introduce a new powerful
	  card_atr mechanism to opensc configuration file to handle any
	  configuring related to certain card / cards using atrmask. -
	  Rewrite Martin's force_protocol to _sc_check_forced_protocol()
	  to make it possible to share the code with other reader driver
	  implementations than pcsc. - Implement _sc_match_atr_block() to
	  help out with force protocol and pkcs15 emulation layers, to
	  find information that's not stored directly to sc_atr_table.

2005-02-20 08:26  aet

	* trunk/etc/opensc.conf.example, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/internal.h, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-syn.c: - Increase
	  SC_MAX_READER_DRIVERS / SC_MAX_CARD_DRIVERS - Some cleanups
	  before future commits

2005-02-15 14:41  pisi

	* trunk/src/pkcs11/libpkcs11.c: test label

2005-02-14 09:13  aet

	* trunk/src/libopensc/card-setcos.c: - Typo

2005-02-14 09:12  aet

	* trunk/src/libopensc/card.c, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/internal.h: - Fix a long-standing issue for
	  user configured atrs in the configuration file; free allocated
	  memory from the card_driver structures.

2005-02-13 18:24  aet

	* trunk/src/libopensc/card-etoken.c, trunk/src/libopensc/cards.h:
	  - Correct some information for Italian eid cards, I suppose.

2005-02-13 17:58  sth

	* trunk/src/libopensc/pinpad-ccid.c: Typo fix

2005-02-13 11:41  aet

	* trunk/src/Makefile.mak: - Fixed a typo (Bernhard Froehlich)

2005-02-13 08:43  aet

	* trunk/src/sslengines/engine_opensc.c,
	  trunk/src/sslengines/engine_pkcs11.c,
	  trunk/src/sslengines/hw_opensc.c,
	  trunk/src/sslengines/hw_pkcs11.c,
	  trunk/src/sslengines/p11_rsa.c: - Fix a pin issue with pinpad
	  readers (Bernhard Froehlich, Martin Paljak) -
	  UI_add_input_string enhancements (Martin Paljak) - printf
	  cleanups

2005-02-12 10:29  aet

	* trunk/QUICKSTART: - Update the atr example output

2005-02-11 20:43  aet

	* trunk/configure.in: - Merge between opensc / openct

2005-02-11 20:09  aet

	* trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/pinpad-ccid.c,
	  trunk/src/libopensc/pkcs15-esteid.c,
	  trunk/src/libopensc/pkcs15.c,
	  trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/misc.c,
	  trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/pkcs11-session.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/slot.c, trunk/src/sslengines/engine_opensc.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/pkcs11-tool.c, trunk/src/tools/pkcs15-tool.c: -
	  Whitespace cleanup from me and Martin Paljak

2005-02-11 20:02  aet

	* trunk/configure.in: - make use of AC_HELP_STRING in configure.in
	  (Martin Paljak)

2005-02-11 10:05  aet

	* trunk/src/libopensc/pkcs15.c: - A fix for ISO 7816-15 cards I'm
	  playing with. No feedback received about the patch, let's move
	  on. The patch shouldn't affect any current behaviour.

2005-02-11 10:03  aet

	* trunk/src/libopensc/pinpad-ccid.c: - A patch for belpic and
	  other global platform pin cards (Martin Paljak)

2005-02-11 10:01  aet

	* trunk/src/libopensc/Makefile.am: - Add cards.h

2005-02-10 14:30  aet

	* trunk/docs/opensc.html, trunk/docs/opensc.xml: - Remove entries
	  from TODO list (Martin Paljak)

2005-02-10 12:48  aet

	* trunk/src/libopensc/card-flex.c: - Add ATR for a CryptoFlex card
	  from Mario Strasser, that I forgot to add over six months ago.

2005-02-10 10:09  aet

	* trunk/src/libopensc/internal.h: - Change sc_atr_table->id to
	  type, so the name is synced between sc_atr_table and sc_card
	  structures.

2005-02-10 10:08  aet

	* trunk/src/libopensc/cards.h: - Add cards.h

2005-02-10 10:07  aet

	* trunk/src/libopensc/card-belpic.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-jcop.c,
	  trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-oberthur.c,
	  trunk/src/libopensc/card-openpgp.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/pkcs15-esteid.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c: - First stab towards
	  standardized card types

2005-02-10 09:57  aet

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/card-oberthur.h,
	  trunk/src/pkcs15init/pkcs15-oberthur.c: - Remove card-oberthur.h

2005-02-10 09:56  aet

	* trunk/src/include/opensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak: - Add cards.h

2005-02-09 20:16  aet

	* trunk/src/libopensc/cardctl.h: - Remove outdated comment, part
	  of the information wasn't even correct.

2005-02-09 20:03  aet

	* trunk/src/libopensc/card-flex.c, trunk/src/libopensc/cardctl.h:
	  - Cleanup

2005-02-09 19:15  aet

	* trunk/src/libopensc/cardctl.h, trunk/src/libopensc/esteid.h,
	  trunk/src/libopensc/ui.h: - Cleanup

2005-02-09 14:47  aet

	* trunk/src/libopensc/card-belpic.c,
	  trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/card-tcos.c: - Unify a bit the output of
	  commands like opensc-tool -D

2005-02-09 14:09  aet

	* trunk/src/libopensc/card.c: - Fix for the previous commit

2005-02-09 14:07  aet

	* trunk/src/libopensc/card.c: - _sc_match_atr: add support for
	  atrmask field in sc_atr_table

2005-02-09 14:05  aet

	* trunk/src/libopensc/card-setcos.c: - Cleanup
	* trunk/src/libopensc/internal.h: - Add comments

2005-02-09 11:37  aet

	* trunk/src/libopensc/card-setcos.c: - Checkpoint commit, add
	  support for the next generation FinEID cards with ISO/IEC
	  7816-15 layout.

2005-02-09 11:33  aet

	* trunk/src/libopensc/card-belpic.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-jcop.c,
	  trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-oberthur.c,
	  trunk/src/libopensc/card-openpgp.c,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/internal.h:
	  - Add atrmask to sc_atr_table

2005-02-08 19:49  nils

	* trunk/src/pkcs15init/pkcs15.profile: remove unused profile entry

2005-02-08 19:33  nils

	* trunk/src/pkcs15init/pkcs15-lib.c: remove unused define

2005-02-08 09:51  aet

	* trunk/src/tools/pkcs15-init.c: - Warning fix

2005-02-07 22:43  nils

	* trunk/src/libopensc/card.c: workaround for broken cashmouse
	  driver

2005-02-07 17:03  aet

	* trunk/src/libopensc/dir.c, trunk/src/libopensc/pkcs15-esteid.c,
	  trunk/src/libopensc/pkcs15-syn.c: - Fixed typos

2005-02-07 11:40  aet

	* trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/reader-pcsc.c: - Cleanup

2005-02-07 10:58  nils

	* trunk/src/libopensc/pkcs15-pin.c: remove outdated comment

2005-02-07 10:53  nils

	* trunk/src/libopensc/pkcs15-pin.c: fix usage of
	  sc_pkcs15_pin_info_t::max_length etc.

2005-02-06 21:38  nils

	* trunk/src/libopensc/pkcs15-openpgp.c: no need to include
	  internal.h and asn1.h

2005-02-06 21:34  nils

	* trunk/src/libopensc/pkcs15-openpgp.c: update, note: this totally
	  untested

2005-02-06 21:32  nils

	* trunk/src/libopensc/pkcs15-syn.c: fix type flag

2005-02-06 21:01  nils

	* trunk/src/tools/pkcs15-init.c: const fixes etc.

2005-02-06 20:46  nils

	* trunk/src/libopensc/pkcs15-infocamere.c,
	  trunk/src/libopensc/pkcs15-postecert.c: as every card structure
	  has an own copy of the card ops struc, allocating a new one
	  shouldn't be necessary

2005-02-06 20:14  aet

	* trunk/src/libopensc/card.c: - Ahm, fixed a typo in the previous
	  commit

2005-02-06 19:40  aet

	* trunk/src/libopensc/card-belpic.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-jcop.c,
	  trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-oberthur.c,
	  trunk/src/libopensc/card-openpgp.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-esteid.c, trunk/src/libopensc/sc.c: -
	  Optimize a few cpu cycles from _sc_match_atr_hex - Replace
	  struct sc_atr_table / _sc_match_atr with recently introduced
	  _hex variants - Rewrote _add_atr - Introduce int type variable
	  to sc_card_t, so that every other card driver won't have to glue
	  around with this - Card driver cleanups, optimize the number of
	  sc_match_atr called per card driver. Also always try direct
	  match with _sc_match_atr first, before relying on eg. historical
	  bytes information on some card drivers - Fixed a memory leak
	  from the miocos driver

2005-02-06 10:28  nils

	* trunk/src/pkcs11/pkcs11-display.c,
	  trunk/src/pkcs11/pkcs11-display.h,
	  trunk/src/pkcs11/pkcs11-spy.c: declare some functions static +
	  some type fixes

2005-02-06 10:06  aet

	* trunk/src/tools/pkcs11-tool.c, trunk/src/tools/pkcs15-init.c: -
	  Warning fix

2005-02-06 09:09  aet

	* trunk/configure.in: - Give up, just use CoreFoundation framework
	  instead of -lobjc

2005-02-06 08:57  aet

	* trunk/src/libopensc/card-oberthur.c: - Cleanup

2005-02-06 08:53  aet

	* trunk/src/pam/pam_support.c: - Warning fix, build fix

2005-02-05 10:02  nils

	* trunk/src/tools/opensc-tool.c: even more cleanup

2005-02-05 09:54  nils

	* trunk/src/tools/cryptoflex-tool.c: cleanup

2005-02-04 22:52  nils

	* trunk/src/tools/pkcs15-crypt.c, trunk/src/tools/pkcs15-tool.c:
	  declare some functions static plus some type fixes

2005-02-04 22:33  nils

	* trunk/src/tools/pkcs11-tool.c: remove unreachable code, make
	  some functions static and fix parameter type

2005-02-04 22:11  nils

	* trunk/src/libopensc/card-starcos.c: cleanup

2005-02-04 20:29  aet

	* trunk/src/libopensc/card-belpic.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-jcop.c,
	  trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-oberthur.c,
	  trunk/src/libopensc/card-oberthur.h,
	  trunk/src/libopensc/card-openpgp.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/card-tcos.c,
	  trunk/src/libopensc/pkcs15-esteid.c: - Unify all card drivers
	  ATR matching code to use _sc_match_atr_hex, untested as of yet.

2005-02-04 18:10  nils

	* trunk/src/tools/opensc-explorer.c: fix some compiler warnings

2005-02-04 17:32  aet

	* trunk/src/libopensc/pkcs15-postecert.c: - Indent cleanups

2005-02-04 17:29  aet

	* trunk/src/libopensc/pkcs15-starcert.c: - Revert previous patch,
	  it's unnecessary after recent changes

2005-02-04 15:57  aet

	* trunk/src/libopensc/card.c, trunk/src/libopensc/internal.h: -
	  Introduce _sc_match_atr_hex / struct sc_atr_table_hex.

2005-02-04 14:38  aet

	* trunk/src/tests/sc-test.c: - Cleanup ATR dumping code

2005-02-04 11:43  aet

	* trunk/src/libopensc/pkcs15-starcert.c: - Add internal.h, that's
	  where the config.h and other general stuff comes from.

2005-02-04 09:27  nils

	* trunk/src/libopensc/pkcs15-esteid.c,
	  trunk/src/libopensc/pkcs15-netkey.c,
	  trunk/src/libopensc/pkcs15-starcert.c: use strncpy instead of
	  snprintf + update of pkcs15-netkey.c

2005-02-03 22:44  nils

	* trunk/src/libopensc/cardctl.h, trunk/src/libopensc/esteid.h,
	  trunk/src/libopensc/pinpad-ccid.c,
	  trunk/src/libopensc/pkcs15-esteid.c,
	  trunk/src/pkcs11/framework-pkcs15.c: indent fixes and cleanup by
	  Martin Paljak

2005-02-02 22:18  nils

	* trunk/src/libopensc/pkcs15-starcert.c: make win compilers happy
	  (include config.h)

2005-02-02 21:18  nils

	* trunk/src/libopensc/pkcs15-esteid.c,
	  trunk/src/libopensc/pkcs15-starcert.c,
	  trunk/src/libopensc/pkcs15-syn.c, trunk/src/libopensc/pkcs15.h:
	  first part of a pkcs15 emulation driver cleanup/rework: use new
	  api the create pkcs15 objects (note: the part enclosed in
	  '#ifndef OPENSC_NO_DEPRECATED' statement will be removed in
	  someday). At first only for pkcs15-esteid.c and
	  pkcs15-starcert.c but the others will follow soon (including
	  some documentation)

2005-02-02 10:21  aet

	* trunk/src/libopensc/asn1.h, trunk/src/libopensc/cardctl.h,
	  trunk/src/libopensc/emv.h, trunk/src/libopensc/errors.h,
	  trunk/src/libopensc/internal.h, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/types.h,
	  trunk/src/pkcs15init/keycache.h,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/profile.h,
	  trunk/src/sslengines/pkcs11-internal.h,
	  trunk/src/tests/sc-test.h, trunk/src/tools/util.h: - Cleanup,
	  typo fix

2005-02-01 19:09  nils

	* trunk/src/libopensc/pkcs15-sec.c: fix indent

2005-02-01 19:03  nils

	* trunk/src/libopensc/card-starcos.c: add debugging output

2005-02-01 19:02  nils

	* trunk/src/pkcs11/framework-pkcs15.c: bugfix: reselect
	  application directory when lock_login=false is set (at the
	  moment only for pkcs15_prkey_sign and pkcs15_prkey_decrypt),
	  see:
	  http://www.opensc.org/pipermail/opensc-devel/2005-January/005345.html

2005-02-01 07:53  sth

	* trunk/src/libopensc/card-belpic.c: Work-around for the lack of
	  FCI info, so the card can be used with opensc-explorer

2005-02-01 07:52  sth

	* trunk/src/libopensc/opensc.h, trunk/src/tools/opensc-explorer.c:
	  Work-around for cards that don't return FCI info

2005-01-30 19:20  sth

	* trunk/src/include/winconfig.h,
	  trunk/src/libopensc/card-belpic.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/opensc.h: Have the option add a delay before
	  resending an APDU (after a 6CXX response). Is needed for most
	  current belpic cards on fast readers

2005-01-30 13:50  aet

	* trunk/src/libopensc/card-belpic.c: - Indent source

2005-01-30 13:29  aet

	* trunk/src/libopensc/card-belpic.c: - Cleanups

2005-01-29 12:14  sth

	* trunk/src/libopensc/card-belpic.c: Added belpic card driver

2005-01-29 12:10  sth

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/opensc.h: src/libopensc/card-belpic.c

2005-01-29 10:51  aet

	* trunk/configure.in: - Show package version when configure is
	  finished

2005-01-29 10:49  aet

	* trunk/src/libopensc/ctbcs.c, trunk/src/libopensc/ctbcs.h,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/reader-ctapi.c: -
	  Add experimental multi-slot support for CT-API and CT-BCS 1.0
	  enhancements. (Bernhard Froehlich <ted@convey.de>) - Enable
	  CT-API for win32

2005-01-29 10:44  aet

	* trunk/src/libopensc/reader-pcsc.c: - Build fix

2005-01-29 09:13  aet

	* trunk/src/libopensc, trunk/src/libopensc/.cvsignore: Update

2005-01-29 09:12  aet

	* trunk/Makefile.am: - Require automake 1.5 or later

2005-01-28 21:22  nils

	* trunk/src/libopensc/card.c: yet another fix

2005-01-28 20:41  sth

	* trunk/src/libopensc/Makefile.mak: Added pinpad-ccid.obj

2005-01-28 20:39  sth

	* trunk/src/libopensc/pinpad-ccid.h,
	  trunk/src/libopensc/reader-pcsc.c: Windows fix: SCARD_CTL_CODE
	  is already #defined in a Windows header

2005-01-27 22:52  nils

	* trunk/src/pkcs15init/pkcs15-lib.c: fix last commit

2005-01-27 21:35  sth

	* trunk/src/libopensc/asn1.c: Fix: stop parsing at the end of the
	  file, not when finding padding bytes

2005-01-25 11:45  aet

	* trunk/src/libopensc/reader-pcsc.c: - Build fix

2005-01-25 11:11  aet

	* trunk/etc/opensc.conf.example,
	  trunk/src/libopensc/reader-pcsc.c: - Add use_ccid_pin_cmd
	  boolean to opensc.conf, for now.

2005-01-24 22:10  nils

	* trunk/src/libopensc/card.c: fix lock/unlock mismatch

2005-01-24 19:46  aet

	* trunk/src/libopensc/ctbcs.c, trunk/src/libopensc/pinpad-ccid.c:
	  - Cleanup

2005-01-24 18:30  aet

	* trunk/configure.in, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/pinpad-ccid.c,
	  trunk/src/libopensc/pinpad-ccid.h,
	  trunk/src/libopensc/reader-pcsc.c: - Early ccid pinpad cleanups,
	  more to follow

2005-01-24 17:20  nils

	* trunk/configure.in: add two more options: one for Martin's
	  pinpad stuff and one for enable/disable logging of sensitive
	  apdu data

2005-01-24 17:19  nils

	* trunk/src/libopensc/card.c: make it configurable whether or not
	  allow logging of sensitive apdu command data at all (to please
	  the Belgian EID guys ;-)

2005-01-24 11:31  nils

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pinpad-ccid.c,
	  trunk/src/libopensc/pinpad-ccid.h,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-openct.c,
	  trunk/src/libopensc/reader-pcsc.c: merge Martin Paljak's ccid
	  pinpad changes from the OPENSC_0_9 branch to the cvs head

2005-01-23 19:48  nils

	* trunk/src/tools/pkcs11-tool.c: just issue a warning in case of a
	  missing attribute, patch supplied by Philipp Marek (with some
	  changes from me)

2005-01-23 10:14  aet

	* trunk/aclocal/Makefile.am, trunk/aclocal/pkg.m4: - Add pkg.m4
	  for pkg-config depencies

2005-01-21 18:47  nils

	* trunk/src/tools/opensc-explorer.c: more indent fixes from Martin
	  Paljak

2005-01-21 18:31  nils

	* trunk/src/pkcs15init/pkcs15-lib.c: fix more memory leaks

2005-01-21 18:25  nils

	* trunk/src/tools/pkcs15-init.c: fix memory leak

2005-01-21 11:06  nils

	* trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-lib.c: fix memory leaks

2005-01-21 10:04  nils

	* trunk/src/pkcs15init/profile.c: fix memory leak: use object
	  specific release method

2005-01-19 20:39  nils

	* trunk/src/tools/opensc-tool.c: print the atr in standard opensc
	  hex format, patch supplied by Martin Paljak

2005-01-19 20:12  nils

	* trunk/src/pkcs11/pkcs11-object.c: even more indent issues

2005-01-19 19:56  nils

	* trunk/src/libopensc/card-mcrd.c: fix debug message + remove
	  empty lines, patch supplied by Martin Paljak

2005-01-19 19:52  nils

	* trunk/src/pkcs11/slot.c: fix indent again

2005-01-19 18:15  nils

	* trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/misc.c,
	  trunk/src/pkcs11/pkcs11-display.c,
	  trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/pkcs11-session.c,
	  trunk/src/pkcs11/pkcs11-spy.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/slot.c: some indent fixes from Martin Paljak
	  plus some additional changes from me

2005-01-19 16:17  nils

	* trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-sec.c,
	  trunk/src/libopensc/reader-pcsc.c, trunk/src/libopensc/sec.c:
	  fix indent, patch supplied by Martin Paljak

2005-01-19 16:12  nils

	* trunk/src/tools/pkcs11-tool.c: don't print key length in case of
	  a private key (as private key doesn't have the CKA_MODULUS_BITS
	  attribute)

2005-01-19 08:00  nils

	* trunk/src/common/getpass.c, trunk/src/tools/opensc-explorer.c:
	  fix indent, patch supplied by Martin Paljak

2005-01-18 21:42  nils

	* trunk/src/libopensc/pkcs15-pin.c, trunk/src/libopensc/sec.c:
	  cleanup pin handling (set and use sc_pin_cmd_pin->pad_length +
	  use pkcs15 puk object if existing)

2005-01-17 09:10  nils

	* trunk/src/libopensc/sec.c: of course we should not do it

2005-01-16 21:12  sth

	* trunk/src/Makefile.mak, trunk/src/libopensc/Makefile.mak,
	  trunk/src/pkcs11/Makefile.mak,
	  trunk/src/sslengines/Makefile.mak, trunk/src/tools/Makefile.mak,
	  trunk/win32/Make.rules.mak: Simplified the procedure to link
	  with openssl on Windows: now you only need to slightly change
	  Make.rules.mak instead of hacking in several Makefile.mak files

2005-01-16 14:24  aet

	* trunk/src/libopensc/reader-ctapi.c: - Add dynamic loading
	  support for win32, Bernhard Froehlich <ted@convey.de>

2005-01-16 13:29  aet

	* trunk/QUICKSTART: - Spell checks

2005-01-14 23:14  nils

	* trunk/src/pkcs15init/pkcs15-lib.c: in case of SC_AC_UNKNOWN it
	  doesn't make much sense to verify something + add missing
	  suppress_errors--

2005-01-13 21:52  nils

	* trunk/docs/pkcs15-init.1, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15-tool.c: change auth_id -> id, show pin
	  type, update pkcs15-init manpage

2005-01-13 20:28  nils

	* trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/iso7816.c: starcos: use iso decipher,
	  iso7816: set le to 256 == 0x00

2005-01-09 20:10  nils

	* trunk/src/libopensc/pkcs15-pin.c: remove misleading comment

2005-01-08 10:20  nils

	* trunk/src/libopensc/pkcs15-pin.c: evaluate pkcs15 pin type

2005-01-07 18:50  nils

	* trunk/src/libopensc/opensc.h: types are unsigned int

2005-01-04 19:45  aet

	* trunk/src/libopensc/reader-ctapi.c: - fixed a typo, pointed out
	  by Bernhard Froehlich <ted@convey.de>

2005-01-03 17:47  nils

	* trunk/src/libopensc/ctx.c: dump version info in the log

2005-01-03 17:25  nils

	* trunk/src/pkcs11/openssl.c, trunk/src/pkcs11/pkcs11-session.c,
	  trunk/src/pkcs11/secretkey.c, trunk/src/pkcs15init/keycache.c,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/profile.c: some cleanup + improved error
	  checking

2005-01-03 17:20  nils

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/pkcs15-algo.c,
	  trunk/src/libopensc/pkcs15.c: some cleanup + improved error
	  checking

2004-12-29 23:20  nils

	* trunk/src/libopensc/pkcs15-syn.c: check calloc return value

2004-12-29 23:11  nils

	* trunk/src/libopensc/pkcs15-syn.c: bugfix, pointed out by David
	  Mattes <david.mattes@boeing.com>

2004-12-27 14:33  nils

	* trunk/src/libopensc/ctx.c: cleanup

2004-12-27 13:22  nils

	* trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15.h: add data field for subject
	  Common{Private|Public}KeyAttributes

2004-12-24 23:24  nils

	* trunk/src/libopensc/card-flex.c: implement serial number support
	  for cryptoflex cards

2004-12-23 10:49  nils

	* trunk/src/libopensc/asn1.c: fix type, found by T.Fujita
	  <fujita@ouk.jp>

2004-12-23 09:28  aet

	* trunk/src/signer/Makefile.am: - Revert the previous patch, as it
	  broke the snapshot generation and has been broken since.. July?
	  No new automatic snapshots until some hardware issues have been
	  solved.

2004-12-22 10:17  nils

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/pkcs11-global.c: cleanup ...

2004-12-22 09:54  nils

	* trunk/src/libopensc/cardctl.h, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15.h: flags/types are unsigned int, the
	  exponent shouldn't be negative and more const

2004-12-22 09:48  nils

	* trunk/src/pkcs15init/keycache.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c,
	  trunk/src/pkcs15init/pkcs15-oberthur.c,
	  trunk/src/pkcs15init/pkcs15-starcos.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h:
	  cleanup: -index shadows a variable in /usr/include/string.h
	  -some signed vs. unsigned issues -and some const cleanup

2004-12-21 22:38  nils

	* trunk/src/libopensc/card-oberthur.c,
	  trunk/src/libopensc/card-oberthur.h,
	  trunk/src/libopensc/cardctl.h: cleanup: signed vs. unsigned and
	  some const

2004-12-21 21:52  nils

	* trunk/src/libopensc/pkcs15-openpgp.c: more const ...

2004-12-21 21:47  nils

	* trunk/src/libopensc/pkcs15-esteid.c: more const

2004-12-21 21:43  nils

	* trunk/src/libopensc/pkcs15-netkey.c: cleanup: declare structures
	  as const

2004-12-21 15:00  nils

	* trunk/src/libopensc/card-miocos.c: signed vs. unsigned

2004-12-21 14:01  nils

	* trunk/src/libopensc/log.c: char * -> const char *

2004-12-21 13:56  nils

	* trunk/src/libopensc/ctbcs.c: disable unused functions

2004-12-21 13:22  nils

	* trunk/src/libopensc/reader-pcsc.c: fix compiler warnings

2004-12-21 11:03  nils

	* trunk/src/libopensc/reader-pcsc.c: remove superfluous code,
	  Martin Paljak <martin@paljak.pri.ee>

2004-12-21 09:54  nils

	* trunk/etc/opensc.conf.example, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/reader-pcsc.c:
	  force_protocol cleanup from Martin Paljak <martin@paljak.pri.ee>

2004-12-20 20:05  nils

	* trunk/src/tools/pkcs11-tool.c: fix help message (supplied by
	  Philipp Marek)

2004-12-20 19:44  nils

	* trunk/src/pkcs11/framework-pkcs15.c: fix public key reference

2004-12-20 08:03  nils

	* trunk/src/tools/opensc-tool.c: dump serial number only if we
	  have one

2004-12-18 14:14  nils

	* trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-data.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h,
	  trunk/src/pkcs11/framework-pkcs15.c: fix memory leak, cleanup:
	  use object specific release method

2004-12-16 08:50  nils

	* trunk/docs/opensc-tool.1, trunk/src/tools/opensc-tool.c: serial
	  number support for opensc-tool

2004-12-15 19:59  nils

	* trunk/src/libopensc/card-gpk.c: implement serial number support
	  for gpk 16k cards

2004-12-15 18:18  aet

	* trunk/configure.in: - Big bunch of OpenSSL and some other fixes

2004-12-15 18:10  aet

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/sslengines/Makefile.am: - Cleanups

2004-12-15 18:01  aet

	* trunk/src/libopensc/card-oberthur.c: - Build fixes

2004-12-15 17:34  nils

	* trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-oberthur.c,
	  trunk/src/libopensc/card-openpgp.c,
	  trunk/src/libopensc/pkcs15-esteid.c,
	  trunk/src/libopensc/pkcs15-infocamere.c,
	  trunk/src/libopensc/pkcs15-netkey.c,
	  trunk/src/libopensc/pkcs15-openpgp.c,
	  trunk/src/libopensc/pkcs15-postecert.c,
	  trunk/src/libopensc/pkcs15-starcert.c: cleanup ...

2004-12-15 15:42  aet

	* trunk/src/include/winconfig.h: - Update version for win32 build

2004-12-15 14:47  aet

	* trunk/src/pkcs15init/pkcs15-oberthur.c: - Cleanup

2004-12-15 13:57  aet

	* trunk/ANNOUNCE, trunk/NEWS, trunk/QUICKSTART: - Preparations for
	  the next release

2004-12-15 13:53  aet

	* trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/pkcs15-esteid.c,
	  trunk/src/libopensc/pkcs15-infocamere.c,
	  trunk/src/libopensc/pkcs15-netkey.c,
	  trunk/src/libopensc/pkcs15-postecert.c,
	  trunk/src/libopensc/pkcs15-starcert.c,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-oberthur.c,
	  trunk/src/pkcs15init/pkcs15-starcos.c,
	  trunk/src/scam/cert_support.c, trunk/src/sslengines/p11_rsa.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/pkcs11-tool.c: - Build / warning fixes

2004-12-15 10:56  aet

	* trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-oberthur.c,
	  trunk/src/libopensc/pkcs15-esteid.c,
	  trunk/src/pkcs15init/pkcs15-oberthur.c,
	  trunk/src/sslengines/engine_pkcs11.c: - Convert C++ comments
	  into C to avoid compiler errors on some platforms

2004-12-15 09:35  nils

	* trunk/src/libopensc/card-jcop.c,
	  trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-oberthur.c,
	  trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/pkcs15-infocamere.c: cleanup: declare local
	  functions as static, renamed shadowed variables etc.

2004-12-15 08:38  nils

	* trunk/src/libopensc/card-flex.c: cleanup

2004-12-13 20:58  nils

	* trunk/src/libopensc/padding.c: do a memcpy only if source and
	  dest are different

2004-12-13 11:24  nils

	* trunk/src/libopensc/card-etoken.c: local functions should be
	  static

2004-12-13 09:48  nils

	* trunk/src/libopensc/ctx.c: don't close stdout/stderr

2004-12-12 21:51  nils

	* trunk/src/libopensc/pkcs15-pubkey.c: fix memory leak

2004-12-12 20:41  nils

	* trunk/src/libopensc/ctx.c: close files when the context is
	  destroyed

2004-12-12 19:13  nils

	* trunk/src/pkcs11/framework-pkcs15.c: use object specific release
	  method (if existing)

2004-12-12 17:17  nils

	* trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-starcert.c: fix (potential) memory
	  leak

2004-12-09 08:23  nils

	* trunk/src/tools/pkcs11-tool.c: bugfix: don't try to get the
	  CKA_MODULUS_BITS attribute from a private key

2004-12-08 20:57  nils

	* trunk/src/libopensc/pkcs15-syn.c: fix memory leak

2004-12-05 19:04  aj

	* trunk/configure.in: the big openssl fix. hope everything still
	  works.

2004-12-05 19:03  aj

	* trunk/src/libopensc/pkcs15-infocamere.c,
	  trunk/src/libopensc/pkcs15-postecert.c: make functions static,
	  so the names don't conflict.

2004-12-05 16:35  nils

	* trunk/src/libopensc/card-etoken.c: suppress error message when
	  testing signature alg

2004-11-30 21:32  aj

	* trunk/src/sslengines/engine_opensc.c,
	  trunk/src/sslengines/engine_opensc.h,
	  trunk/src/sslengines/hw_opensc.c: new pin handling to make
	  opensc engine work with wpa-supplicant.

2004-11-26 08:43  nils

	* trunk/src/libopensc/pkcs15-syn.c: bugfix

2004-11-24 17:00  nils

	* trunk/etc/opensc.conf.example, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/pkcs15-postecert.c,
	  trunk/src/libopensc/pkcs15-syn.c: add pkcs15 emulation support
	  for the Italian postecert card

2004-11-15 09:39  nils

	* trunk/src/pkcs15init/etoken.profile: try to avoid conflicts with
	  file ids of different file types

2004-11-12 19:49  sth

	* trunk/src/sslengines/engine_pkcs11.c: Don't check if the token
	  is initialised

2004-11-12 16:59  nils

	* trunk/src/pkcs15init/gpk.profile: try to avoid conflicts with
	  file ids of different file types

2004-11-05 21:04  nils

	* trunk/src/libopensc/pkcs15-infocamere.c: bugfix from Antonio
	  Iacono

2004-11-05 18:48  aj

	* trunk/docs/opensc-es.html: add spanish translation.

2004-11-05 18:31  aj

	* trunk/src/libopensc/libpkcs15init.pc.in,
	  trunk/src/libopensc/libscam.pc.in,
	  trunk/src/libopensc/libscconf.pc.in,
	  trunk/src/libopensc/libscldap.pc.in: add more *.pc files for all
	  other libraries as well.

2004-11-05 18:30  aj

	* trunk/configure.in, trunk/docs/Makefile.am,
	  trunk/docs/opensc-es.xml, trunk/src/libopensc/Makefile.am: Add
	  spanish manual by Jonsy (teleline) <jonsito@teleline.es>

2004-11-04 19:14  aj

	* trunk/configure.in, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/libopensc.pc.in,
	  trunk/src/openscd/Makefile.am, trunk/src/pam/Makefile.am,
	  trunk/src/pkcs15init/Makefile.am, trunk/src/sia/Makefile.am,
	  trunk/src/tests/Makefile.am, trunk/src/tools/Makefile.am: build
	  fixes by Vile Skytt&#65533;.

2004-11-03 21:39  nils

	* trunk/src/libopensc/pkcs15-infocamere.c: bugfix from Antonio
	  Iacono

2004-11-03 18:14  nils

	* trunk/src/tools/pkcs11-tool.c: check only for attributes which
	  can be present

2004-11-02 21:46  nils

	* trunk/src/libopensc/pkcs15-infocamere.c: update for the
	  Infocamere support, supplied by Antonio Iacono

2004-11-01 21:13  aj

	* trunk/src/libopensc/card-mcrd.c: fix select_file in mcrd. by
	  Martin Paljak

2004-11-01 11:41  aj

	* trunk/etc/opensc.conf.example, trunk/src/libopensc/card-mcrd.c:
	  clarify micardo situtation.

2004-10-29 20:08  nils

	* trunk/src/libopensc/card.c, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/pkcs15.c: cleanup

2004-10-27 16:10  nils

	* trunk/src/libopensc/ui.c: fix last commit

2004-10-27 06:41  nils

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/internal.h, trunk/src/libopensc/module.c:
	  remove obsolete module support in libopensc (scdl should now be
	  used)

2004-10-27 05:10  sth

	* trunk/src/pkcs11/Makefile.mak, trunk/src/tools/Makefile.mak:
	  scdl.lib needed for for the link step due to the recent changes
	  in dynamic loading

2004-10-25 10:43  nils

	* trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/profile.h: support for dynamic pkcs15init
	  drivers

2004-10-24 17:20  nils

	* branches/opensc-0.9/src/pkcs15init/profile.c,
	  trunk/src/tools/pkcs15-init.c: fix memory leak

2004-10-24 17:17  nils

	* trunk/src/pkcs15init/profile.c: fix memory leak

2004-10-22 07:29  nils

	* trunk/src/libopensc/card-mcrd.c, trunk/src/libopensc/opensc.h:
	  two patches from Marin Paljak <martin.paljak@gmail.com> : -
	  remove unnecessary function from the reader ops - add a field
	  for pinpad support - cleanup + fix indent in card-mcrd.c

2004-10-20 06:53  nils

	* trunk/src/libopensc/reader-ctapi.c: sc_module_*() -> scdl_*()

2004-10-18 21:35  nils

	* trunk/src/libopensc/reader-ctapi.c, trunk/src/libopensc/ui.c:
	  sc_module_*() -> scdl_*()

2004-10-18 08:24  nils

	* trunk/docs/opensc.xml, trunk/etc/opensc.conf.example,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/opensc.h:
	  implement dynamic card/reader support from Juan Antonio Martinez
	  (with some input from me)

2004-10-17 20:40  nils

	* trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/sec.c: fix
	  compiler warnings

2004-10-17 20:20  nils

	* trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h: some
	  cleanup: 'int' -> 'unsigned int' for flags, 'int' -> 'size_t'
	  for length + remove some compiler warnings

2004-10-17 18:34  nils

	* trunk/src/libopensc/dir.c: fix compiler warnings

2004-10-17 16:46  nils

	* trunk/src/libopensc/pkcs15.h: flags should be stored in a
	  'unsigned int' (at least this seems to be the convention in
	  libopensc) => change tokenInfo flags from 'unsigned long' to
	  'unsigned int'

2004-10-17 16:20  nils

	* trunk/src/libopensc/sc.c: fix signed vs. unsigned mismatch

2004-10-17 15:59  nils

	* trunk/src/libopensc/pkcs15-syn.c: sc_module_* -> scdl_*

2004-10-14 06:37  nils

	* trunk/src/libopensc/dir.c: suppress annoying (but unimportant)
	  error message

2004-10-13 19:07  nils

	* trunk/src/libopensc/pkcs15-cache.c: fix compiler warning

2004-10-13 18:57  nils

	* trunk/etc/opensc.conf.example: update opensc.conf for the new
	  pkcs15 emulation stuff

2004-10-13 18:54  nils

	* trunk/src/libopensc/card.c: fix int vs. size_t mismatch

2004-10-13 18:02  nils

	* trunk/src/scdl/scdl.c: initialize pointer to NULL

2004-10-13 07:19  sth

	* trunk/src/pkcs15init/cyberflex.profile,
	  trunk/src/pkcs15init/flex.profile: Added info for EF data files

2004-10-12 19:36  sth

	* trunk/src/sslengines/p11_rsa.c: Added RSA decryption (Robert
	  Pragai)

2004-10-12 06:24  nils

	* trunk/docs/sc_release_context.3: bugfix from Hubert Sokolowski
	  <hubert.sokolowski@biatel.pl>

2004-10-11 21:22  nils

	* trunk/src/sslengines/engine_opensc.c,
	  trunk/src/sslengines/engine_opensc.h: u_char -> unsigned char

2004-10-08 21:29  nils

	* trunk/src/libopensc/module.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-esteid.c,
	  trunk/src/libopensc/pkcs15-infocamere.c,
	  trunk/src/libopensc/pkcs15-netkey.c,
	  trunk/src/libopensc/pkcs15-openpgp.c,
	  trunk/src/libopensc/pkcs15-starcert.c,
	  trunk/src/libopensc/pkcs15-syn.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h: update pkcs15 emulation stuff

2004-10-08 21:25  nils

	* trunk/src/scdl/scdl.c: don't search the LD_LIBARY_PATH in case
	  of a absolute path

2004-10-08 07:11  aj

	* trunk/src/sslengines/engine_pkcs11.c: forget pin if it was wrong.

2004-10-06 14:07  sth

	* trunk/src/tools/pkcs15-init.c: If you do pkcs15-init -C with the
	  onepin option, you can now specify --pin and --puk instead of
	  --so-pin and --so-puk (also allowed for backward compatibility)

2004-09-28 20:06  nils

	* trunk/src/libopensc/card-starcos.c,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-starcos.c,
	  trunk/src/pkcs15init/starcos.profile: fix starcos spk 2.3
	  "onepin" profile support

2004-09-27 08:38  sth

	* trunk/src/tools/pkcs11-tool.c: Don't use 0 as input to test
	  signature-verification

2004-09-24 08:54  nils

	* trunk/src/libopensc/pkcs15-netkey.c: improved card detection +
	  cleanup

2004-09-20 09:47  nils

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/base64.c,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/log.c,
	  trunk/src/libopensc/padding.c: fix some compiler warnings

2004-09-19 19:50  nils

	* trunk/src/libopensc/pkcs15-infocamere.c,
	  trunk/src/libopensc/pkcs15-netkey.c,
	  trunk/src/libopensc/pkcs15-starcert.c: correct tries_left entries

2004-09-19 19:47  nils

	* trunk/src/tools/pkcs15-tool.c: print 'tries_left' only if the
	  value is >= 0

2004-09-17 19:27  nils

	* trunk/src/libopensc/card-tcos.c,
	  trunk/src/libopensc/pkcs15-netkey.c: add support for
	  sc_card_ctl(*, SC_CARDCTL_GET_SERIALNR, *) for TCOS cards (and
	  use it in the netkey support)

2004-09-17 19:13  nils

	* trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/pkcs15-starcert.c,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs15-init.c: rename "StarCOS" -> "STARCOS SPK
	  2.3"

2004-08-31 17:31  nils

	* trunk/src/libopensc/reader-pcsc.c: fix definition of
	  SCARD_PROTOCOL_ANY patch supplied by Ludovic Rousseau
	  <ludovic.rousseau@free.fr>

2004-08-25 20:55  nils

	* trunk/src/tools/pkcs15-tool.c: fix tab indentation and adds the
	  tries left field to the --list-pins output patch supplied by
	  Martin Paljak <martin@paljak.pri.ee>

2004-08-25 20:45  nils

	* trunk/src/libopensc/ctbcs.c: bugfix: fix segfaults when using a
	  pin-pad for pin verification thanks to Joachim Bauch
	  <jojo@struktur.de>

2004-08-21 14:26  nils

	* trunk/docs/pkcs15-crypt.1, trunk/src/tools/pkcs15-crypt.c: add
	  "--raw" option patch supplied by Jari Eskelinen
	  <jari.eskelinen@iki.fi>

2004-08-21 14:24  nils

	* trunk/src/pkcs15init/pkcs15-starcos.c: bugfix

2004-08-21 10:54  nils

	* trunk/src/pkcs15init/pkcs15-lib.c: two small fixes to let
	  pkcs15-init work with starcos spk 2.3

2004-08-21 10:53  nils

	* trunk/src/libopensc/card-starcos.c,
	  trunk/src/pkcs15init/pkcs15-starcos.c,
	  trunk/src/pkcs15init/starcos.profile: update starcos spk 2.3
	  pkcs15-init support change summary: - some bug fixes - support
	  for global so-pins - use so-pin (if present) to protect key
	  creation etc.

2004-08-19 08:55  nils

	* trunk/src/libopensc/ctx.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/reader-pcsc.c: add support to force pcsc to
	  use a certain protocol patch supplied by Martin Paljak
	  <martin@paljak.pri.ee>

2004-08-19 08:41  nils

	* trunk/src/libopensc/card-mcrd.c: add additional atr patch
	  supplied by Martin Paljak <martin@paljak.pri.ee>

2004-08-19 08:39  nils

	* trunk/src/libopensc/ctx.c: move the emv driver to the end of list

2004-08-14 13:43  nils

	* trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs15-tool.c, trunk/src/tools/util.c,
	  trunk/src/tools/util.h: improve pkcs15-init + pkcs15-tool
	  support for data objects

2004-08-05 22:34  nils

	* trunk/src/sslengines/engine_opensc.c,
	  trunk/src/sslengines/engine_pkcs11.c: set ui_method if and only
	  if it's not NULL patch supplied by Michael Bell

2004-08-05 22:28  nils

	* trunk/src/sslengines/engine_opensc.c: improved error detection

2004-08-05 22:27  nils

	* trunk/configure.in: fix openssl detection, patch supplied by
	  Victor Tarasov

2004-07-28 20:02  nils

	* trunk/PAM_README, trunk/docs/opensc-explorer.1,
	  trunk/docs/pkcs15-crypt.1, trunk/docs/pkcs15-init.1,
	  trunk/docs/pkcs15-tool.1,
	  trunk/docs/sc_pkcs15_compute_signature.3: minor docu update
	  thanks to Ville Skytt&#65533;

2004-07-27 19:14  nils

	* trunk/src/sslengines/engine_opensc.c: set padding flags
	  accordingly (for the decipher operation)

2004-07-26 19:18  nils

	* trunk/src/tools/pkcs15-tool.c: improve output for pkcs15 data
	  objects

2004-07-26 18:47  nils

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs11-tool.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/util.c, trunk/src/tools/util.h: pkcs15-init etc.
	  support for pkcs15 data objects patch supplied by Victor Tarasov
	  <vtarasov@idealx.com>

2004-07-26 04:53  aj

	* trunk/src/scconf/Makefile.am, trunk/src/scldap/Makefile.am:
	  properly split LDFLAGS into LDADD and LDFLAGS to make parallel
	  build work. Thanks to Ville Skytt&#65533;.

2004-07-25 12:35  aj

	* trunk/ANNOUNCE, trunk/Makefile.am, trunk/NEWS, trunk/PAM_README,
	  trunk/QUICKSTART, trunk/configure.in: small configure
	  improvements, documentation updates.

2004-07-24 21:08  aj

	* trunk/src/scam/p15_eid.c: Permission checks and support for
	  several certificates in the authorized_certificates file. Code
	  written by Fritz Elfert.

2004-07-23 20:29  nils

	* trunk/src/libopensc/pkcs15-data.c: fix default values for OIDs
	  patch supplied by Victor Tarasov <vtarasov@idealx.com>

2004-07-23 16:52  nils

	* trunk/src/libopensc/card-oberthur.c: one more ATR for Oberthur
	  64K card patch supplied by Victor Tarasov <vtarasov@idealx.com>

2004-07-23 16:11  nils

	* trunk/src/libopensc/asn1.c: fix ASN1 NULL handling and avoid
	  malloc(0)

2004-07-22 20:52  aj

	* trunk/src/libopensc/card-oberthur.c: There is a problem with
	  decipher() of the oberthur card driver. Manifested when caller
	  allocates more then needed memory for the result. Thanks to the
	  regression tests, Viktor.

2004-07-21 22:11  aj

	* trunk/src/tools/pkcs11-tool.c: Bug found by Stef Hoeben.

2004-07-21 22:10  aj

	* trunk/src/libopensc/Makefile.mak: Typo found by Stef Hoeben.

2004-07-21 22:02  aj

	* trunk/src/tools/Makefile.am: pkcs11-tool and pkcs15-crypt use
	  libcrypto, so they need to link with it. Found by Dirk Gouders.

2004-07-21 21:56  aj

	* trunk/configure.in: fix a typo.

2004-07-20 22:11  aj

	* trunk/QUICKSTART: Add a quick start file, a simple text document.
	* trunk/Makefile.am: Add some text documentation.

2004-07-20 20:52  aj

	* trunk/configure.in, trunk/src/libopensc/reader-pcsc.c: Deal with
	  new pcsc-lite code changes.

2004-07-19 19:37  aj

	* trunk/configure.in, trunk/src/libopensc/Makefile.am: try
	  pkg-config, fall back to conventional code.

2004-07-19 16:58  nils

	* trunk/src/pkcs15init/pkcs15-lib.c: try to get the card serialnr
	  via sc_card_ctl (unless it has been explicitly specified by the
	  user)

2004-07-19 16:51  nils

	* trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/cardctl.h, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-starcert.c: experimental support for
	  card serial numbers (at first only for starcos spk 2.3 and
	  cardos m4)

2004-07-19 16:18  nils

	* trunk/src/libopensc/card-oberthur.h: int -> size_t

2004-07-19 16:12  nils

	* trunk/src/libopensc/card-oberthur.c,
	  trunk/src/libopensc/pkcs15-infocamere.c,
	  trunk/src/libopensc/sec.c: fix compiler warning

2004-07-19 15:42  nils

	* trunk/src/libopensc/card-oberthur.c: support OpenSSL version <
	  0.9.7 in card-oberthur.c

2004-07-14 22:11  aj

	* trunk/src/libopensc/card-mcrd.c: kill two warnings about unused
	  variables.

2004-07-14 21:13  aj

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/card-mcrd.c, trunk/src/libopensc/esteid.h,
	  trunk/src/libopensc/pkcs15-esteid.c,
	  trunk/src/libopensc/pkcs15-syn.c: Add support for Estonian ID
	  card. Written by Martin Paljak.

2004-07-12 15:19  nils

	* trunk/src/common/getpass.c: fix off-by-one bug, pointed out by
	  Michael Bell

2004-07-12 08:42  nils

	* trunk/src/tools/pkcs15-init.c: check return value

2004-07-12 08:26  nils

	* trunk/src/tools/pkcs15-init.c: fix/cleanup passphrase input
	  Michael Bell <michael.bell@cms.hu-berlin.de> and Nils Larsch

2004-07-09 21:33  aj

	* trunk/configure.in: As far as I know we did some incompatible
	  changes since 0.8.1

2004-07-09 21:30  aj

	* trunk/src/openssh/Makefile.am: add README and ask-for-pin.diff
	  to the distribution.

2004-07-09 21:28  aj

	* trunk/src/tests/regression/Makefile.am: Add missing scripts
	  init0012 pin0001 pin0002 to distribution.

2004-07-09 15:33  sth

	* trunk/src/pkcs11/slot.c: Fix: if a card couldnt be read (e.g.
	  inverted upside down), allow to retry it later when asked

2004-07-09 15:31  sth

	* trunk/src/libopensc/reader-pcsc.c: Fix: don't free anything in
	  the connect() function because it can be called multiple times

2004-06-30 21:37  aj

	* trunk/src/openssh/README, trunk/src/openssh/ask-for-pin.diff: a
	  small patch to make openssh ask for a pin. and a README. this
	  patch is a hack, not production quality, and will not be
	  accepted by openssh. But a clean solution requires changes in
	  openssh, and that will not be easy.

2004-06-30 21:35  aj

	* trunk/src/openssh/Makefile.am: Add current patch for openssh so
	  it can ask for the pin.

2004-06-30 17:26  nils

	* trunk/src/libopensc/card-tcos.c: fix TCOS decipher operation

2004-06-29 20:34  aj

	* trunk/configure.in, trunk/src/sslengines/Makefile.am: openssl
	  0.9.7d and later require and support linking engines with
	  -lcrypto. for older versions we need to link with libcrypto.a or
	  skip the engines alltogether.

2004-06-28 22:54  aj

	* trunk/src/signer/Makefile.am: small makefile improvement by
	  Ville Skytt&#65533;

2004-06-28 16:42  nils

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/pkcs15-netkey.c,
	  trunk/src/libopensc/pkcs15-syn.c: add support for Telesec NetKey
	  cards (still experimental)

2004-06-25 15:44  nils

	* trunk/src/tools/pkcs15-init.c: use opt_passphrase, if present,
	  before asking the user patch supplied by Michael Bell
	  <michael.bell@cms.hu-berlin.de>

2004-06-24 17:25  nils

	* trunk/src/tools/opensc-explorer.c: Add two new commands:
	  update_binary and update_record. update_binary can be used to
	  write arbitrary data data (entered as hex values) to transparent
	  files and update_record can be used to do the same to record
	  files. Patch supplied by Victor Tarasov <vtarasov@idealx.com>
	  and Nils Larsch

2004-06-24 17:03  nils

	* trunk/src/pkcs15init/oberthur.profile: patch supplied by Victor
	  Tarasov <vtarasov@idealx.com>

2004-06-24 06:29  nils

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/pkcs15-starcert.c,
	  trunk/src/libopensc/pkcs15-syn.c: add (partial) pkcs15 emu
	  support for StarCert V2.2 cards

2004-06-22 17:46  nils

	* trunk/src/pkcs15init/pkcs15-starcos.c: clean up access rights
	  for updating pin/puk

2004-06-21 21:20  nils

	* trunk/src/libopensc/card-flex.c: use the padding character from
	  the pkcs15 objects

2004-06-20 13:37  aj

	* trunk/src/libopensc/card-oberthur.c: the older generation of
	  oberthur card is not supported by the current driver. better not
	  detect them at all.

2004-06-18 20:49  nils

	* trunk/src/libopensc/pkcs15-cert.c: fix usage of asn1 flags

2004-06-18 09:33  aj

	* trunk/src/libopensc/card-etoken.c: One more italian eID card,
	  this time from gemplus. reported by Antonio Iacono.

2004-06-18 09:30  aj

	* trunk/src/libopensc/Makefile.mak,
	  trunk/src/pkcs15init/Makefile.mak: Also add oberthur files to
	  Makefile.mak. oops, sorry for forgetting. Reported by novakv and
	  fixed by Nils Larsch.

2004-06-18 09:12  aj

	* trunk/src/tools/cardos-info.c,
	  trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs11-tool.c,
	  trunk/src/tools/pkcs15-crypt.c, trunk/src/tools/pkcs15-tool.c:
	  fix short options as well.

2004-06-16 20:59  aj

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/card-oberthur.c,
	  trunk/src/libopensc/card-oberthur.h,
	  trunk/src/libopensc/cardctl.h, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/opensc.h, trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/oberthur.profile,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-oberthur.c,
	  trunk/src/pkcs15init/pkcs15.profile: Very basic and untested
	  oberthur driver. Could possibly work, as only non-essential
	  parts stripped (or at least that was the plan). Written by
	  Viktor Tarasov of idealx. All bugs by Andreas Jellinghaus,
	  please don't blame anyone else.

2004-06-13 20:13  aj

	* trunk/docs/cardos-info.1, trunk/docs/cryptoflex-tool.1,
	  trunk/docs/opensc-explorer.1, trunk/docs/opensc-tool.1,
	  trunk/docs/pkcs11-tool.1, trunk/docs/pkcs15-crypt.1,
	  trunk/docs/pkcs15-init.1, trunk/docs/pkcs15-tool.1,
	  trunk/src/sslengines/engine_opensc.c,
	  trunk/src/sslengines/engine_pkcs11.c,
	  trunk/src/sslengines/engine_pkcs11.h,
	  trunk/src/sslengines/hw_pkcs11.c,
	  trunk/src/tests/regression/functions,
	  trunk/src/tools/cardos-info.c,
	  trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs11-tool.c,
	  trunk/src/tools/pkcs15-crypt.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15-tool.c, trunk/src/tools/util.c,
	  trunk/src/tools/util.h: cleanup debug/quiet/verbose handling.
	  now all tools accept "-v" for verbose operation, and you can
	  specify -v several times to get more verbose i.e. debugging
	  output.

2004-06-13 20:04  aj

	* trunk/src/tools/pkcs15-init.c: oops, forgot the select.

2004-06-13 19:45  aj

	* trunk/src/tools/pkcs15-init.c: fixed a small bug (!= instead of
	  ==) and made the code hopefully more readable.

2004-06-09 18:40  nils

	* trunk/src/scam/cert_support.c, trunk/src/scam/p15_ldap.c:
	  replace X509_NAME_oneline with X509_NAME_print_ex Patch supplied
	  by Gregor Kroesen and Nils Larsch

2004-06-08 20:22  nils

	* trunk/src/sslengines/engine_pkcs11.c: fix module name handling
	  patch supplied by Michael Bell <michael.bell@cms.hu-berlin.de>

2004-05-30 16:23  nils

	* trunk/src/scam/cert_support.c: don't omit the first extension
	  Thanks to Gregor Kroesen <kroesen@rembrandtstr.de>

2004-05-21 10:15  nils

	* trunk/src/libopensc/dir.c: fix usage flag Thanks to Peter Koch
	  <pk.opensc@naev.de>

2004-05-20 09:36  nils

	* trunk/src/libopensc/pkcs15-sec.c: only set the key_reference if
	  present Thanks to Andrej Komelj <akomelj@email.si>

2004-05-20 09:09  nils

	* trunk/src/libopensc/pkcs15-pin.c: call sc_select_file only if
	  pin->path is actually set Thanks to Andrej Komelj
	  <akomelj@email.si>

2004-05-04 18:13  nils

	* trunk/src/libopensc/pkcs15-infocamere.c: add pkcs15-syn support
	  for infocamere cards

2004-05-04 18:12  nils

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/pkcs15-syn.c: add pkcs15-syn support for
	  infocamere card

2004-05-04 17:58  nils

	* trunk/src/libopensc/pkcs15-openpgp.c,
	  trunk/src/libopensc/pkcs15-syn.c, trunk/src/libopensc/pkcs15.h:
	  include common object attributes in the sc_pkcs15emu_add_* api

2004-04-27 17:41  nils

	* trunk/src/libopensc/reader-pcsc.c: proper checking of the
	  SCardListReaders return values

2004-04-23 17:29  nils

	* trunk/src/libopensc/pkcs15-pin.c: use pin_cmd for
	  sc_pkcs15_change_pin and sc_pkcs15_unblock_pin as well

2004-04-22 07:04  aj

	* trunk/src/tools/pkcs11-tool.c: oops. O_BINARY is for windows,
	  not linux.

2004-04-21 21:11  aj

	* trunk/src/pkcs11/slot.c: better checking for null values. found
	  and fixed reported by Victor Tarasov <vtarasov@idealx.com>

2004-04-21 20:11  nils

	* trunk/src/tools/pkcs15-init.c: "--assert-pristine" workaround
	  for Starcos cards (see comment in the patch)

2004-04-21 18:10  nils

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/pkcs15-algo.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/sc.c, trunk/src/scconf/scconf.c,
	  trunk/src/scconf/write.c, trunk/src/sslengines/p11_cert.c,
	  trunk/src/sslengines/p11_key.c: fix incorrect use of realloc (x
	  = realloc(x, y) doesn't free the x in case of a failure)

2004-04-21 16:52  nils

	* trunk/src/libopensc/dir.c: fix memory leak Discovered by Victor
	  Tarasov (thanks)

2004-04-21 07:41  aj

	* trunk/src/pkcs15init/Makefile.mak: Add pkcs15-starcos to windows
	  makefile.

2004-04-21 07:33  aj

	* trunk/src/tools/pkcs11-tool.c: Open file with O_BINARY on
	  windows.

2004-04-18 18:42  nils

	* trunk/src/pkcs15init/keycache.c: remove pointer to freed secret
	  object Patch supplied by Victor Tarasov

2004-04-18 18:14  aj

	* trunk/src/sslengines/p11_rsa.c: Adds message digest and DER
	  encoding if necessary. Patch by Mathias Brossard
	  <mathias.brossard@idealx.com>

2004-04-18 18:06  aj

	* trunk/src/sslengines/engine_pkcs11.c: Converts all printf(...)
	  tofprintf(stderr, ...) and condition output on all non-error
	  calls to the'quiet' (pre-existing) variable. Patch by Mathias
	  Brossard <mathias.brossard@idealx.com>

2004-04-18 18:05  aj

	* trunk/src/sslengines/engine_pkcs11.c,
	  trunk/src/sslengines/engine_pkcs11.h,
	  trunk/src/sslengines/hw_pkcs11.c: adds three options PIN, QUIET,
	  VERBOSE to theengine allowing respectively to set the PIN code,
	  reduce output, augmentoutput. First one is obvious, the 2 others
	  need the second patch to beuseful. Patch by Mathias Brossard
	  <mathias.brossard@idealx.com>

2004-04-17 22:21  nils

	* trunk/src/sslengines/engine_opensc.c: add support for split keys
	  in engine_opensc.c (backported from the opensc stuff in openssh)
	  Thanks to Neil Dunbar

2004-04-17 09:25  nils

	* trunk/src/tools/pkcs15-init.c: add support for "finalize" to
	  pkcs15-init to activate the ACs for starcos

2004-04-17 09:23  nils

	* trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: bind the new starcos spk 2.3
	  support to the pkcs15init code

2004-04-17 09:20  nils

	* trunk/src/pkcs15init/pkcs15-starcos.c,
	  trunk/src/pkcs15init/starcos.profile: initial pkcs15-init
	  support for starcos spk 2.3 cards/tokens

2004-04-17 09:15  nils

	* trunk/src/libopensc/pkcs15-syn.c: ensure that init_func is not
	  NULL (even if the config file is not correct)

2004-04-17 09:05  nils

	* trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/cardctl.h: update starcos spk 2.3 support
	  (add create file + key gen)

2004-04-14 22:09  aj

	* trunk/src/sslengines/p11_rsa.c: while we don't have code to
	  extract a key, tread extractable keys like non extractable ones.

2004-03-29 20:34  aj

	* trunk/src/pkcs11/misc.c: check parameters in strcpy_bp

2004-03-29 07:56  aj

	* trunk/src/libopensc/card-flex.c: cryptoflex 32k e-gate v4 also
	  has on board key generation. thanks for reporting to Pierre
	  JUHEN.

2004-03-28 20:30  aj

	* trunk/src/libopensc/pkcs15.c: it is legal to read all bytes of
	  the file (e.g. offset 0, len 10, fil->len 10). Bug found by
	  Antonio Iacono.

2004-03-28 20:26  aj

	* trunk/src/pkcs15init/pkcs15-lib.c: len is the number of
	  character, we need to alloc len+1 for the \0 terminator. Bug
	  found by Victor Tarasov.

2004-03-14 19:53  aj

	* trunk/src/tools/opensc-explorer.c: add "rm" alias for "delete"
	  and "exit" alias for "quit".

2004-03-08 13:59  sth

	* trunk/src/libopensc/pkcs15-openpgp.c,
	  trunk/src/libopensc/pkcs15-syn.c, trunk/src/libopensc/pkcs15.h:
	  Moved the sc_pkcs15emu_xxx() functions to pkcs15_syn.c

2004-03-03 16:25  sth

	* trunk/src/libopensc/pkcs15-sec.c: Allow file_app in struct
	  sc_pkcs15_card to be NULL (may be the case for pkcs15-emulated
	  cards)

2004-02-16 12:29  aj

	* trunk/src/libopensc/card-etoken.c: remove
	  CARDOS_TYPE_ETOKEN_PRO, the name does not fit. annotate atr with
	  version number 4.0 / 4.01 / 4.01a.

2004-02-15 23:00  aj

	* trunk/src/libopensc/card-etoken.c: added cardos M4.01a atr.
	  thanks to Laurian Gridinoc for reporting.

2004-02-03 14:51  okir

	* trunk/src/libopensc/card-etoken.c: - properly identify Italian
	  eID card

2004-02-03 10:25  okir

	* trunk/src/pkcs15init/profile.c: - Properly handle max-length in
	  PIN statements; added new stored-length: PIN blah { max-length =
	  8; stored-length = 4; } Bug spotted by Victor Tarasov

2004-02-02 10:24  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - Don't crash if
	  card->serial_number is NULL

2004-01-29 09:36  aj

	* trunk/src/libopensc/card-default.c: memset is defined in string.h

2004-01-29 09:21  okir

	* trunk/src/libopensc/card-default.c: - apdu wasn't completely
	  initialized (Renzo Tomaselli)

2004-01-27 09:03  okir

	* trunk/src/tools/pkcs15-tool.c: - Allocate the right amount of
	  memory when base64 encoding for PEM

2004-01-24 20:55  sth

	* trunk/src/tools/pkcs15-init.c: Added --cert-label option,
	  usefull to specify the user cert label if you do a
	  --store-private-key

2004-01-23 09:27  okir

	* trunk/etc/opensc.conf.example: - documented max_{send,recv}_size
	  paramaters

2004-01-22 22:04  aj

	* trunk/debian/changelog, trunk/debian/libopensc0.files: new
	  debian packages: added pkcs11-spy, undid library merge.

2004-01-22 12:37  aet

	* trunk/src/scconf/parse.c: - Allow lists to end as ,;

2004-01-22 10:13  aet

	* trunk/src/scconf/Makefile.am, trunk/src/scconf/README.scconf: -
	  Added a short introduction to scconf as an API and a file format
	  (Jamie Honan)

2004-01-20 11:21  okir

	* trunk/src/libopensc/reader-openct.c: - fix crash with pkcs11
	  module and token disconnect

2004-01-19 19:52  aet

	* trunk/src/pkcs15init/Makefile.am, trunk/src/scam/Makefile.am,
	  trunk/src/scconf/Makefile.am, trunk/src/scldap/Makefile.am: -
	  Revert previous patch

2004-01-19 18:54  aj

	* trunk/src/pkcs15init/Makefile.am, trunk/src/scam/Makefile.am,
	  trunk/src/scconf/Makefile.am, trunk/src/scldap/Makefile.am: make
	  these libraries not standalone (pkcs15init, scam, scconf,
	  scldap).

2004-01-19 18:53  aj

	* trunk/debian/changelog, trunk/debian/libopensc-dev.files,
	  trunk/debian/libopensc0.files: several debian fixes, new version.

2004-01-14 10:43  aj

	* trunk/debian/files, trunk/debian/postinst, trunk/debian/postrm,
	  trunk/debian/preinst, trunk/debian/prerm: From: Ludovic Rousseau
	  <ludovic.rousseau@free.fr> > You still have some unecessary
	  files in CVS debian/ ... thanks for the hint.

2004-01-10 23:13  aet

	* trunk/configure.in: - Fixed a typo in the previous commit

2004-01-10 20:24  aet

	* trunk/src/scam/Makefile.am: - Add versioning

2004-01-10 19:49  aet

	* trunk/configure.in: - Move the variable substitution of
	  exec_prefix and sysincludedir to make-level (Lars T. Mikkelsen)

2004-01-08 18:38  aj

	* trunk/debian/libopensc0.postinst,
	  trunk/debian/libopensc0.postinst.debhelper,
	  trunk/debian/libopensc0.postrm,
	  trunk/debian/libopensc0.postrm.debhelper: Unneeded files,
	  debhelper does everything we need automaticaly.

2004-01-08 15:23  aet

	* trunk/src/libopensc/card-jcop.c,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-jcop.c: - Warning fixes

2004-01-08 14:16  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Fix: no keycaching if
	  USE_PKCS15_INIT is not #defined

2004-01-08 14:08  aj

	* trunk/debian/changelog, trunk/debian/libopensc0.conffiles,
	  trunk/debian/libopensc0.files: I had removed the wrong file
	  while cleaning up. fixed

2004-01-08 14:05  aet

	* trunk/src/pkcs11/sc-pkcs11.h: - Unify with pkcs11.h

2004-01-08 13:21  aet

	* trunk/debian/rules: - There is no --with-pcsc, replace it with
	  --with-pcsclite which supposedly works the same way as no
	  argument at all. :)

2004-01-08 13:04  aet

	* trunk/etc/opensc.conf.example: - Revert previous patch. Instead
	  of providing a configuration file with all lines commented away,
	  provide a sane configuration that works for most people
	  out-of-the-box without user interaction.

2004-01-08 13:01  aet

	* trunk/etc/scldap.conf.example: - Revert previous patch

2004-01-08 11:59  aj

	* trunk/debian/README.Debian, trunk/debian/TODO.Debian,
	  trunk/debian/changelog, trunk/debian/compat,
	  trunk/debian/control, trunk/debian/copyright,
	  trunk/debian/files, trunk/debian/libopensc-dev.files,
	  trunk/debian/libopensc-dev.manpages,
	  trunk/debian/libopensc0.conffiles, trunk/debian/libopensc0.dirs,
	  trunk/debian/libopensc0.docs, trunk/debian/libopensc0.files,
	  trunk/debian/libopensc0.postinst,
	  trunk/debian/libopensc0.postinst.debhelper,
	  trunk/debian/libopensc0.postrm,
	  trunk/debian/libopensc0.postrm.debhelper,
	  trunk/debian/libopensc0.substvars,
	  trunk/debian/libpam-opensc.dirs,
	  trunk/debian/libpam-opensc.files,
	  trunk/debian/libpam-opensc.substvars, trunk/debian/opensc.dirs,
	  trunk/debian/opensc.docs, trunk/debian/opensc.files,
	  trunk/debian/opensc.manpages, trunk/debian/opensc.substvars,
	  trunk/debian/rules: big rewrite on debian/ files, originaly
	  based on Joe Phillips debianisation, reworked by Andreas
	  Jellinghaus, and with many changes and suggestions by Ludovic
	  Rousseau

2004-01-08 11:57  aj

	* trunk/docs/opensc.html: changes caused by new docbook stylesheet.

2004-01-08 11:56  aj

	* trunk/etc/opensc.conf.example, trunk/etc/scldap.conf.example:
	  commented out everything. now you can install those files to
	  your etc, it will not hurt you.

2004-01-08 11:54  aj

	* trunk/src/pkcs11/pkcs11.h: config.h is not used in pkcs11.h or
	  any file included by it. but pkcs11.h is a public header file,
	  so it shouldn't do so anyway.

2004-01-08 11:53  aj

	* trunk/src/scconf/Makefile.am: cleanup a generated file.

2004-01-08 10:50  okir

	* trunk/src/tests/regression/functions: - fixed placement of
	  "function atexit" wrt shell exit trap handler
	* trunk/src/tests/regression/init0012: - fixed test case

2004-01-08 09:47  sth

	* trunk/src/pkcs11/framework-pkcs15.c: If the maximum allowed
	  number of virtual slots per card is reached, then silently
	  discard all objects that haven't been added yet instead of
	  returning an error

2004-01-08 08:32  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Update to the new keycache
	  functions for caching the user and SO PINs

2004-01-07 10:11  okir

	* trunk/src/libopensc/card-gpk.c: - fixed GPK16K key gen, as
	  suggested by Chaskiel

2004-01-07 10:10  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - When zapping the contents
	  of a DF, write the whole file (data + padding) in one go.
	  Otherwise the GPK driver may barf if the file offset in
	  sc_update_binary isn't word aligned.

2004-01-07 09:51  sth

	* trunk/src/libopensc/pkcs15.h: Increased the maximum number of
	  PINs and removed some unused #defines

2004-01-07 09:49  sth

	* trunk/src/sslengines/engine_pkcs11.c: Fixed some comments and
	  added an NULL pointer test

2004-01-07 09:32  okir

	* trunk/src/tools/pkcs11-tool.c: - improved C_Decrypt testing

2004-01-06 14:30  okir

	* trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h:
	  - Implemented keep-public-key and sc_pkcs15init_remove_object as
	  suggested by Victor Tarasov.

2004-01-06 13:40  okir

	* trunk/src/libopensc/pkcs15.c: - in sc_pkcs15_read_file, properly
	  destroy objects in case of error (Victor Tarasov)

2004-01-06 13:33  okir

	* trunk/src/libopensc/card.c, trunk/src/libopensc/opensc.h: -
	  implement sc_delete_record (Victor Tarasov)

2004-01-05 18:44  aet

	* trunk/src/pam/pam_opensc.c, trunk/src/pam/pam_support.c,
	  trunk/src/pam/pam_support.h: - pam_opensc rewrite checkpoint
	  commit - rename some functions

2004-01-05 08:56  okir

	* trunk/src/tools/pkcs15-init.c: - properly handle pubkey_label in
	  key generation

2003-12-30 08:20  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - Another fix from Remo wrt
	  keygen_args.pubkey_label

2003-12-30 08:00  okir

	* trunk/src/pkcs11/pkcs11-session.c: - C_CloseAllSessions would
	  block on some Win32 versions because it tried to acquire the
	  global pkcs11 mutex twice.

2003-12-29 23:21  okir

	* trunk/src/libopensc/card-jcop.c: - small jcop driver fix from
	  Chaskiel

2003-12-29 20:50  sth

	* trunk/src/libopensc/Makefile.mak,
	  trunk/src/pkcs15init/Makefile.mak: Add the JCOP card code

2003-12-29 16:54  aet

	* trunk/src/pkcs11/rsaref/Makefile.am: - Install unix.h and
	  win32.h as well

2003-12-29 13:15  okir

	* trunk/src/tools/pkcs11-tool.c: - signature tests would fail on
	  cards with several keys of different size (fix by Chaskiel)

2003-12-29 13:06  okir

	* trunk/src/tools/cardos-info.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-crypt.c,
	  trunk/src/tools/pkcs15-init.c, trunk/src/tools/pkcs15-tool.c,
	  trunk/src/tools/util.c: - util.c:connect_card() now locks the
	  card; removed sc_lock calls from calling applications (based on
	  a bug report by Chaskiel)

2003-12-29 13:03  okir

	* trunk/src/tools/pkcs11-tool.c: - When testing signatures, don't
	  bail out of C_SignInit returns CKR_MECHANISM_INVALID (Chaskiel
	  Grundman)

2003-12-29 12:42  okir

	* trunk/docs/cardos-info.1, trunk/docs/pkcs11-tool.1: - minor
	  fixes to the new manpages

2003-12-29 12:28  okir

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/card-jcop.c, trunk/src/libopensc/cardctl.h,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/opensc.h,
	  trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/jcop.profile,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-jcop.c,
	  trunk/src/pkcs15init/pkcs15-lib.c: - Added support for
	  JCOP/BlueZ cards, contributed by Chaskiel M Grundman

2003-12-29 12:01  aj

	* trunk/docs/Makefile.am, trunk/docs/cardos-info.1,
	  trunk/docs/pkcs11-tool.1, trunk/src/tools/pkcs11-tool.c: new
	  manpages for cardos-info and pkcs11-tool, both written my Joe
	  Phillips.

2003-12-29 11:52  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - Minor bug fix in new_pin(),
	  patch by Victor Tarasov

2003-12-23 16:31  sth

	* trunk/src/tools/pkcs11-tool.c: Made a seperate function for the
	  login functionality, and split test_kpgen_certwrite() into 2
	  parts, with a logout - unload lib - load lib - login between them

2003-12-23 10:48  sth

	* trunk/src/libopensc/padding.c: Fix: no copying done from in to
	  out in case of SC_ALGORITHM_RSA_PAD_NONE padding (by Chaskiel)

2003-12-22 22:07  aet

	* trunk/src/pam/Makefile.am: - Linking changes, don't link libpam
	  to pam_opensc etc.

2003-12-20 14:41  aet

	* trunk/src/pkcs15init/pkcs15-cflex.c: - Warning fix

2003-12-19 09:56  okir

	* trunk/src/libopensc/card-etoken.c: - in pin_cmd, don't overwrite
	  max_length if set by caller

2003-12-19 09:29  okir

	* trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: - created new function
	  profile->ops->init_card for card-specific initialization at the
	  pkcs15 creation stage - Added cryptoflex init_card from Stef.
	  This function reads the card's serial number from 3F000002 and
	  puts it into the pkcs15 serial number

2003-12-19 06:52  sth

	* trunk/src/include/winconfig.h: sleep(sec) = Sleep(1000 * ms) on
	  Windows

2003-12-18 21:37  aet

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/card-openpgp.c,
	  trunk/src/libopensc/pkcs15-openpgp.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/openscd/commands.c,
	  trunk/src/openscd/mkdtemp.c, trunk/src/openscd/openscd.c,
	  trunk/src/openscd/openscd.h, trunk/src/pkcs15init/keycache.c,
	  trunk/src/pkcs15init/keycache.h,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c, trunk/src/scconf/sclex.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/pkcs15-tool.c: - Minor build and C++ warning
	  fixes - pkcs15init: Use u8 for pin variable declarations like
	  libopensc does

2003-12-18 21:30  aet

	* trunk/src/pkcs15init/TODO: - Obsolete

2003-12-18 19:13  aet

	* trunk/src/libopensc/ctx.c: - Revert parts of the previous patch,
	  use void *func instead of struct sc_reader_driver *(*func(void);
	  as _sc_driver_entry is used for both, reader and card driver
	  lists.

2003-12-18 16:35  okir

	* trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-starcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-openct.c,
	  trunk/src/libopensc/reader-pcsc.c: - made apdu_masquerade
	  functionality available to all readers, not just pcsc - added
	  new parameters max_send_size and max_recv_size, roughly
	  corresponding to the old max_le (SC_APDU_CHOP_SIZE) parameter.
	  You can now set this chop limit per driver class (pcsc, openct,
	  ctapi), which sets driver->max_{send,recv}_size. This value is
	  copied to card->max_{send,recv}_size in sc_connect_card, and can
	  be overridden by the card driver.

2003-12-18 08:00  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - do not access file
	  afterdeleting it (S Bakkal)

2003-12-17 12:15  aet

	* trunk/src/pkcs15init/pkcs15-gpk.c: - Add HAVE_UNISTD_H

2003-12-17 07:35  okir

	* trunk/src/pkcs15init/pkcs15-gpk.c: - properly set key usage

2003-12-16 14:41  okir

	* trunk/src/tools/pkcs15-init.c: - Display better pin prompts

2003-12-16 14:32  okir

	* trunk/src/libopensc/card-gpk.c, trunk/src/libopensc/cardctl.h,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-lib.c: - added GPK on-board keygen
	  (based on code by Chaskiel)

2003-12-16 14:31  okir

	* trunk/src/libopensc/card.c: - reduced sc_lock/unlock debug
	  messages even more

2003-12-16 11:07  okir

	* trunk/src/libopensc/card-etoken.c: - added ATR for Italian eID
	  card

2003-12-16 11:04  okir

	* trunk/src/libopensc/asn1.c: - Updated previous patch

2003-12-16 08:01  sth

	* trunk/src/libopensc/asn1.c: Prevent running off the end of the
	  buffer if the asn.1 is invalid (Chaskiel G.)

2003-12-15 11:28  aet

	* trunk/src/signer/opensc-crypto.c: - Ach, forget the previous
	  commit. Just use DBG(printf()); for debugging purposes

2003-12-15 10:51  aet

	* trunk/src/signer/opensc-crypto.c: - error/debug ->
	  sc_error/sc_debug

2003-12-12 09:32  aet

	* trunk/src/pkcs11/Makefile.am, trunk/src/sslengines/Makefile.am:
	  - Minor bundle handling fixes

2003-12-10 15:13  aet

	* trunk/ANNOUNCE: - Another typo fix

2003-12-10 14:52  aet

	* trunk/ANNOUNCE, trunk/configure.in, trunk/debian/rules,
	  trunk/docs/opensc.7, trunk/docs/opensc.html,
	  trunk/docs/opensc.xml, trunk/docs/sc_detect_card_presence.3,
	  trunk/docs/sc_lock.3, trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/reader-openct.c,
	  trunk/src/libopensc/reader-pcsc.c,
	  trunk/src/pkcs11/framework-pkcs15.c: - Minor naming convention
	  harmonisation for pc/sc and ct-api related things

2003-12-09 19:37  aet

	* trunk/aclocal/acx_pthread.m4: - Probe for -lpthread before
	  -pthread, as we did in the previous version.

2003-12-09 19:35  aet

	* trunk/src/pam/pam_support.c: - Fix for the previous commit

2003-12-09 15:41  okir

	* trunk/src/tools/pkcs15-crypt.c: - removed some dead debugging
	  code

2003-12-09 13:57  okir

	* trunk/src/libopensc/card-flex.c,
	  trunk/src/pkcs15init/cyberflex.profile,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-lib.c: - More cyberflex fixes from
	  Martin Buechler

2003-12-09 12:01  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - turned key-domain printf
	  into sc_debug call

2003-12-08 12:02  okir

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs15-init.c: - When generating a key in
	  pkcs15init, allow the caller to specify a public key label (Remo
	  Inverardi)

2003-12-08 11:43  okir

	* trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/cyberflex.profile,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: - Added support for Cyberflex
	  Access 16K, based on a patch by Martin Buechler

2003-12-08 10:54  okir

	* trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/opensc.h: - Matched Cyberflex patch from
	  Martin Buechler. Created a new driver named cyberflex which
	  shares a lot of code with the original flex driver. This is a
	  lot cleaner than having to create if/else monsters.

2003-12-08 10:52  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - use full
	  OPENSC_INFO_FILEPATH when reading info file

2003-12-04 16:43  sth

	* trunk/src/tools/pkcs11-tool.c: Added a check for NSS-like
	  keypair generation

2003-12-04 16:42  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Fix: allow a
	  C_GetAttributeValue(privkey, CKA_MODULUS) after a
	  C_GenerateKeyPair() -- M. Buechler

2003-12-04 15:07  sth

	* trunk/src/pkcs11/pkcs11-spy.c: Little fix: forgotten to log an
	  input param

2003-12-03 14:09  aet

	* trunk/src/libopensc/ctx.c, trunk/src/pkcs15init/profile.c,
	  trunk/src/scconf/parse.c, trunk/src/scconf/scconf.h,
	  trunk/src/scconf/test-conf.c, trunk/src/scldap/scldap.c: - Avoid
	  breaking source compatibility, add char *errmsg to scconf_context

2003-12-03 12:07  okir

	* trunk/src/libopensc/ctx.c, trunk/src/pkcs15init/profile.c,
	  trunk/src/scconf/parse.c, trunk/src/scconf/scconf.h,
	  trunk/src/scconf/test-conf.c, trunk/src/scldap/scldap.c: -
	  scconf_parse and scconf_parse_string now return an error message
	  if something went wrong

2003-12-03 12:02  aet

	* trunk/src/scconf/sclex.c: - Fixed a return value for new
	  scconf_lex_parse

2003-12-03 11:11  okir

	* trunk/src/libopensc/card-gpk.c: - Fix the "get_info failed"
	  error; based on a patch by Ludovic Rousseau.

2003-12-03 10:56  aet

	* trunk/configure.in: - Add AM_MAINTAINER_MODE

2003-12-03 09:09  okir

	* trunk/etc/opensc.conf.example: - Updated comments to reflect new
	  apdu_masquerade parameter

2003-12-02 19:03  aet

	* trunk/configure.in: - Add check for functions vsyslog, setlocale
	  - Add check for header locale.h

2003-12-02 17:51  aet

	* trunk/src/libopensc/pkcs15-syn.c: - Fixed a typo

2003-12-02 15:58  okir

	* trunk/docs/pkcs15-init.1: - Fixed a few glaring errors.
	  Marginally better, but not really great yet.

2003-12-02 15:51  sth

	* trunk/src/pkcs15init/pkcs15-lib.c: Moved the cardinfo file to
	  the pkcs15 DF, changed it's FID to 4946, and protected it
	  against unauthorized changes

2003-11-30 17:19  aet

	* trunk/ChangeLog: - Fixed an embarrassing typo from the ChangeLog
	  URL

2003-11-26 16:19  okir

	* trunk/src/tests/regression/init0012: - fixed test for onepin
	  option

2003-11-26 15:49  okir

	* trunk/src/tools/opensc-explorer.c: - another fix to verify pin

2003-11-26 15:37  okir

	* trunk/src/libopensc/pkcs15-pubkey.c: - fixed problem with pubkey
	  encoding/decoding

2003-11-26 15:35  okir

	* trunk/src/libopensc/asn1.c: - improved support for CHOICE

2003-11-26 13:12  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - Support raw RSA on
	  decryption (Martin Buechler)

2003-11-26 11:56  aet

	* trunk/docs/pkcs15-init.1, trunk/docs/pkcs15-profile.5.in,
	  trunk/docs/pkcs15.7: - Add missing .SH NAME for some man pages
	  (Ludovic Rousseau)

2003-11-25 11:17  aet

	* trunk/configure.in, trunk/docs, trunk/docs/.cvsignore,
	  trunk/docs/Makefile.am, trunk/docs/opensc.html,
	  trunk/docs/opensc.xml, trunk/docs/usbtoken.html,
	  trunk/docs/usbtoken.xml, trunk/src/Makefile.am,
	  trunk/src/libopensc/Makefile.am, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/reader-usbtoken.c, trunk/src/usbtoken: -
	  Remove all references to usbtoken, use OpenCT instead

2003-11-25 10:37  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - fixed suppress_error
	  handling in sc_pkcs15init_write_info

2003-11-24 10:21  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - set ACLs on the profile
	  info file

2003-11-23 16:11  sth

	* trunk/src/libopensc/pkcs15-sec.c,
	  trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/openssl.c:
	  Removed the exceptional (and incorrect) handling of the
	  signature inputs of 16 and 20 bytes with pkcs11's CKM_RSA_PKCS11
	  signaturemechanism; and made sc_pkcs15_compute_signature() a bit
	  more powerfull: if a digestinfo+hash input is given but the card
	  only accepts hashes, the digestinfo is removed

2003-11-23 15:43  sth

	* trunk/src/tools/pkcs11-tool.c: Little fix in test_signature()

2003-11-23 15:33  sth

	* trunk/src/libopensc/errors.c, trunk/src/libopensc/errors.h,
	  trunk/src/pkcs11/misc.c: Added an error code

2003-11-22 18:50  aet

	* trunk/src/scconf/sclex.c: - Back out Olaf's change, as it seems
	  to break existing behaviour while parsing pkcs15 profile files.
	  Although officially any list value with an equal sign or braces
	  should be enclosured with quotation marks, but anyway.

2003-11-21 12:33  aet

	* trunk/src/scconf/Makefile.am, trunk/src/scconf/Makefile.mak: -
	  Replace the default lex based parser with Jamie's version.
	  Please notify if you run into any problems with the new parser.

2003-11-20 20:46  aet

	* trunk/src/libopensc/reader-pcsc.c: - Warning fix

2003-11-20 20:37  aet

	* trunk/aclocal/acx_pthread.m4: - Replace the patched file with a
	  new upstream version

2003-11-20 17:48  aet

	* trunk/src/scconf/sclex.c: - Fixed CRLF parsing

2003-11-20 16:10  okir

	* trunk/src/scconf/sclex.c: - allow stuff such as blabla=
	  foofaah{} to work

2003-11-20 16:01  okir

	* trunk/src/tools/opensc-explorer.c: - opensc-explorer.c ceased to
	  accept verify data in hex notation, fix by Martin Buechler

2003-11-20 15:42  okir

	* trunk/src/tools/pkcs15-tool.c: - Deal with cards that require
	  authentication before you can extract the public key

2003-11-20 15:41  okir

	* trunk/src/libopensc/card-openpgp.c,
	  trunk/src/libopensc/pkcs15-openpgp.c: - Improved OpenPGP
	  handling; we're now able to sign things

2003-11-20 15:40  okir

	* trunk/src/libopensc/ui.c: - Append newline to error/debug
	  messages if not supplied by caller
	* trunk/src/libopensc/sc.c: - in sc_format_path, initialize
	  path->count = -1

2003-11-20 15:39  okir

	* trunk/src/libopensc/opensc.h: - increase SC_MAX_PIN_SIZE to 256
	  (OpenPGP cards have 254 max)
	* trunk/src/libopensc/log.c: - if ctx->suppress_errors is
	  non-zero, log suppressed error messages at least to the debug log

2003-11-20 15:38  okir

	* trunk/src/libopensc/iso7816.c: - SW 6A88 (referenced data not
	  found) is now translated to SC_ERROR_DATA_OBJECT_NOT_FOUND

2003-11-20 14:16  okir

	* trunk/src/pkcs11/Makefile.am: - Link the spy against libopensc
	  (Patch by Mathias Brossard)

2003-11-20 14:15  aet

	* trunk/src/scconf/internal.h, trunk/src/scconf/parse.c,
	  trunk/src/scconf/sclex.c: - Add new hand written replacement for
	  the lex parser by Jamie Honan, not much tested yet.

2003-11-20 14:13  aet

	* trunk/src/scconf/scconf.c, trunk/src/scconf/scconf.h: - Add
	  scconf_list_toarray() by Jamie Honan

2003-11-20 09:17  sth

	* trunk/src/pkcs11/pkcs11-object.c: Support comparison of large
	  object attributes

2003-11-19 20:37  okir

	* trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15.profile,
	  trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h:
	  - Support direct encoding of certificates - Allow more than one
	  profile option (e.g. pkcs15+small+direct-cert) - While creating
	  the basic pcks15 structure, store profile options in a special
	  file on the card (3F002F01). All susequent operations (adding
	  PINs etc) will use this information instead of what's given on
	  the command line.

2003-11-19 20:33  okir

	* trunk/src/tests/print.c: - sc_pkcs15_print_id now prints to a
	  buffer instead of stdout - Now pretty printing Common Object
	  Flags

2003-11-19 20:31  okir

	* trunk/src/libopensc/pkcs15.h: - Support direct encoding of certs
	  in the CDF - Added prototypes for sc_der_{copy,clear} - Changed
	  sc_pkcs15_print_id to return const char *

2003-11-19 20:30  okir

	* trunk/src/libopensc/pkcs15.c: - Somewhat improved debugging
	  output - sc_pkcs15_print_id changed to sprintf to a buffer
	  rather than printing to stdout.

2003-11-19 20:29  okir

	* trunk/src/libopensc/pkcs15-prkey.c: - The changed code in asn1.c
	  requires that the PrKDF subClassAttributes for
	  private{RSA,DSA}Key be marked OPTIONAL (our handling of CHOICE
	  is still somewhat limited)

2003-11-19 20:28  okir

	* trunk/src/libopensc/pkcs15-cert.c: - Read and write CDF entries
	  with directly encoded certificates

2003-11-19 20:22  okir

	* trunk/src/libopensc/asn1.c: - When encoding a path, either
	  encode _neither_ index/count, or both. - Added new functions
	  sc_der_copy, sc_der_clear to handle DER blobs - Somewhat
	  improved debug output

2003-11-17 18:54  aet

	* trunk/src/libopensc/ui.h: - snapshot build fix

2003-11-17 14:52  aj

	* trunk/docs/opensc.xml: fixed "version>" to "version&lt;" in xml
	  file (html file was already fixed by tidy, no change necessary).

2003-11-17 14:49  aj

	* trunk/docs/opensc.html, trunk/docs/opensc.xml: Applied changes
	  by Stef, updated html file.

2003-11-16 16:24  aet

	* trunk/src/libopensc/ui.c: - Test commit

2003-11-14 10:14  sth

	* trunk/src/libopensc/reader-pcsc.c: Add room for SW1-SW2 in case
	  of maximum reply size (256 bytes)

2003-11-12 19:06  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Fix: correctly set the
	  labels of the public and private key during keypairgeneration
	  (Remo Inverardi)

2003-11-12 18:28  sth

	* trunk/src/pkcs11/misc.c: Fix: allow keypair generation of keys
	  other then the default length (Victor Tarasov)

2003-11-11 21:30  aet

	* trunk/src/scdl/scdl.c: - ifdef RTLD_NOW

2003-11-07 11:15  okir

	* trunk/src/tests/pintest.c: - do not test unblocking pins

2003-11-06 10:43  okir

	* trunk/src/pam/pam_opensc.c, trunk/src/pam/pam_support.c: -
	  security: prevent format string attacks

2003-11-03 10:20  okir

	* trunk/src/libopensc/reader-pcsc.c: - remain backward compatible
	  - apdu_masq patch shouldn't break existing config files that use
	  apdu_fix

2003-11-03 10:16  okir

	* trunk/src/libopensc/reader-pcsc.c: - merged apdu_masq patch from
	  Chaskiel Grundman

2003-11-03 06:54  okir

	* trunk/src/tools/opensc-explorer.c: - prevent problem with
	  get/get_do ambiguity

2003-11-01 19:13  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Fix: link the simbolic PIN
	  to the real name

2003-10-31 17:18  okir

	* trunk/src/tools/opensc-explorer.c: - Undid some of the previous
	  changes. We now have a pseudo file system on the openpgp card

2003-10-31 16:06  okir

	* trunk/src/pkcs15init/keycache.c: - fixed put_key(SC_AC_SYMBOLIC)

2003-10-31 16:02  okir

	* trunk/src/tests/print.c: - dont print prkey path if empty
	* trunk/src/tests/p15dump.c: - use sc_test_print_card instead of
	  sc_pkcs15_print_card

2003-10-31 16:01  okir

	* trunk/src/libopensc/pkcs15-openpgp.c: - Updated, now registers
	  key objects as well (untested)
	* trunk/src/libopensc/card-openpgp.c: - OpenPGP card now supports
	  a fake file hierarchy (basically all objects and constructed
	  objects reprented as DFs and EFs)

2003-10-31 13:59  aet

	* trunk/src/libopensc/Makefile.mak: - Add new files

2003-10-31 12:31  okir

	* trunk/src/libopensc/pkcs15-pin.c: - initialize tries_left field
	  to -1 when parsing AODF

2003-10-31 12:29  okir

	* trunk/src/tests/print.c: - Moved p15 print_card function here -
	  print preferred_language, if given - don't print pin path if
	  there is none - print tries_left if present

2003-10-31 12:28  okir

	* trunk/src/tests/sc-test.h: - moved p15 print_card to
	  tests/print.c

2003-10-31 12:27  okir

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/pkcs15-openpgp.c,
	  trunk/src/libopensc/pkcs15-syn.c: - Rewrote
	  sc_pkcs15_bind_synthetic a little - Started work on pkcs15
	  emulation for OpenPGP card

2003-10-31 12:26  okir

	* trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h: -
	  Moved sc_pkcs15_bind_synthetic to a separate file - Moved
	  sc_pkcs15_print_card to ../tests/print.c - added dll_handle and
	  preferred_language fields to p15card

2003-10-31 07:48  sth

	* trunk/src/pkcs15init/pkcs15.profile: Make the PIN for the
	  'onepin' option look like a user PIN instead of an SO PIN

2003-10-30 17:04  okir

	* trunk/src/tools/opensc-explorer.c: - added some support for
	  OpenPGP cards
	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/card-openpgp.c, trunk/src/libopensc/ctx.c: -
	  added initial support for openpgp card driver
	* trunk/src/libopensc/opensc.h: - added sc_get_data/sc_put_data -
	  added openpgp card driver

2003-10-30 17:03  okir

	* trunk/src/libopensc/card.c: - added sc_get_data/sc_put_data
	* trunk/src/libopensc/errors.c, trunk/src/libopensc/errors.h: -
	  added SC_ERROR_DATA_OBJECT_NOT_FOUND

2003-10-30 15:43  okir

	* trunk/src/libopensc/card-mcrd.c: - small fix in mcrd_finish

2003-10-30 12:03  okir

	* trunk/src/pkcs15init/pkcs15-cflex.c: - return error if
	  cflex_create_dummy_chvs fails

2003-10-30 11:47  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - Another broken commit
	  message :-/ What the previous commit was all about: If we store
	  a pkcs12 files on the card, it stores a key @45, and a CA certs
	  @46. When storing another p12 file, we must make sure we don't
	  grab the next free key ID (46), because the corresponding CERT
	  ID is already taken. We must skip all IDs for which a key or
	  cert exists.

2003-10-30 11:43  okir

	* trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h: -
	  Changed the internal object search machinery quite a bit so it
	  can search for more than one type of object at the same time. -
	  When enumerating a DF as part of the search, no longer ignore
	  all errors. - When parsing a DF, SC_ERROR_ASN1_END_OF_CONTENTS
	  really means we've just reached the end of data in the file, so
	  return 0 instead

2003-10-30 11:38  okir

	* trunk/src/libopensc/asn1.c: - When encountering the end of a
	  SEQUENCE, while there should be more items, we used to return
	  SC_ERROR_ASN1_END_OF_CONTENTS. That error code is reserved for
	  the real end of content markers though. Changed the return code
	  to SC_ERROR_ASN1_OBJECT_NOT_FOUND

2003-10-30 11:36  okir

	* trunk/src/tools/pkcs15-init.c: - When storing a p12 bag, check
	  if the CA cert is already present and skip it if so.

2003-10-30 11:13  okir

	* trunk/src/pkcs15init/flex.profile,
	  trunk/src/pkcs15init/pkcs15-lib.c: - added recommendation about
	  2 cert/key pairs

2003-10-28 12:50  okir

	* trunk/src/libopensc/ui.c: - don't call sc_module_get_address
	  when we dont have a dll handle

2003-10-24 13:20  okir

	* trunk/src/tools/pkcs15-init.c: - now uses new sc_ui_get_pin
	  function

2003-10-24 13:18  okir

	* trunk/src/libopensc/ui.c, trunk/src/libopensc/ui.h: - Changed ui
	  API to offer more knobs and dials

2003-10-23 09:12  aet

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak: - Merging between
	  Makefile.am<>Makefile.mak - Add ui.h to main distribution
	  tarball, snapshots have been broken for a few days

2003-10-22 18:16  aet

	* trunk/src/libopensc/ctx.c, trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/log.c, trunk/src/libopensc/ui.c: - Minor
	  cleanups and a warning fix - sc_release_context: free
	  ctx->preferred_language if set

2003-10-22 08:51  aet

	* trunk/src/libopensc/ui.c: - Replace WIN32 with HAVE_UNISTD_H
	  instead

2003-10-22 08:43  sth

	* trunk/src/libopensc/Makefile.mak, trunk/src/libopensc/ui.c: Let
	  the new UI code compile under Windows

2003-10-22 06:56  sth

	* trunk/src/pkcs15init/Makefile.mak: 'Export' keychache.h
	* trunk/src/sslengines/engine_opensc.c,
	  trunk/src/sslengines/engine_pkcs11.c: Fix: spurious error
	  message (Chaskiel & Kevin)

2003-10-22 06:51  okir

	* trunk/src/tests/regression/functions: - allow to call scripts
	  with --soft and -d

2003-10-22 06:49  okir

	* trunk/src/libopensc/card-flex.c, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/log.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/ui.c: - added error/debug message support to
	  ui.c - sc_error/sc_debug now use the new ui code - added
	  language support

2003-10-22 05:43  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - do an sc_select_file inside
	  do_get_pin_and_verify in case we called a pkcs15 function that
	  enumerated the AODF

2003-10-21 13:30  okir

	* trunk/src/tools/pkcs15-init.c: - call sc_pkcs15init_set_p15card

2003-10-21 12:50  aet

	* trunk/src/signer/Makefile.am, trunk/src/sslengines/Makefile.am:
	  - Add necessary automake conditionals to install-exec-local
	  rule, as it seems to be executed even though lib_LTLIBRARIES is
	  empty in some cases.

2003-10-21 12:48  aet

	* trunk/src/include/opensc/Makefile.am: - Sort filenames

2003-10-21 12:27  aet

	* trunk/configure.in: - Add gcc option -fno-strict-aliasing

2003-10-21 11:12  okir

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/ui.c,
	  trunk/src/libopensc/ui.h: - Added new user interface code (not
	  used yet)
	* trunk/src/include/opensc/Makefile.am: - install ui.h

2003-10-21 11:11  okir

	* trunk/src/libopensc/errors.c: - added message for
	  SC_ERROR_CANNOT_LOAD_MODULE - changed the wording of some
	  SC_ERROR_KEYPAD_* messages
	* trunk/src/libopensc/errors.h: - added SC_ERROR_CANNOT_LOAD_MODULE

2003-10-21 11:05  okir

	* trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h:
	  - sc_pkcs15_find_pin_by_reference now searches by reference
	  _and_path_ - profile->p15_card renamed to p15_spec, as it
	  reflects what _should_ be on the card - added profile->p15_data,
	  which is what _is_ on the card - make do_get_pin_and_verify use
	  the sc_pkcs15_find_pin_by_reference properly.

2003-10-21 11:02  okir

	* trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h: -
	  sc_pkcs15_find_pin_by_reference now searches by reference and
	  path

2003-10-21 08:59  okir

	* trunk/src/libopensc/iso7816.c,
	  trunk/src/tools/opensc-explorer.c: - fixed change/unblock pin
	  with implicit test

2003-10-21 08:32  okir

	* trunk/src/pkcs15init/etoken.profile: - disallow UPDATE on the
	  Application DF

2003-10-21 08:31  okir

	* trunk/src/libopensc/card-etoken.c: - support UPDATE ACLs when
	  creating a DF

2003-10-19 18:05  okir

	* trunk/src/libopensc/dir.c, trunk/src/libopensc/opensc.h: - bump
	  max number of apps per card to 8

2003-10-19 18:02  okir

	* trunk/src/libopensc/card-tcos.c: - tcos_card_ctl shoudlnt
	  complain about unknown cardctls

2003-10-18 17:07  okir

	* trunk/src/tools/pkcs11-tool.c: - Do not overflow signature test
	  for 2K bit keys (fix by Chaskiel Grundman)

2003-10-18 17:02  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - dont pin protect pubkey

2003-10-18 12:51  okir

	* trunk/src/pkcs15init/etoken.profile: - data files had
	  ERASE=NEVER; which is obviously bad

2003-10-18 12:41  okir

	* trunk/src/tools/opensc-explorer.c: - previous patch was
	  bogus/incomplete

2003-10-18 12:40  okir

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/tools/opensc-explorer.c: pkcs11/framework-pkcs15.c

2003-10-18 12:35  okir

	* trunk/src/tools/pkcs11-tool.c: - honor --pin argument for pin
	  pad readers, too

2003-10-18 08:39  okir

	* trunk/src/libopensc/card-flex.c, trunk/src/libopensc/cardctl.h,
	  trunk/src/pkcs15init/pkcs15-cflex.c: - fix cflex key generation

2003-10-18 08:08  okir

	* trunk/src/pkcs15init/pkcs15-cflex.c: - fix for cryptoflex key
	  download

2003-10-17 11:21  okir

	* trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: - Prepare for userConsent
	  support: changed ops->create_pin to take a sc_pkcs15_object_t
	  instead of sc_pkcs15_pin_info_t argument.

2003-10-16 20:41  aet

	* trunk/macos/libtool-bundle: - Merge with recent OpenCT changes

2003-10-16 14:32  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - some more cleanup

2003-10-16 14:31  okir

	* trunk/src/pkcs15init/pkcs15-etoken.c: - On-board generation of
	  non-repudiation keys did not work - Minor cleanup

2003-10-16 11:41  okir

	* trunk/debian, trunk/debian/README.Debian,
	  trunk/debian/TODO.Debian, trunk/debian/changelog,
	  trunk/debian/control, trunk/debian/copyright,
	  trunk/debian/libopensc-dev.dirs,
	  trunk/debian/libopensc-dev.doc-base,
	  trunk/debian/libopensc-dev.docs,
	  trunk/debian/libopensc-dev.files,
	  trunk/debian/libopensc0.conffiles, trunk/debian/libopensc0.dirs,
	  trunk/debian/libopensc0.doc-base, trunk/debian/libopensc0.docs,
	  trunk/debian/libopensc0.files, trunk/debian/libpam-opensc.dirs,
	  trunk/debian/libpam-opensc.docs,
	  trunk/debian/libpam-opensc.files, trunk/debian/opensc.dirs,
	  trunk/debian/opensc.docs, trunk/debian/opensc.files,
	  trunk/debian/postinst, trunk/debian/postrm,
	  trunk/debian/preinst, trunk/debian/prerm, trunk/debian/rules,
	  trunk/docs/pkcs15-init.1, trunk/src/pkcs15init/pkcs15-lib.c: -
	  added debian packaging files from Joe Phillips

2003-10-15 13:21  okir

	* trunk/src/pkcs15init/pkcs15-etoken.c: - pin protection for keys
	  was broken

2003-10-15 09:36  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - one suppress_errors-- too
	  many
	* trunk/src/pkcs15init/pkcs15-etoken.c: - removed debugging print

2003-10-14 22:11  aet

	* trunk/src/pkcs11/framework-pkcs15.c: - Forgot to commit

2003-10-14 21:56  aet

	* trunk/src/include/opensc/Makefile.am,
	  trunk/src/libopensc/internal.h, trunk/src/libopensc/opensc.h,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs15init/keycache.h: - Fixed nightly snapshot
	  generation - Link keycache.h to src/include/opensc - Move mutex
	  function declarations to opensc.h

2003-10-14 11:23  sth

	* trunk/src/tools/opensc-tool.c: Change setlinebuf() to setbuf(),
	  which is also availabel for MSVS

2003-10-14 10:42  aet

	* trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs15-init.c: - Remove old callback error/debug
	  functions

2003-10-14 10:10  okir

	* trunk/src/tools/opensc-tool.c: - dont barf on empty directories

2003-10-14 09:58  okir

	* trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/flex_onepin.profile,
	  trunk/src/pkcs15init/flex_so.profile,
	  trunk/src/pkcs15init/pkcs15-small.profile: - removed obsolete
	  profiles

2003-10-14 09:57  okir

	* trunk/src/pkcs11/framework-pkcs15init.c,
	  trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/pkcs15-init.c: - Error logging changes: replace
	  ctx->log_errors with ctx->suppress_errors
	* trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h:
	  - Error logging changes: replace ctx->log_errors with
	  ctx->suppress_errors - remove error/debug callbacks; always use
	  sc_error/sc_debug

2003-10-14 09:56  okir

	* trunk/src/libopensc/card-gpk.c, trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card.c, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/dir.c, trunk/src/libopensc/log.c,
	  trunk/src/libopensc/log.h, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15.c: - Error logging changes: replace
	  ctx->log_errors with ctx->suppress_errors, so that we can nest
	  error suppression using suppress_errors++/suppress_errors--

2003-10-14 09:14  okir

	* trunk/src/tools/opensc-tool.c: - removed unused variable

2003-10-14 09:02  okir

	* trunk/src/libopensc/card-gpk.c: - the previous patch was bad;
	  fixed it

2003-10-14 08:33  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - replace
	  sc_pkcs15init_set_pin_data -> sc_keycache_put_key

2003-10-14 08:17  okir

	* trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-lib.c: - removed some dead code
	  inside #if 0/#endif

2003-10-14 08:10  okir

	* trunk/src/tools/opensc-tool.c: - Don't limit the number of times
	  the --send-apdu option may be given

2003-10-13 20:41  aet

	* trunk/src/pkcs15init/keycache.c,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c: - Some build/portability
	  fixes for the pkcs15init rewrite - Add
	  sc_pkcs15_get_<drv>_ops(), yet untested

2003-10-13 20:28  aet

	* trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c: - Revert previous patch,
	  an alternative patch to work around non-C99 and/or gcc issues
	  coming up soon.

2003-10-13 20:16  sth

	* trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c: Small changes to make it
	  work on non-C99 compilers

2003-10-13 16:13  okir

	* trunk/src/tests/regression/functions,
	  trunk/src/tests/regression/init0001,
	  trunk/src/tests/regression/init0002,
	  trunk/src/tests/regression/init0005,
	  trunk/src/tests/regression/init0007,
	  trunk/src/tests/regression/init0008,
	  trunk/src/tests/regression/init0012,
	  trunk/src/tests/regression/pin0001,
	  trunk/src/tests/regression/pin0002,
	  trunk/src/tests/regression/run-all: - updated/added tests
	* trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/Makefile.mak,
	  trunk/src/pkcs15init/etoken.profile,
	  trunk/src/pkcs15init/flex.profile,
	  trunk/src/pkcs15init/gpk.profile,
	  trunk/src/pkcs15init/keycache.c,
	  trunk/src/pkcs15init/keycache.h,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c,
	  trunk/src/pkcs15init/pkcs15.profile,
	  trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h,
	  trunk/src/tools/pkcs15-init.c: - pkcs15 rewrite

2003-10-13 14:52  okir

	* trunk/src/libopensc/pkcs15.c: - fixed a bug in the previous patch

2003-10-13 14:35  okir

	* trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h: -
	  added sc_pkcs15_find_prkey_by_reference

2003-10-13 14:34  okir

	* trunk/src/libopensc/errors.c, trunk/src/libopensc/errors.h: -
	  added some more errors
	* trunk/src/libopensc/card.c: - slightly enhanced debugging output
	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc.c: - new
	  path functions: sc_append_file_id, sc_compare_path

2003-10-12 19:57  okir

	* trunk/src/tools/pkcs15-tool.c: - allow all pins/puks to be
	  specified on the command line for testing

2003-10-12 08:34  aet

	* trunk/src/pkcs15init/pkcs15-cflex.c: - Remove unused variable

2003-10-11 21:02  sth

	* trunk/src/pkcs15init/flex_onepin.profile,
	  trunk/src/pkcs15init/pkcs15-cflex.c: Security fix: the
	  flex_onepin profile doesn't allow the AUT1 key to change the PIN
	  anymore. Also: it's possible now to add the SO pin to the
	  flex_onepin profile

2003-10-11 20:58  aet

	* trunk/src/openscd/commands.c, trunk/src/openscd/openscd.c,
	  trunk/src/signer/Makefile.am: - Add missing error->sc_error
	  conversions and other Assuan specific build fixes

2003-10-11 12:41  okir

	* trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c:
	  - some commands used the wrong APDU case

2003-10-10 14:48  sth

	* trunk/src/tools/pkcs15-crypt.c: Fix: don't free() a static
	  buffer (Ivo)

2003-10-10 14:24  sth

	* trunk/src/pkcs11/Makefile.mak: Fix: added all required OpenSC
	  libs to the link dependencies (Ivo)

2003-10-10 14:11  sth

	* trunk/src/sslengines/Makefile.mak: Fix: added scdl.lib to the
	  link list, and added all required OpenSSL libs to the link
	  dependencies (Ivo)

2003-10-08 06:46  aet

	* trunk/src/libopensc/reader-openct.c: Minor cleanup

2003-10-07 19:15  sth

	* trunk/etc/opensc.conf.example: Fix: wrong option name

2003-10-07 16:05  aet

	* trunk/win32/Make.rules.mak: Remove hardcoded VERSION define,
	  you'll need need to update versions from winconfig.h and also
	  version.rc.

2003-10-06 14:22  sth

	* trunk/src/libopensc/pkcs15-algo.c: Fix: add room for a
	  'last-flag' object (Ivo Pieck)

2003-10-02 12:21  sth

	* trunk/src/pkcs15init/pkcs15-lib.c: Fix: when doing a
	  sc_pkcs15init_generate_key(), the auth_id for the public key
	  wasn't put into the PuKDF

2003-10-02 09:21  sth

	* trunk/src/tools/pkcs15-tool.c: Allow the pkcs15 data to be
	  fetched by label instead of ID, as pkcs15 data objects don't
	  have an ID (Danny De Cock)

2003-10-02 09:18  sth

	* trunk/src/pkcs15init/pkcs15-lib.c: Correctly add the label to a
	  pkcs15 data object

2003-10-02 08:29  aet

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/mechanism.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/tools/pkcs11-tool.c: Tweak out some compiler warnings

2003-10-01 06:51  sth

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/mechanism.c, trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/sc-pkcs11.h, trunk/src/tools/pkcs11-tool.c:
	  Added C_DecryptInit() and C_Decrypt() for RSA keys

2003-09-30 20:43  sth

	* trunk/src/tools/pkcs15-init.c: Fix: read data as a binary file,
	  not as ASCII

2003-09-30 09:40  aet

	* trunk/win32/Makefile.am: Add Makefile.mak and version.rc to the
	  distribution tarball.

2003-09-30 09:19  sth

	* trunk/src/libopensc/Makefile.mak, trunk/src/tools/Makefile.mak:
	  Fix: don't link by default with openssl

2003-09-30 07:40  aet

	* trunk/NEWS: Add OpenSC 0.8.1 release date.

2003-09-29 14:29  sth

	* trunk/src/pkcs11/Makefile.mak: Some fixes that accidentially
	  crept in

2003-09-29 13:54  sth

	* trunk/src/pkcs11/mechanism.c: Fix: the hash-based RSA algo's can
	  only do sign/verify, no wrap, encrypt, ...)

2003-09-29 13:45  sth

	* trunk/src/tools/pkcs11-tool.c: Fixed a bug in the mechanism
	  listing and made it more general

2003-09-29 09:00  aet

	* trunk/src/pkcs11/pkcs11-spy.c: Cleanups to scconf handling

2003-09-29 08:59  aet

	* trunk/etc/opensc.conf.example: - Fix a typo - Rename init block
	  into spy instead

2003-09-28 19:22  sth

	* trunk/etc/opensc.conf.example, trunk/src/pkcs11/Makefile.am,
	  trunk/src/pkcs11/Makefile.mak, trunk/src/pkcs11/pkcs11-spy.c:
	  Some changes for the spy: (1) renamed opens-spy to pkcs11-spy,
	  (2) exported all pkcs11 functions, (3) start the log with the
	  name of the module-to-be-loaded, (4) first look in the
	  opensc.conf file for the module and log names

2003-09-26 08:15  aet

	* releases/opensc-0.8.1/configure.in,
	  trunk/src/include/winconfig.h: Rename HAVE_PCSCLITE to
	  HAVE_PCSC, which is more correct.
	* trunk/configure.in: Rename HAVE_PCSCLITE to HAVE_PCSC, which is
	  more correct.
	* releases/opensc-0.8.1/src/include/winconfig.h,
	  trunk/src/libopensc/reader-pcsc.c: Rename HAVE_PCSCLITE to
	  HAVE_PCSC, which is more correct.
	* releases/opensc-0.8.1/src/libopensc/reader-pcsc.c,
	  trunk/src/libopensc/ctx.c: Rename HAVE_PCSCLITE to HAVE_PCSC,
	  which is more correct.

2003-09-25 15:52  aet

	* trunk/configure.in: Fix OpenCT probe issues

2003-09-25 09:33  aet

	* trunk/src/libopensc/dir.c, trunk/src/libopensc/pkcs15-sec.c,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/pkcs11-tool.c: Fix various C compiler warnings
	  and C++ errors / name conflicts

2003-09-24 19:58  aet

	* trunk/macos/libtool-bundle: Oops, remove hardcoded bundle
	  creator / type

2003-09-24 10:17  aet

	* trunk/ChangeLog: Remove old ChangeLog, add URL to the new
	  location.

2003-09-24 09:20  aet

	* trunk/docs/opensc.html, trunk/docs/opensc.xml: TODO update

2003-09-18 09:18  aet

	* trunk/src/openssh/Makefile.am,
	  trunk/src/openssh/openssh-3.6.1p2.README,
	  trunk/src/openssh/openssh-3.6.1p2.diff: Remove old patches for
	  OpenSSH 3.6.1p2, anyone interested is probably already using
	  version 3.7.1p1.

2003-09-17 19:03  aet

	* trunk/configure.in, trunk/src/scam/scam.c: Back out previous
	  change, wrong branch.

2003-09-17 18:59  aet

	* trunk/configure.in: Set version as 0.8.1.
	* trunk/src/scam/scam.c: Disable pkcs15-ldap from the 0.8.1
	  release.

2003-09-17 18:43  aet

	* trunk/ANNOUNCE, trunk/NEWS, trunk/src/include/winconfig.h,
	  trunk/win32/version.rc: Updates for the 0.8.1 release.

2003-09-17 16:20  aet

	* trunk/docs/opensc.html, trunk/docs/opensc.xml: Use &lt;version>
	  instead of hardcoded version number.

2003-09-16 06:36  sth

	* trunk/src/libopensc/dir.c: Bugfix: return SC_ERROR_OUT_OF_MEMORY
	  if malloc() fails (Kevin Stefanik)

2003-09-14 10:27  aet

	* trunk/configure.in, trunk/src/sslengines/Makefile.am: Fix
	  bootstrap issues with Debian/automake-1.4

2003-09-12 10:36  aet

	* trunk/src/pkcs11/pkcs11-global.c: Update PKCS#11 library version
	  to 0.8.

2003-09-12 06:48  aet

	* trunk/configure.in: The previous libsocket/libresolv configure
	  cleanup broke LDAP support for at least Solaris. Therefore
	  assume, that if we have to use libsocket, probe for libresolv as
	  well although OpenSC's internals don't use it.

2003-09-11 12:11  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Fix: C_GenerateKeyPair(),
	  C_CreateObject() returned CKR_USER_NOT_LOGGED_IN if lock_login
	  is set to false in the config file, because then the pkcs15_init
	  functions do a logoff internally

2003-09-11 08:01  sth

	* trunk/src/common/getopt.c, trunk/src/common/getopt1.c: Removed
	  compiler errors under Win32

2003-09-11 06:02  sth

	* trunk/src/include/winconfig.h: First include <stdio.h>,
	  otherwise the #include <windows.h> turns wchar_t into an
	  (unsigned) short (Unicode)

2003-09-10 22:20  aet

	* trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15-tool.c: C++ warning fixes

2003-09-10 14:08  sth

	* trunk/Makefile.mak, trunk/src/libopensc/Makefile.mak,
	  trunk/src/pkcs11/Makefile.mak, trunk/src/tests/Makefile.mak,
	  trunk/src/tools/Makefile.mak, trunk/win32/Makefile.mak,
	  trunk/win32/version.rc: Added version info to the Win32
	  binaries, and set the version number to 0.8.0.0 (4 numbers seems
	  to be needed)

2003-09-10 10:42  aet

	* trunk/src/scam/cert_support.c: Build fix for MacOS X.

2003-09-10 10:41  aet

	* trunk/src/pkcs11/pkcs11.h: Remove extra semicolons

2003-09-10 10:03  aet

	* trunk/configure.in: Accidently changed the version number, fixed.

2003-09-10 10:02  aet

	* trunk/configure.in: Replace overly complex and old configure
	  magic for connect() and friends, just check for socket() in
	  libsocket.

2003-09-09 15:02  aet

	* trunk/src/scam/Makefile.am, trunk/src/scam/cert_support.c,
	  trunk/src/scam/cert_support.h: Add cert_support.c for
	  pkcs15-ldap support, old legacy code that needs to be removed at
	  some point. Implemented against OpenSSL 0.9.6, not much tested
	  against 0.9.7.

2003-09-09 15:00  aet

	* trunk/src/scam/p15_ldap.c: Add very preliminary and quick port
	  of an old scam code that implements ldap-authentication support,
	  needs to be rewritten for more specific OpenSC usage some other
	  day. Work in progress, only tested with FINEID cards.

2003-09-09 14:47  aet

	* trunk/src/scam/scam.c: Remove old cruft, enable p15-ldap support
	  (PAM option auth_method=pkcs15-ldap)

2003-09-08 13:38  sth

	* trunk/src/libopensc/log.c: Increase log buffer size, so that 255
	  hex bytes still can be logged

2003-09-06 19:18  aet

	* trunk/src/pkcs15init/pkcs15-lib.c: Warning fix

2003-09-06 18:30  aet

	* trunk/NEWS: Preliminary update for the upcoming release

2003-09-06 17:56  aet

	* trunk/src/sslengines/engine_opensc.c,
	  trunk/src/sslengines/engine_opensc.h,
	  trunk/src/sslengines/engine_pkcs11.c,
	  trunk/src/sslengines/engine_pkcs11.h,
	  trunk/src/sslengines/hw_opensc.c,
	  trunk/src/sslengines/hw_pkcs11.c,
	  trunk/src/sslengines/p11_attr.c,
	  trunk/src/sslengines/p11_cert.c, trunk/src/sslengines/p11_err.c,
	  trunk/src/sslengines/p11_key.c, trunk/src/sslengines/p11_load.c,
	  trunk/src/sslengines/p11_misc.c, trunk/src/sslengines/p11_rsa.c,
	  trunk/src/sslengines/p11_slot.c,
	  trunk/src/sslengines/pkcs11-internal.h: Indent sources

2003-09-06 17:29  aet

	* trunk/src/sslengines/engine_opensc.c,
	  trunk/src/sslengines/engine_opensc.h,
	  trunk/src/sslengines/engine_pkcs11.c,
	  trunk/src/sslengines/engine_pkcs11.h,
	  trunk/src/sslengines/hw_opensc.c,
	  trunk/src/sslengines/p11_attr.c,
	  trunk/src/sslengines/p11_cert.c, trunk/src/sslengines/p11_key.c,
	  trunk/src/sslengines/p11_load.c,
	  trunk/src/sslengines/p11_misc.c, trunk/src/sslengines/p11_rsa.c,
	  trunk/src/sslengines/p11_slot.c,
	  trunk/src/sslengines/pkcs11-internal.h: Bunch of generic
	  compiler warning and C++ fixes before indenting the sources,
	  apparently OpenSSL engines are not under a heavy development
	  anymore.

2003-09-06 16:18  aet

	* trunk/src/pkcs11/libpkcs11.c, trunk/src/pkcs11/pkcs11-spy.c,
	  trunk/src/pkcs11/pkcs11.h, trunk/src/scdl/scdl.c,
	  trunk/src/scdl/scdl.h, trunk/src/sslengines/p11_load.c,
	  trunk/src/tools/pkcs11-tool.c: Don't bother exposing
	  sc_pkcs11_module_t and scdl_context_t to public headers, use
	  void instead.

2003-09-06 13:36  sth

	* trunk/src/pkcs11/pkcs11-display.c: Fix: don't print the contents
	  of a NULL pointer

2003-09-06 13:35  sth

	* trunk/src/pkcs11/Makefile.mak: Typo fix

2003-09-06 13:13  sth

	* trunk/src/pkcs11/Makefile.mak: Build the pkcs11 spy on Win32

2003-09-06 05:57  sth

	* trunk/src/tools/opensc-explorer.c: Fix: handle the 3rd argument
	  of the Change PIN and Unblock PIN commands correctly

2003-09-05 20:16  sth

	* trunk/src/libopensc/card-flex.c: Fix: let this card driver do
	  the unblocking itself, don't send it to the iso7816 code (Victor
	  Tarasov)

2003-09-05 07:22  aet

	* trunk/src/libopensc/reader-openct.c,
	  trunk/src/libopensc/reader-usbtoken.c: Warning fix

2003-09-04 16:41  aet

	* trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-openct.c,
	  trunk/src/libopensc/reader-pcsc.c,
	  trunk/src/libopensc/reader-usbtoken.c: Remove gcc specific code
	  from usbtoken/openct drivers, untested.

2003-09-04 13:50  aet

	* trunk/src/pkcs11/pkcs11-display.h,
	  trunk/src/pkcs11/pkcs11-spy.c: PKCS#11 spy fixes by Mathias
	  Brossard

2003-09-03 21:53  aet

	* trunk/src/pkcs11/Makefile.am: Fix make distcheck to work again,
	  weird that it stopped working only after the opensc-spy patching.

2003-09-03 21:31  aet

	* trunk/src/libopensc/card-etoken.c: error -> sc_error

2003-09-03 18:55  okir

	* trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/cardctl.h: - Properly detect CarDOS
	  lifecycle MANUFACTURING and report it as "OTHER"

2003-09-03 18:21  aet

	* trunk/src/libopensc/portability.c: Typo fix

2003-09-03 18:18  aet

	* trunk/src/include/winconfig.h, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/portability.c,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/scrandom/scrandom.c:
	  Move #include <windows.h> to winconfig.h in order to minimize
	  win32 specific code sections.

2003-09-03 18:08  aet

	* trunk/src/pkcs11/Makefile.am, trunk/src/pkcs11/pkcs11-display.c,
	  trunk/src/pkcs11/pkcs11-display.h,
	  trunk/src/pkcs11/pkcs11-spy.c: - Linking cleanups for libpkcs11
	  / opensc-pkcs11 - Build fixes for PKCS#11 spy module by Mathias,
	  so far untested. TODO: C_UnloadModule?

2003-09-03 17:59  aet

	* trunk/src/libopensc/asn1.h, trunk/src/libopensc/log.h: SC ->
	  OPENSC, old legacy from the libsc days

2003-09-03 17:19  aet

	* trunk/src/pkcs11/pkcs11-display.c,
	  trunk/src/pkcs11/pkcs11-display.h,
	  trunk/src/pkcs11/pkcs11-spy.c: Add PKCS#11 spy sources by
	  Mathias Brossard <mathias dot brossard AT idealx dot com>

2003-09-03 17:07  aet

	* trunk/src/pkcs11/libpkcs11.c, trunk/src/pkcs11/pkcs11.h,
	  trunk/src/sslengines/Makefile.am,
	  trunk/src/sslengines/engine_opensc.c,
	  trunk/src/sslengines/engine_opensc.h,
	  trunk/src/sslengines/engine_pkcs11.c,
	  trunk/src/sslengines/engine_pkcs11.h,
	  trunk/src/sslengines/hw_opensc.c,
	  trunk/src/sslengines/hw_pkcs11.c,
	  trunk/src/sslengines/libpkcs11.h,
	  trunk/src/sslengines/p11_attr.c,
	  trunk/src/sslengines/p11_cert.c, trunk/src/sslengines/p11_err.c,
	  trunk/src/sslengines/p11_key.c, trunk/src/sslengines/p11_load.c,
	  trunk/src/sslengines/p11_misc.c, trunk/src/sslengines/p11_rsa.c,
	  trunk/src/sslengines/p11_slot.c,
	  trunk/src/sslengines/pkcs11-internal.h: - Remove
	  sslengines/libpkcs11.h, it's almost identical to libpkcs11's
	  pkcs11.h. - Move default PKCS#11 library defines to pkcs11.h, so
	  they can be used by 3rdparty applications as well. - Minor
	  cleanups

2003-09-03 09:28  aet

	* trunk/src/include/winconfig.h, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-emv.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/ctbcs.c, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/dir.c, trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/log.c,
	  trunk/src/libopensc/module.c, trunk/src/libopensc/padding.c,
	  trunk/src/libopensc/pkcs15-algo.c,
	  trunk/src/libopensc/pkcs15-cache.c,
	  trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-data.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15-sec.c,
	  trunk/src/libopensc/pkcs15-wrap.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/portability.c,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-openct.c,
	  trunk/src/libopensc/reader-pcsc.c,
	  trunk/src/libopensc/reader-usbtoken.c, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/sec.c: - Stop using unflexible automake
	  conditionals when building PC/SC, OpenCT or USBToken support,
	  use ifdef's directly in source. - Because of above, add
	  HAVE_PCSCLITE for winconfig.h - Remove unnecessary includes for
	  log.h, opensc.h and errors.h in libopensc sources, they're
	  already taken care by internal.h.

2003-09-02 20:44  aet

	* trunk/macos/libtool-bundle: Generate minimal Info.plist and
	  PkgInfo for bundles

2003-09-01 08:48  aet

	* trunk/src/scdl/scdl.h: EUSER: Cut'n'paste error

2003-09-01 08:43  aet

	* trunk/configure.in, trunk/src/Makefile.am,
	  trunk/src/Makefile.mak, trunk/src/include/opensc/Makefile.am,
	  trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak, trunk/src/libopensc/module.c,
	  trunk/src/pkcs11/Makefile.am, trunk/src/pkcs11/Makefile.mak,
	  trunk/src/pkcs11/libpkcs11.c, trunk/src/scdl,
	  trunk/src/scdl/.cvsignore, trunk/src/scdl/Makefile.am,
	  trunk/src/scdl/Makefile.mak, trunk/src/scdl/scdl.c,
	  trunk/src/scdl/scdl.h: Move scdl to it's own subdirectory,
	  although it's merely for internal purposes only.

2003-08-29 16:29  aet

	* trunk/src/libopensc/module.c, trunk/src/pkcs11/libpkcs11.c,
	  trunk/src/scdl, trunk/src/scdl/scdl.c: - Move all dynamic
	  loading related code to src/common/scdl.c, probably needs some
	  more work. As a side bonus, we now have a working CT-API support
	  for MacOS X.

2003-08-29 16:26  aet

	* trunk/src/libopensc/ctx.c, trunk/src/libopensc/log.c: Cleanups

2003-08-29 12:55  okir

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc.c: - added
	  sc_print_path
	* trunk/src/libopensc/card.c, trunk/src/libopensc/log.h: -
	  slightly improved debugging output

2003-08-29 12:54  okir

	* trunk/src/libopensc/card-flex.c: - path cache wasn't cleared on
	  error in flex_select_file - slightly better debugging output

2003-08-28 13:08  aet

	* trunk/configure.in, trunk/src/libopensc/Makefile.am,
	  trunk/src/scam/Makefile.am, trunk/src/scldap/Makefile.am: -
	  Cleanups to Makefile.am if / endif mess - Don't bother checking
	  OpenSSL engine LDFLAGS if no engine detected

2003-08-28 12:51  okir

	* trunk/src/libopensc/asn1.c: - added missing newline to error msg

2003-08-28 12:50  okir

	* trunk/src/libopensc/card-gpk.c: - added missing intialization of
	  apdu struct

2003-08-27 08:47  aj

	* trunk/docs/opensc.html, trunk/docs/opensc.xml: Documentation
	  fixes by Ville Skytt&#65533;&#65533;.

2003-08-26 10:55  aet

	* trunk/configure.in: Merge with OpenCT

2003-08-25 14:21  aet

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-emv.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/ctbcs.c, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/dir.c, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/log.c, trunk/src/libopensc/log.h,
	  trunk/src/libopensc/module.c, trunk/src/libopensc/padding.c,
	  trunk/src/libopensc/pkcs15-algo.c,
	  trunk/src/libopensc/pkcs15-cache.c,
	  trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15-sec.c,
	  trunk/src/libopensc/pkcs15-wrap.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-openct.c,
	  trunk/src/libopensc/reader-pcsc.c,
	  trunk/src/libopensc/reader-usbtoken.c, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/sec.c, trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/misc.c, trunk/src/pkcs11/openssl.c,
	  trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/pkcs11-session.c, trunk/src/pkcs11/slot.c:
	  Rename libopensc specific error/debug to sc_error/sc_debug We
	  should have done this ages ago.

2003-08-25 10:21  aet

	* trunk/configure.in: Remove old cruft, minor reorganizing changes

2003-08-25 09:29  aet

	* trunk/src/scconf/lex-parse.l: Add fix by Olaf to handle CRLF
	  style text files as well

2003-08-25 09:28  aet

	* trunk/src/pkcs15init/flex_so.profile: CRLF->LF

2003-08-22 13:44  aet

	* trunk/configure.in: Allow MacOS X users to disable the use of
	  PC/SC using --with-pcsclite=no.

2003-08-22 11:47  aet

	* trunk/bootstrap: Merge with recent OpenCT changes

2003-08-21 05:39  okir

	* trunk/src/libopensc/asn1.c: - Do not barf on empty SEQUENCEs if
	  all elements inside are OPTIONAL

2003-08-20 14:15  sth

	* trunk/src/libopensc/pkcs15-data.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs15-init.c: Fix: don't DER-en/decode the data
	  in a pkcs15 object

2003-08-18 14:54  aet

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/portability.c,
	  trunk/src/pkcs11/pkcs11-global.c, trunk/src/pkcs11/sc-pkcs11.h:
	  - Rename sysdep_timestamp_t to sc_timestamp_t - Add missing
	  function prototype for sc_current_time

2003-08-18 14:28  aet

	* trunk/configure.in, trunk/src/libopensc/Makefile.am,
	  trunk/src/pkcs11/Makefile.am, trunk/src/pkcs15init/Makefile.am,
	  trunk/src/scconf/Makefile.am, trunk/src/scldap/Makefile.am: Add
	  common versioning to all libraries

2003-08-18 13:45  aet

	* trunk/src/pkcs11/Makefile.am, trunk/src/pkcs11/libpkcs11.c,
	  trunk/src/signer/Makefile.am, trunk/src/sslengines/Makefile.am:
	  - Install OpenSSL engines as bundles as well - Don't bother
	  "renaming" opensc-pkcs11.so when installing as bundle. - More
	  irrelevant cleanups

2003-08-18 12:06  aet

	* trunk/src/libopensc/Makefile.am, trunk/src/pkcs11/Makefile.am,
	  trunk/src/pkcs11/rsaref/Makefile.am,
	  trunk/src/pkcs15init/Makefile.am, trunk/src/scconf/Makefile.am,
	  trunk/src/scldap/Makefile.am, trunk/src/scrandom/Makefile.am:
	  Minor cleanups

2003-08-18 12:05  aet

	* trunk/configure.in: Fix for --without-ldap-ssl

2003-08-18 11:15  aet

	* trunk/configure.in: Fix OpenSSL engine linking for MacOS X.
	  Somewhat works on patched OpenSSL 0.9.7b linked again dlcompat.
	  Macosx's default openssl (0.9.6) does not include engine support
	  and fink's openssl 0.9.7 doesn't include any support for dynamic
	  loading, but that's hardly not our problem.

2003-08-18 08:18  aj

	* trunk/src/openscd/commands.c: fix for compiling openscd, thanks
	  for help to werner koch.

2003-08-15 11:30  aet

	* trunk/Makefile.am: Add ANNOUNCE to distribution tarball

2003-08-15 10:07  aet

	* trunk/Makefile.am: Add macos

2003-08-15 09:00  okir

	* trunk/ANNOUNCE: - Updated gnupg statement

2003-08-14 16:05  aj

	* trunk/NEWS: Let's not advertise buggy code. Usbtoken is only a
	  fall back solution, openct is working far better.

2003-08-14 15:34  aet

	* trunk/NEWS: Updates for the upcoming release.

2003-08-14 12:45  aet

	* trunk/src/pkcs11/libpkcs11.c: - Allow MacOS X build to be able
	  to support simultaneously loading of .dylibs, .bundles (native
	  MacOS X) and bundle objects (.so) created by GNU libtool, if
	  dlcompat is found. Otherwise just support .dylibs and .bundles.

2003-08-14 11:47  aet

	* trunk/src/pkcs11/libpkcs11.c: Cleanups

2003-08-14 11:37  aet

	* trunk/configure.in, trunk/macos, trunk/macos/.cvsignore,
	  trunk/macos/Makefile.am, trunk/macos/libtool-bundle,
	  trunk/src/pkcs11/Makefile.am: - Minor cleanups - Add preliminary
	  support for MacOS X bundle installation

2003-08-14 07:13  sth

	* trunk/src/libopensc/sec.c: Global Platform PIN Encoding: 1. Fix
	  for pin changes: use the real length instead of the max length
	  -- 2. Check for valid pin chars

2003-08-12 11:44  aet

	* trunk/configure.in: - More cleanups - Add '-no-cpp-precomp'
	  check for MacOS X - Rename --with-ssl-dir to --with-openssl

2003-08-12 09:34  aj

	* trunk/configure.in: improve configure code for openssl.

2003-08-11 15:26  aet

	* trunk/configure.in: More cleanups

2003-08-11 14:52  aet

	* trunk/configure.in: Rewrite parts of the OpenSSL detection

2003-08-11 14:39  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - first stab at
	  user_consent handling

2003-08-11 13:56  okir

	* trunk/src/libopensc/card.c: - suppress stupid debug messages for
	  sc_lock/sc_unlock for debug level < 7

2003-08-11 13:55  okir

	* trunk/src/tests/print.c: - print user_consent field

2003-08-09 10:42  aj

	* trunk/configure.in: stupid bug, set those variables if empty...

2003-08-08 20:46  okir

	* trunk/ANNOUNCE: - Added announcement

2003-08-08 08:44  okir

	* trunk/src/tools/pkcs15-crypt.c: - when asked to sign data, also
	  consider SIGNRECOVER and NONREPUDIATION keys - properly
	  interpret return value of get_key

2003-08-08 08:41  aj

	* trunk/configure.in: "-lcrypt" is always wrong for CRYPTOA, and
	  we always need a path to find libcrypto.a. So default to /usr.

2003-08-08 08:34  okir

	* trunk/src/tools/pkcs15-tool.c: - cleaned up formatting

2003-08-07 06:47  sth

	* trunk/src/sslengines/p11_slot.c: Fix: use of uninitalised
	  variable

2003-08-06 13:01  aet

	* trunk/NEWS, trunk/docs/opensc.html, trunk/docs/opensc.xml:
	  Status update

2003-08-06 12:13  sth

	* trunk/src/libopensc/Makefile.mak: correct makefile so that the
	  depending libopensc is updated when a new scconf.lib exist (Ivo
	  Pieck)

2003-08-06 12:01  aet

	* trunk/src/pkcs11/libpkcs11.c: Blah, unify the string handling a
	  bit

2003-08-06 11:18  sth

	* trunk/src/tools/pkcs11-tool.c: Removed some unnecessary output

2003-08-06 08:45  aet

	* trunk/src/pkcs11/libpkcs11.c: - Fixed a mac specific compiler
	  warning - Fixed libdl-specific code to work with Fink's dlcompat
	  package

2003-08-06 07:36  aet

	* trunk/src/pkcs11/openssl.c: Fixed a typo

2003-08-05 19:26  sth

	* trunk/src/pkcs11/openssl.c: Fixed the verification, so that it
	  corresponds completely with the signature functions (more
	  specifically: the special cases are provided for SHA-1 and MD5
	  signatures with the RSA_PKCS1_PADDING mechanism)

2003-08-05 17:28  aet

	* trunk/src/libopensc/iso7816.c,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/tools/pkcs11-tool.c: Remove some compiler warnings

2003-08-05 10:34  okir

	* trunk/src/tests/regression/functions: - accept option -T - added
	  function skip_unless_card
	* trunk/src/tests/regression/run-all: - accept option -T

2003-08-05 10:12  sth

	* trunk/src/scconf/Makefile.mak: Under Windows, flex generates
	  lex_parse_win32.c, because the default lex_parse.c that is in
	  the snapshots and in the releases won't compile on Windows

2003-08-05 09:50  okir

	* trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/pkcs15-small.profile,
	  trunk/src/pkcs15init/pkcs15.profile: - doubled file size of
	  PrKDF, PuKDF, CDF etc - provided old profile as
	  pkcs15-small.profile for e.g. GPK4K

2003-08-05 09:08  sth

	* trunk/docs/sc_pkcs15_compute_signature.3: Added info about
	  SC_ALGORITHM_RSA_HASH_NONE, to comply with the 0.8.0 release

2003-08-05 07:09  aet

	* trunk/src/pam, trunk/src/pam/.cvsignore,
	  trunk/src/pam/Makefile.am: Renamed pam_opensc-test to test-pam

2003-08-04 15:11  aet

	* trunk/configure.in, trunk/src/pam/misc_conv.c,
	  trunk/src/pam/pam_support.h: Add support for native MacOS X pam
	  header location

2003-08-01 07:03  aj

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc.c,
	  trunk/src/pkcs15init/pkcs15-lib.c: seperator is written to an
	  u8, so it should be a char or u8 anyway.

2003-07-31 21:16  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - warn if EF is too small for
	  the amount of data we want to write

2003-07-31 19:06  okir

	* trunk/src/libopensc/card.c: - fixed error message

2003-07-31 08:27  sth

	* trunk/src/libopensc/opensc.h: Removed a call for a (not yet)
	  existing driver, which I accidentally added along with another
	  change

2003-07-31 08:10  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - indentation fix

2003-07-30 14:46  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Fix: if a pkcs11 attribute
	  is requested that valid for that type of object, but that we
	  don't have, then we should return length = 0 instead of
	  returning CKR_ATTRIBUTE_TYPE_INVALID

2003-07-30 12:51  aet

	* trunk/configure.in, trunk/src/sslengines/Makefile.am: Add
	  support for probing the correct extra magic needed for linking
	  sslengines. Probably not perfect, but it's a start.

2003-07-30 11:07  okir

	* trunk/src/libopensc/card-gpk.c: - fixed VERIFY handling

2003-07-30 09:50  aet

	* trunk/configure.in, trunk/src/libopensc/Makefile.am,
	  trunk/src/openscd/Makefile.am, trunk/src/pam/Makefile.am,
	  trunk/src/pkcs11/Makefile.am, trunk/src/pkcs15init/Makefile.am,
	  trunk/src/scam/Makefile.am, trunk/src/sia/Makefile.am,
	  trunk/src/signer/Makefile.am, trunk/src/sslengines/Makefile.am,
	  trunk/src/tests/Makefile.am, trunk/src/tools/Makefile.am: Remove
	  CFLAGS_OPENSC, cleanups to INCLUDES handling.

2003-07-29 11:52  aet

	* trunk/configure.in: Fix OpenSSL engine detection for cases using
	  --with-ssl-dir.

2003-07-29 11:50  aet

	* trunk/src/scam/Makefile.am: Fix for the MacOS X pam module
	  installation

2003-07-29 10:17  aet

	* trunk/src/scrandom/Makefile.am: Remove old references to OpenSSL

2003-07-29 10:04  aet

	* trunk/Makefile.am, trunk/docs/Makefile.am,
	  trunk/src/include/opensc/Makefile.am,
	  trunk/src/include/opensc/rsaref/Makefile.am,
	  trunk/src/pkcs15init/Makefile.am, trunk/src/signer/Makefile.am,
	  trunk/src/tests/regression/Makefile.am: More consistent
	  indentation for multi-line variables

2003-07-28 13:19  sth

	* trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h:
	  Added struct sc_card to process_fci(), just like it's done with
	  the orhter card operations

2003-07-28 12:17  aet

	* trunk/docs/doxygen.conf: Upgrade the version number.

2003-07-28 12:11  aet

	* trunk/Makefile.am, trunk/docs/Makefile.am,
	  trunk/etc/Makefile.am, trunk/src/include/opensc/Makefile.am,
	  trunk/src/include/opensc/rsaref/Makefile.am,
	  trunk/src/libopensc/Makefile.am, trunk/src/openssh/Makefile.am,
	  trunk/src/pkcs11/Makefile.am,
	  trunk/src/pkcs11/rsaref/Makefile.am,
	  trunk/src/pkcs15init/Makefile.am, trunk/src/scam/Makefile.am,
	  trunk/src/scrandom/Makefile.am, trunk/src/signer/Makefile.am,
	  trunk/src/signer/npinclude/Makefile.am,
	  trunk/src/sslengines/Makefile.am, trunk/src/tests/Makefile.am,
	  trunk/src/tests/regression/Makefile.am,
	  trunk/src/tools/Makefile.am, trunk/src/usbtoken/Makefile.am,
	  trunk/win32/Makefile.am: Minor cleanups

2003-07-28 11:10  aet

	* trunk/src/pam/Makefile.am, trunk/src/pam/test-pam.c: Fix the
	  pam_opensc-test linking problem for AIX5.1+ and MacOS X MacOS X
	  doesn't have /usr/include/security so you'll need to symlink
	  /usr/include/pam to /usr/include/security yourself at the moment.

2003-07-28 10:02  aet

	* trunk/configure.in, trunk/src/libopensc/reader-pcsc.c: Add
	  support for MacOS X with PC/SC framework using autoconfigure.
	  Tested using Panther (WWDC build) + fink. Should work without
	  fink, too.

2003-07-27 16:51  aet

	* trunk/src/sslengines/Makefile.am: Renamed test_engine.s to
	  test_engine.sh

2003-07-27 16:50  sth

	* trunk/src/libopensc/pkcs15-sec.c: Fix: allways set pag_flags =
	  SC_ALGORITHM_RSA_HASH_NONE if sc_pkcs15_compute_signature() is
	  called with this flag

2003-07-27 16:31  aj

	* trunk/src/usbtoken/DEPRECATED, trunk/src/usbtoken/Makefile.am:
	  Add a big fat warning not to use usbtoken.

2003-07-25 09:01  aet

	* trunk/src/sia/Makefile.am: Build fix

2003-07-24 14:27  sth

	* trunk/src/libopensc/padding.c: Fix: don't give an error if the
	  hash algo is SC_ALGORITHM_RSA_HASH_NONE

2003-07-24 13:10  aet

	* trunk/src/libopensc/reader-pcsc.c,
	  trunk/src/sslengines/engine_opensc.c,
	  trunk/src/sslengines/engine_opensc.h,
	  trunk/src/sslengines/pkcs11-internal.h: - Build fixes

2003-07-24 11:29  sth

	* trunk/src/tools/pkcs11-tool.c: Added test code for Mozilla-like
	  keypair generation and the writing of a certificate

2003-07-24 10:00  aet

	* trunk/configure.in, trunk/src/Makefile.am,
	  trunk/src/openscd/Makefile.am, trunk/src/openscd/commands.c,
	  trunk/src/openscd/mkdtemp.c, trunk/src/openscd/openscd.c,
	  trunk/src/openscd/openscd.h, trunk/src/openscd/test.c: - Remove
	  src/assuan, what's the point of having --with-assuan if we're
	  including our own version? Besides, opensc-signer and openscd
	  both are incomplete versions, I don't know if they work at all.
	  - Minor cleanups to openscd.

2003-07-24 09:09  aet

	* trunk/src/tools/opensc-tool.c: Add missing 'n' for getopt_long

2003-07-24 08:35  sth

	* trunk/src/tools/pkcs11-tool.c: Little fix in test_verify()

2003-07-24 06:47  aj

	* trunk/src/libopensc/card-starcos.c: Nils fixes to starcos.

2003-07-24 06:46  aj

	* trunk/docs/opensc.html, trunk/docs/opensc.xml: Add Nils and
	  J&#65533;&#65533;rn to Authors.

2003-07-23 18:12  aj

	* trunk/src/openssh/openssh-3.6.1p2.diff: updated patch. changes:
	  - add Nils fix for split keys. - changed "ask for pin" code. The
	  later is ugly and needs to be changed. however it is open how we
	  can do that. Maybe it will require changes in openssh, so lets
	  keep it till those issues are solved.

2003-07-23 16:11  aet

	* trunk/src/scam/p15_ldap.c: Resync with p15_eid changes. No, it
	  still won't work.

2003-07-23 15:07  aet

	* trunk/configure.in, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c, trunk/src/scam/scam.c,
	  trunk/src/scam/scam.h: Remove the rest of old, obsolete SCIDI
	  related crap.

2003-07-23 14:31  sth

	* trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h:
	  Made the construct_fci() a card operaton, just like it has been
	  done with process_fci() before

2003-07-22 15:51  aj

	* trunk/src/libopensc/pkcs15.c: find the keys by usage (patch by
	  Nils Lars)

2003-07-22 15:50  aj

	* trunk/Makefile.am: clean *.m4 files.

2003-07-22 15:13  aj

	* trunk/src/pkcs15init/profile.c: somewhat improved profile search.

2003-07-22 09:54  sth

	* trunk/src/tools/pkcs11-tool.c: Added test code for the new
	  Verify functions

2003-07-21 13:03  aj

	* trunk/docs/opensc.html, trunk/docs/opensc.xml: add id's to all
	  chapter and section tags. add documentation on Eutron
	  CryptoIdendity IT-SEC.

2003-07-19 10:52  aj

	* trunk/Makefile.am: set automake option.

2003-07-18 09:34  sth

	* trunk/src/tools/pkcs15-crypt.c: Read the file's contents as
	  binary

2003-07-18 09:32  sth

	* trunk/src/tools/opensc-explorer.c: Read/write the file's
	  contents as binary

2003-07-17 23:03  okir

	* trunk/docs/Makefile.am,
	  trunk/docs/sc_pkcs15_compute_signature.3: - added
	  sc_pkcs15_compute_signature.3 draft
	* trunk/docs/sc_read_binary.3: - fixed typo

2003-07-17 22:59  sth

	* trunk/src/pkcs11/misc.c: Added some debugging info

2003-07-17 22:53  sth

	* trunk/src/pkcs11/openssl.c: Added some debugging info

2003-07-17 22:09  sth

	* trunk/src/pkcs11/mechanism.c: Fix: if a pkcs11 operation fails,
	  it should be ended

2003-07-17 16:50  aet

	* trunk/configure.in: Don't leave -lpcsclite to LIBS, use LIBPCSC
	  instead. We really don't want to directly link -lpcsclite to
	  every single library and program.

2003-07-17 15:13  aet

	* trunk/configure.in: Use $LIBDL instead of hardcoding to -ldl

2003-07-17 15:09  sth

	* trunk/src/include/winconfig.h: Little fix for Windows

2003-07-17 13:09  aet

	* trunk/bootstrap: For crying out loud, hands off. There is a
	  fucking reason for these files to be removed manually.

2003-07-17 13:07  aet

	* trunk/configure.in: Remove the use of AC_FUNC_MALLOC and
	  AC_FUNC_MEMCMP as they don't work correctly with autoconf 2.57,
	  we don't really need them for anything anyway.

2003-07-17 13:05  aet

	* trunk/src/sslengines/engine_opensc.c,
	  trunk/src/sslengines/engine_pkcs11.h: Remove C++-style //
	  comments. Yes, I know that they are ok in C99 spec, but who says
	  that all compilers are already C99 compatible.

2003-07-17 12:39  aet

	* trunk, trunk/.cvsignore, trunk/aclocal,
	  trunk/aclocal/.cvsignore, trunk/docs, trunk/docs/.cvsignore,
	  trunk/etc, trunk/etc/.cvsignore, trunk/src,
	  trunk/src/.cvsignore, trunk/src/common,
	  trunk/src/common/.cvsignore, trunk/src/include,
	  trunk/src/include/.cvsignore, trunk/src/include/opensc,
	  trunk/src/include/opensc/.cvsignore,
	  trunk/src/include/opensc/rsaref,
	  trunk/src/include/opensc/rsaref/.cvsignore, trunk/src/libopensc,
	  trunk/src/libopensc/.cvsignore, trunk/src/openscd,
	  trunk/src/openscd/.cvsignore, trunk/src/openssh,
	  trunk/src/openssh/.cvsignore, trunk/src/pam,
	  trunk/src/pam/.cvsignore, trunk/src/pkcs11,
	  trunk/src/pkcs11/.cvsignore, trunk/src/pkcs11/rsaref,
	  trunk/src/pkcs11/rsaref/.cvsignore, trunk/src/pkcs15init,
	  trunk/src/pkcs15init/.cvsignore, trunk/src/scam,
	  trunk/src/scam/.cvsignore, trunk/src/scconf,
	  trunk/src/scconf/.cvsignore, trunk/src/scldap,
	  trunk/src/scldap/.cvsignore, trunk/src/scrandom,
	  trunk/src/scrandom/.cvsignore, trunk/src/sia,
	  trunk/src/sia/.cvsignore, trunk/src/signer,
	  trunk/src/signer/.cvsignore, trunk/src/signer/npinclude,
	  trunk/src/signer/npinclude/.cvsignore, trunk/src/sslengines,
	  trunk/src/sslengines/.cvsignore, trunk/src/tests,
	  trunk/src/tests/.cvsignore, trunk/src/tests/regression,
	  trunk/src/tests/regression/.cvsignore, trunk/src/tools,
	  trunk/src/tools/.cvsignore, trunk/src/usbtoken,
	  trunk/src/usbtoken/.cvsignore, trunk/win32,
	  trunk/win32/.cvsignore: Resync .cvsignore files

2003-07-17 11:04  aj

	* trunk/Makefile.am, trunk/bootstrap: real cleanup via
	  MAINTAINERCLEANFILES. include depcomp in distribution.

2003-07-17 10:59  aj

	* trunk/configure.in: The CVS HEAD should always have a version
	  "CVS". For stable releases we should create a branch I guess.

2003-07-16 15:17  okir

	* trunk/etc/opensc.conf.example, trunk/src/libopensc/errors.c,
	  trunk/src/libopensc/errors.h, trunk/src/libopensc/module.c,
	  trunk/src/libopensc/pkcs15.c: - patch for synthetic p15 cards by
	  Nils Larsch

2003-07-16 15:10  aet

	* trunk/bootstrap: rm -f depcomp and friends so that we don't have
	  to use -f flag for autoreconf. Fixed an issue noticed after
	  upgrading to autoconf 2.52 -> 2.57, automake 1.5 -> 1.7 and
	  libtool 1.4.2 -> 1.5.

2003-07-16 11:52  sth

	* trunk/src/libopensc/Makefile.mak: Moved padding from
	  pkcs15-sec.c to padding.c

2003-07-16 05:20  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Fix of the previous patch:
	  show only 1 public key if both public key and cert exist

2003-07-15 10:49  okir

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/padding.c,
	  trunk/src/libopensc/pkcs15-sec.c: - Change padding functions

2003-07-14 17:39  sth

	* trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h:
	  Have process_fci() as a card operation instead of being called
	  internally by iso7816_select_file(). This way card drivers can
	  implement a select_file() and process_fci() independently

2003-07-14 17:34  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Fix of the previous patch:
	  if there are a public key and cert with the same ID, show the
	  public key derived from the cert

2003-07-14 17:28  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Fix: if there was a public
	  key and cert with the same ID, you'd see the public key twice in
	  pkcs11: once the 'real' one and once the one derived from the
	  cert

2003-07-14 16:56  okir

	* trunk/src/libopensc/errors.h: - added SC_ERROR_WRONG_PADDING
	* trunk/src/libopensc/errors.c: - added missing error messages

2003-07-14 16:55  okir

	* trunk/src/libopensc/card-etoken.c: - try to deal with RSA_SIG
	  keys (first try RSA_PURE_SIG, then RSA_SIG)

2003-07-14 13:20  sth

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/sec.c: Added
	  'Global Platform' PIN encoding

2003-07-12 17:19  aj

	* trunk/src/include/opensc/Makefile.am,
	  trunk/src/include/opensc/rsaref/Makefile.am: remove files in
	  "make distclean" instead of "make maintainer-clean" to match the
	  distribution tar file.

2003-07-12 12:58  jey

	* trunk/configure.in: - Fixed OpenSSL detection (at least with
	  Debian)

2003-07-11 20:14  sth

	* trunk/src/pkcs11/framework-pkcs15.c: If C_SetAttributeValue()
	  wants to change the CKA_SUBJECT, simply return OK. This is OK as
	  we don't save the CKA_SUBJECT of a public key anyway, and it's
	  needed for doing keypair gen + cert writing with Mozilla

2003-07-11 18:16  aet

	* trunk/configure.in, trunk/src/sslengines/engine_pkcs11.c:
	  Cleanups, fix --with-common-dir work with OpenSSL engine
	  detection

2003-07-11 16:33  aet

	* trunk, trunk/.cvsignore: Forgot this one

2003-07-11 16:31  aet

	* trunk/AUTHORS, trunk/Makefile.am, trunk/README,
	  trunk/configure.in, trunk/src/pkcs11/libpkcs11.c,
	  trunk/src/pkcs11/openssl.c, trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/scrandom/scrandom.c, trunk/src/tests/regression,
	  trunk/src/tests/regression/.cvsignore,
	  trunk/src/tools/pkcs11-tool.c, trunk/src/usbtoken/Makefile.am,
	  trunk/win32, trunk/win32/.cvsignore: - Various build fixes for
	  various operating systems and compilers - Add missing .cvsignore
	  files - Remove tools/ and make configure to work again

2003-07-11 11:18  sth

	* trunk/src/sslengines/Makefile.am: Changed libpkcs11.a to
	  libpkcs11.la (by Ville Skytta)

2003-07-11 11:16  sth

	* trunk/src/sslengines/engine_pkcs11.c: Fix: use strncasecmp()
	  instead of strnicmp()

2003-07-11 09:40  sth

	* trunk/src/libopensc/card.c: Bug fix: let sc_transmit_apdu()
	  returns a negative number or 0 (no positive number)

2003-07-10 22:31  aj

	* trunk/src/libopensc/reader-usbtoken.c: Forgot to init
	  slot[0].flags to SC_CARD_PRESENT

2003-07-10 11:38  sth

	* trunk/src/libopensc/card.c, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/opensc.h: Implemented the get_response card
	  operation, is now explicitely called by sc_transmit_apdu()

2003-07-10 11:13  aj

	* trunk/Makefile.am, trunk/docs/Makefile.am,
	  trunk/src/openssh/Makefile.am: Fix makefiles.

2003-07-10 10:44  aj

	* trunk/AUTHORS, trunk/README, trunk/README.Win32,
	  trunk/README.cards, trunk/README.signer, trunk/THANKS,
	  trunk/TODO, trunk/docs/pkcs11.txt, trunk/src/openssh/README,
	  trunk/src/pam/README, trunk/src/pkcs11/README,
	  trunk/src/sslengines/README: remove old text files. new
	  documentation is in opensc/docs/opensc.html (and .xml)

2003-07-10 10:33  aj

	* trunk/configure.in: updated configure to newer init calls. set
	  automake strictnes to foreign.

2003-07-02 20:47  aj

	* trunk/docs/opensc.html, trunk/docs/opensc.xml: Some of
	  additional documentation.

2003-07-02 17:58  aj

	* trunk/docs/usbtoken.html, trunk/docs/usbtoken.xml: usbtoken is
	  now obsoleted by openct. Update the documentation. This patch
	  was made possible by the INKA e.V. ISP and the Hoepfner Brewery
	  and Beergarden. Thanks for free Internet!

2003-07-01 17:34  aj

	* trunk/configure.in, trunk/src/libopensc/ctx.c: disable usbtoken
	  by default. put usbtokens readers behind openct readers.

2003-06-30 18:25  aj

	* trunk/src/libopensc/card-flex.c: Xander Soldaat
	  <lists@b-yes-d.net> reported this ATR, the card works for him
	  "like a charm."

2003-06-28 07:02  sth

	* trunk/src/libopensc/pkcs15.h: Increased the pkcs15 ID size from
	  16 to 255

2003-06-27 23:01  aj

	* trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/cardctl.h: attached is patch for
	  card-starcos.c This patch generalizes the handling of the driver
	  internal extra data (for example this will be usefull to supply
	  the card driver with the necessary information to create
	  MF/DF/EF). I also added a workaround for certain profiles which
	  require that the pin is only verified once (i.e. the state
	  doesn't change after a signature verification). And finally I
	  changed the order of some starcos function (at first the
	  init/free function and then the rest). If nobody has objections
	  it would be nice if someone could commit this patch to the CVS.

2003-06-27 15:26  sth

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/mechanism.c, trunk/src/pkcs11/openssl.c,
	  trunk/src/pkcs11/pkcs11-object.c, trunk/src/pkcs11/sc-pkcs11.h:
	  Implemented the C_VerifyXXX() functions

2003-06-27 13:29  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Removed the
	  CKF_WRITE_PROTECTED tokeninfo flag

2003-06-27 12:59  sth

	* trunk/src/include/winconfig.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: Placing #include <windows.h>
	  in wincofig.h causes compiler problems, better put it in each
	  file that uses _MAX_PATH

2003-06-27 12:32  sth

	* trunk/README.Win32, trunk/src/Makefile.mak,
	  trunk/src/include/winconfig.h: Some Windows fixes

2003-06-27 12:11  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Fix: register
	  CKF_GENERATE_KEY_PAIR in a correct way

2003-06-27 12:02  sth

	* trunk/src/tools/pkcs11-tool.c: Added test code for
	  C_SetAttributeValue()

2003-06-27 12:00  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Implemented
	  C_SetAttributeValue() that can change the CKA_VALUE and CKA_ID

2003-06-27 11:59  sth

	* trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: Added
	  sc_pkcs15init_change_attrib() that can change the label and ID
	  of a pkcs15 key or cert

2003-06-27 11:32  sth

	* trunk/src/sslengines/README,
	  trunk/src/sslengines/engine_pkcs11.c: Use a better notation for
	  the -key option

2003-06-26 16:47  aj

	* trunk/docs/Makefile.am, trunk/docs/opensc.html,
	  trunk/docs/usbtoken.html: run tidy on html files (ignore if it
	  is not available). tidy html files, so they are readable.

2003-06-26 10:38  aj

	* trunk/docs/opensc.html, trunk/docs/opensc.xml: ssl engine update
	  (key format), pkcs11.txt integrated. both done by stef, I'm only
	  commiting (and updateing the html file).

2003-06-25 20:20  aj

	* trunk/docs/Makefile.am, trunk/docs/opensc.css,
	  trunk/docs/opensc.html, trunk/docs/opensc.xml,
	  trunk/docs/opensc.xsl: xml/html based documentation. This can
	  replace: README README.Win32 README.cards README.signer THANKS
	  TODO AUTHORS src/openssh/README src/pkcs11/README src/pam/README
	  src/sslengines/README

2003-06-25 10:57  sth

	* trunk/src/pkcs11/pkcs11-object.c: Added a little extra logging
	  to C_GenerateKeyPair()

2003-06-25 10:19  aj

	* trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/profile.c: PATH_MAX is defined via limits.h
	  (I hope that exists on all systems). MAX_PATH is a typo. int r
	  was never used.

2003-06-25 08:42  aj

	* trunk/docs/Makefile.am, trunk/docs/usbtoken.html: make live
	  easier for other developers: html file is now also in the
	  repository, and I will update always both at the same time. So
	  not even developers will need docbook dtd + xsl + xsltproc.

2003-06-24 22:29  aj

	* trunk/configure.in: removed pkcs15-init.sh reference (oops, when
	  did that creep in? shouldn't be.)

2003-06-24 11:31  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Changed SC_PKCS15_MAX_PINS
	  to MAX_OBJECTS in pkcs15_create_tokens()

2003-06-24 11:26  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Added a safer locking
	  mechanism, based on sc_lock/sc_unlock (Olaf)

2003-06-24 11:11  sth

	* trunk/src/pkcs11/slot.c: In slot_initialize(): Bugfix in a
	  memset and added a pool_initialize()

2003-06-24 09:14  sth

	* trunk/src/tools/pkcs11-tool.c: Some fixes/improvements, e.g. an
	  ID now has to be entered in the same way as in pkcs15-init

2003-06-24 09:11  sth

	* trunk/src/sslengines/README,
	  trunk/src/sslengines/engine_pkcs11.c,
	  trunk/src/sslengines/p11_cert.c, trunk/src/sslengines/p11_key.c,
	  trunk/src/sslengines/pkcs11-internal.h: Added support for
	  selecting keys by slot and by key ID; and added newlines to some
	  error messages

2003-06-23 12:56  okir

	* trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-openct.c,
	  trunk/src/libopensc/reader-pcsc.c: - added pinpad support for
	  OpenCT

2003-06-18 20:49  sth

	* trunk/src/tools/pkcs11-tool.c: Some improvements to
	  gen_keypair() and write_object()

2003-06-18 12:38  sth

	* trunk/src/include/winconfig.h, trunk/src/pkcs15init/profile.c:
	  Let sc_profile_locate() behave about the same way under Win32
	  than under Linux

2003-06-18 08:07  sth

	* trunk/docs/pkcs15-init.1, trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/framework-pkcs15init.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs15-init.c: Now you can specify your card
	  profile for pkcs15init, both on the command line if you use the
	  pkcs15init tool and in the opensc.conf file. Not specifying
	  gives the default one, like before.

2003-06-17 11:31  sth

	* trunk/src/libopensc/ctx.c: Changed strcat to strncat

2003-06-16 09:45  aj

	* trunk/src/openssh/README,
	  trunk/src/openssh/openssh-3.6.1p2.diff: The code now asks for
	  the passphrase.

2003-06-16 07:40  okir

	* trunk/src/pkcs15init/profile.c: - when loading a profile, check
	  all variations of <profile>.conf before <profile> itself

2003-06-15 22:22  aj

	* trunk/src/tests/regression/Makefile.am: added makefile so
	  regression files will be included in tarball.

2003-06-15 22:21  aj

	* trunk/src/openssh/openssh-3.6.1p2.README,
	  trunk/src/openssh/openssh-3.6.1p2.diff: current patch for
	  openssh. does not work.

2003-06-15 22:20  aj

	* trunk/configure.in, trunk/src/pkcs15init/Makefile.am,
	  trunk/src/sslengines/Makefile.am, trunk/src/tests/Makefile.am:
	  makefile fixes, so the tarball will contain all files.

2003-06-15 22:19  aj

	* trunk/src/openssh/Makefile.am: Doesn't work, but added current
	  openssh patch anyway.

2003-06-15 12:56  okir

	* trunk/src/libopensc/iso7816.c: - iso7816_logout now invalidates
	  the path cache

2003-06-15 11:56  jey

	* trunk/configure.in: A small fix in OpenCT detection. Bumped the
	  version number up to 0.8.0-rc2.

2003-06-15 11:55  okir

	* trunk/docs/Makefile.am: - put HAVE_DOCBOOK conditional around
	  %.html rule

2003-06-15 11:54  okir

	* trunk/configure.in: - added --without docbook

2003-06-14 12:31  sth

	* trunk/src/pkcs15init/pkcs15-init.h: Add AuthID for pkcs15 data
	  objects

2003-06-13 12:45  sth

	* trunk/src/Makefile.mak: Also compile the sslengines dir under
	  Windows

2003-06-13 06:51  sth

	* trunk/src/pkcs11/openssl.c: Added #include <openssl/rsa.h>, this
	  is needed for openssl 0.9.8 and higher where openssl/evp.h wont
	  include the algorithms anymore (Nils)

2003-06-12 21:35  sth

	* trunk/src/pkcs15init/flex_onepin.profile,
	  trunk/src/pkcs15init/pkcs15-cflex.c: Added support for a new
	  cryptoflex profile, where the user (CHV1) is in charge of the
	  pkcs15 DF

2003-06-12 21:23  sth

	* trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs15-init.c: Add the AuthID when writing
	  pkcs15 data objects

2003-06-12 21:14  sth

	* trunk/src/libopensc/asn1.c: Add support for non-optional ASN.1
	  object that are empty

2003-06-11 11:03  sth

	* trunk/src/pkcs15init/flex_so.profile: Added some info

2003-06-11 10:56  okir

	* trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/cardctl.h: - starcos fixes from Nils
	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-sec.c:
	  - New public function sc_add_padding

2003-06-11 10:54  okir

	* trunk/configure.in: - another fix for --without-openct

2003-06-11 10:53  okir

	* trunk/docs/Makefile.am: - dont fail if we dont have xsltproc

2003-06-10 16:45  aj

	* trunk/src/pkcs15init/Makefile.am: added flex_so.profile, moved
	  list of all profiles to PROFILE

2003-06-10 12:54  aj

	* trunk/docs/Makefile.am: makefile fix by Robert Bihlmeyer:
	  include usbtoken.html in distribution tarball.

2003-06-10 06:32  okir

	* trunk/src/tests/p15dump.c: - prevent excessive calls to logout

2003-06-10 06:31  okir

	* trunk/src/libopensc/iso7816.c: - iso7816_logout should call
	  driver specific select_file function, not the iso7816 generic
	  version

2003-06-07 07:17  sth

	* trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/flex_so.profile,
	  trunk/src/pkcs15init/pkcs15-cflex.c: Add support for a new
	  cryptoflex profile in which the SO (CHV1) is in charge of the
	  pkcs15 DF

2003-06-04 19:17  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Fix in
	  pkcs15_gen_keypair(): labels didnt work

2003-06-04 18:37  sth

	* trunk/src/pkcs15init/pkcs15-lib.c: Fixed a type in previous patch

2003-06-04 12:30  sth

	* trunk/src/tools/pkcs11-tool.c: A first implementation of
	  write_object(), mostly for testing purposes

2003-06-04 12:26  sth

	* trunk/src/pkcs11/framework-pkcs15.c: some fixes to
	  pkcs15_create_object() and pkcs15_gen_keypair()

2003-06-04 12:24  sth

	* trunk/src/pkcs11/misc.c: added a check for CKA_CERTIFICATE_TYPE
	  to attr_extract()

2003-06-03 13:57  sth

	* trunk/etc/opensc.conf.example,
	  trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/misc.c,
	  trunk/src/pkcs11/openssl.c, trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/sc-pkcs11.h, trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs11-tool.c: First implementation of
	  C_GenerateKeyPair()

2003-05-30 09:54  okir

	* trunk/src/libopensc/pkcs15.h: - fixed typodef in
	  sc_pkcs15_*_info_t (spotted by Nils)

2003-05-30 09:45  sth

	* trunk/src/pkcs15init/pkcs15-cflex.c: Compiler warning (result of
	  malloc not casted)

2003-05-30 08:54  okir

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/base64.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/dir.c, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/log.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-algo.c,
	  trunk/src/libopensc/pkcs15-cache.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h: - remove signedness warnings
	  printed by new gcc

2003-05-30 08:33  okir

	* trunk/src/tools/opensc-tool.c: - added --name option

2003-05-28 20:52  okir

	* trunk/src/tests/regression/functions,
	  trunk/src/tests/regression/init0002: - added function
	  skip_if_card to allow tests to be skipped for certain cards
	* trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/opensc.h: - added card name to struct
	  sc_card to allow upper level apps to identify card type more
	  precisely

2003-05-28 18:05  okir

	* trunk/src/tests/regression/erase: - added

2003-05-28 13:36  okir

	* trunk/src/tests/regression/crypt0001,
	  trunk/src/tests/regression/crypt0002,
	  trunk/src/tests/regression/crypt0003,
	  trunk/src/tests/regression/crypt0004: - specify user pin when
	  erasing card
	* trunk/src/tests/regression/run-all: - better handling of failures

2003-05-28 08:30  okir

	* trunk/src/tests/regression/run-all: - allow specifying the list
	  of tests to be run on the command line

2003-05-28 05:25  okir

	* trunk/src/tests/regression/crypt0001,
	  trunk/src/tests/regression/crypt0002,
	  trunk/src/tests/regression/crypt0003,
	  trunk/src/tests/regression/crypt0004,
	  trunk/src/tests/regression/functions: - fixed crypt* tests to
	  work with cryptoflex

2003-05-28 05:24  okir

	* trunk/src/tests/regression/run-all: - added

2003-05-27 15:58  aj

	* trunk/src/pam/Makefile.am, trunk/src/pam/pam_opensc.c,
	  trunk/src/pam/test-pam.c: moved main() function into it's own
	  file, killed duplicate compiling, made older
	  autoconf/make/libtool happy.

2003-05-27 09:58  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - return value of
	  pkcs15_login was ignored

2003-05-26 09:30  aj

	* trunk/Makefile.am, trunk/configure.in: move autoconf helper
	  files to tools/ subdirectory.

2003-05-24 19:31  aj

	* trunk/configure.in, trunk/src/libopensc/Makefile.am: configure
	  now accepts a path with --with-openct, and that directory is
	  searched, and variables OPENCT_CFLAGS, LIBS, LDFLAGS are set
	  (and used in src/libopensc/Makefile).

2003-05-23 10:10  okir

	* trunk/src/tests/regression/functions,
	  trunk/src/tests/regression/init0001,
	  trunk/src/tests/regression/init0002,
	  trunk/src/tests/regression/init0003,
	  trunk/src/tests/regression/init0004,
	  trunk/src/tests/regression/init0005,
	  trunk/src/tests/regression/init0006,
	  trunk/src/tests/regression/init0007,
	  trunk/src/tests/regression/init0008,
	  trunk/src/tests/regression/init0009,
	  trunk/src/tests/regression/init0010,
	  trunk/src/tests/regression/init0011: - erase card using --secret

2003-05-23 10:05  okir

	* trunk/src/pkcs15init/pkcs15-cflex.c: - fixed pin handling in
	  generate key
	* trunk/src/libopensc/card-flex.c: - in pin_cmd, dont assume the
	  caller has properly initialized max_length and encoding

2003-05-22 21:04  okir

	* trunk/src/pkcs15init/pkcs15-cflex.c: - fixed cryptoflex keygen

2003-05-22 20:53  okir

	* trunk/src/libopensc/card-flex.c, trunk/src/libopensc/cardctl.h,
	  trunk/src/pkcs15init/pkcs15-cflex.c: - added cryptoflex RSA key
	  generation (not yet functional)

2003-05-22 20:51  okir

	* trunk/src/libopensc/reader-openct.c: - less verbose debug
	  messages

2003-05-22 19:34  okir

	* trunk/src/libopensc/card.c: - change debug level for
	  sc_lock/unlock

2003-05-22 13:59  okir

	* trunk/src/libopensc/card.c: - fixed the hang with logout()

2003-05-20 10:53  aj

	* trunk/aclocal/Makefile.am, trunk/aclocal/libtool.m4: libtool.m4
	  is not required, and a version too old causes problems anyway.

2003-05-20 08:30  sth

	* trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/sec.c, trunk/src/pkcs11/framework-pkcs15.c:
	  added sc_logout() functionality

2003-05-18 10:08  okir

	* trunk/src/tools/pkcs15-init.c: - added option --secret

2003-05-18 10:05  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - do_get_any_verify_pin: try
	  to look up p15 pin info from card

2003-05-17 13:30  aj

	* trunk/aclocal/libtool.m4: replaced it with a newer version.

2003-05-17 10:55  aj

	* trunk/src/tests/regression/functions,
	  trunk/src/tests/regression/init0003,
	  trunk/src/tests/regression/init0004,
	  trunk/src/tests/regression/init0005,
	  trunk/src/tests/regression/init0006,
	  trunk/src/tests/regression/init0008,
	  trunk/src/tests/regression/init0009,
	  trunk/src/tests/regression/init0010,
	  trunk/src/tests/regression/init0011: always create and use a
	  pin. removed --split-key, cardOS users have to specify it. three
	  new tests.

2003-05-17 10:54  aj

	* trunk/src/tools/pkcs15-tool.c: Added --pin option to pkcs15-tool

2003-05-17 09:18  okir

	* trunk/src/tests/regression/functions: - Disable colors for now -
	  use --assert-pristine to ensure card is pristine

2003-05-17 09:10  okir

	* trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: - added
	  sc_pkcs15init_set_secret

2003-05-16 22:08  aj

	* trunk/src/pkcs11/Makefile.am,
	  trunk/src/pkcs11/rsaref/Makefile.am: fix include paths. include
	  files are supposed to be in opensc/ and opensc/rsaref/.

2003-05-16 19:12  okir

	* trunk/src/tools/pkcs15-init.c: - redid option handling (you can
	  now call it with -ECPa 01 -G rsa/1024 - except there's a little
	  bug that prevents this from working properly) - implemented
	  --assert-pristine

2003-05-16 19:11  okir

	* trunk/src/tools/util.c: - fix for previous change

2003-05-16 16:41  okir

	* trunk/src/tools/util.c: - print_usage_and_die: skip hidden
	  options

2003-05-16 16:33  okir

	* trunk/src/tools/pkcs11-tool.c: - in test_signature: check
	  CKA_SIGN before doing any signature tests

2003-05-16 15:30  aj

	* trunk/src/libopensc/card-flex.c: egate cryptoflex 32 card can
	  generate key. updated the flags.

2003-05-16 14:25  okir

	* trunk/src/tools/opensc-explorer.c: - display LIST_FILES and
	  CRYPTO ACs as well

2003-05-16 14:24  okir

	* trunk/src/tests/regression/init0004: - minor fix

2003-05-16 14:16  okir

	* trunk/src/pkcs15init/flex.profile: - make sure CREATE/DELETE are
	  protected

2003-05-16 14:15  okir

	* trunk/src/libopensc/card-flex.c: - select file: do not interpret
	  INVALIDATE/REHAB AC bits for DFs

2003-05-16 09:51  okir

	* trunk/src/tests/regression/functions: - added some color

2003-05-16 09:34  okir

	* trunk/src/pkcs15init/pkcs15.profile: - bump the CDF size, as we
	  now put the subject name in the label

2003-05-16 09:27  okir

	* trunk/src/tests/regression/init0008,
	  trunk/src/tests/regression/test.p12: - added pkcs15-init pkcs12
	  test case

2003-05-16 09:14  okir

	* trunk/src/tests/regression/crypt0001,
	  trunk/src/tests/regression/crypt0002,
	  trunk/src/tests/regression/crypt0003,
	  trunk/src/tests/regression/crypt0004,
	  trunk/src/tests/regression/functions: - updated test scripts

2003-05-16 07:42  okir

	* trunk/src/tests/regression/functions: - test set didnt abort if
	  p15_validate failed

2003-05-15 15:42  okir

	* trunk/src/libopensc/card-miocos.c: - it seems the upper limit
	  for r/w binary is 244

2003-05-15 15:30  okir

	* trunk/src/tests/regression/README,
	  trunk/src/tests/regression/functions,
	  trunk/src/tests/regression/init0001,
	  trunk/src/tests/regression/init0002,
	  trunk/src/tests/regression/init0003,
	  trunk/src/tests/regression/init0004,
	  trunk/src/tests/regression/init0005,
	  trunk/src/tests/regression/init0006,
	  trunk/src/tests/regression/init0007: - more tests

2003-05-15 15:29  okir

	* trunk/src/tools/pkcs15-init.c: - Allow "pkcs1-init --erase"
	  without further options

2003-05-15 15:28  okir

	* trunk/src/tools/pkcs11-tool.c: - Do not try to C_Login if the
	  token doesn't require a login

2003-05-15 15:27  okir

	* trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/pkcs11-session.c: - allow full access to keys
	  not protected by a PIN

2003-05-15 15:26  okir

	* trunk/src/pkcs15init/etoken.profile: - increase size of PrKDF,
	  so that we have room for 2x2 split keys

2003-05-15 13:33  okir

	* trunk/src/tools/pkcs15-init.c: - added --no-prompt
	* trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h:
	  - erase card fixes: forget cached secrets, and use sc_free_apps

2003-05-15 13:32  okir

	* trunk/src/libopensc/card.c, trunk/src/libopensc/dir.c,
	  trunk/src/libopensc/opensc.h: - added sc_free_apps to undo
	  sc_enum_apps

2003-05-15 11:41  okir

	* trunk/src/libopensc/card-flex.c: - fixed card_ctl error message

2003-05-15 11:39  okir

	* trunk/src/tools/pkcs15-init.c: - keygen: when --split-key is
	  given, try hardware keygen if usage permits

2003-05-15 11:33  okir

	* trunk/src/tests/regression/functions,
	  trunk/src/tests/regression/init0001: - improved test cases
	  slightly

2003-05-15 11:32  okir

	* trunk/src/tools/pkcs11-tool.c: - added --slot-label option to
	  find slot by label

2003-05-15 11:31  okir

	* trunk/src/tools/pkcs15-init.c: - get_pin_callback takes an
	  additional label argument - add split key support to key
	  generation

2003-05-15 11:30  okir

	* trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: - get_pin callback now takes
	  additional label argument - call get_pin for ALL pins, not just
	  those listed in the profile - add split key support to
	  sc_pkcs15init_generate_key

2003-05-15 11:29  okir

	* trunk/src/pkcs15init/pkcs15-etoken.c: - etoken_erase don't
	  assume PIN 0 is always the SO PIN

2003-05-15 11:27  okir

	* trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h: -
	  added sc_pkcs15_find_pin_by_reference

2003-05-15 10:34  sth

	* trunk/src/pkcs11/framework-pkcs15.c: If signing/decryption fails
	  because the card lost its security status, try to log in again
	  and then do another attempt to sign/decrypt

2003-05-14 19:13  okir

	* trunk/src/tests/regression/functions: - dont say all tests were
	  successful when we failed
	* trunk/src/tests/regression/crypt0004: - show output of
	  pkcs15-init commands

2003-05-14 16:29  okir

	* trunk/src/libopensc/pkcs15.c: - bumped buffer sizes for
	  EF(TokenInfo) labels

2003-05-14 16:22  okir

	* trunk/src/tools/pkcs15-init.c: - minor usability updates

2003-05-14 16:21  okir

	* trunk/src/tests/regression/functions,
	  trunk/src/tests/regression/init0001: - some tests for pkcs15-init

2003-05-14 13:13  sth

	* trunk/src/sslengines/Makefile.mak,
	  trunk/src/sslengines/engine_pkcs11.c,
	  trunk/src/sslengines/engine_pkcs11.def,
	  trunk/src/sslengines/engine_pkcs11.h,
	  trunk/src/sslengines/hw_opensc.c,
	  trunk/src/sslengines/hw_pkcs11.c,
	  trunk/src/sslengines/p11_load.c, trunk/src/sslengines/p11_rsa.c,
	  trunk/src/sslengines/pkcs11-internal.h: Ported to Win32

2003-05-14 12:25  okir

	* trunk/src/libopensc/card-miocos.c: - restrict max read/write
	  size to 128

2003-05-14 12:00  okir

	* trunk/src/libopensc/reader-pcsc.c: - do not mess with Case 4
	  APDUs unless we're doing T=0

2003-05-14 08:47  sth

	* trunk/src/libopensc/card-starcos.c: Some typos fixed and fixed
	  the algos for use in OpenSSH (Nils Larsch)

2003-05-13 20:24  okir

	* trunk/src/libopensc/pkcs15-sec.c: -
	  sc_pkcs15_compute_signature(RSA_RAW): zero pad input if shorter
	  than modulus length

2003-05-13 14:29  aj

	* trunk/src/libopensc/libopensc.pc.in: OpenSC header files are
	  included as #include <opensc/opensc.h> Thus it has to be
	  -I/path/to/opensc/include and not
	  -I/path/to/opensc/include/opensc

2003-05-13 14:06  aj

	* trunk/src/sslengines/p11_attr.c,
	  trunk/src/sslengines/p11_cert.c, trunk/src/sslengines/p11_key.c,
	  trunk/src/sslengines/p11_misc.c, trunk/src/sslengines/p11_rsa.c,
	  trunk/src/sslengines/p11_slot.c: added #include <string.h>
	  killing warnings.

2003-05-13 13:43  aj

	* trunk/src/libopensc/pkcs15.h: At least the rainbow ikey 3000
	  need bigger labels. Label size should be 255, as per pkcs15.

2003-05-13 07:06  sth

	* trunk/src/libopensc/pkcs15.c: Make sc_pkcs15_read_file() work if
	  the pkcs15 files contain only FIDs instead of file paths (Nils
	  Larsch)

2003-05-12 20:37  aj

	* trunk/src/sslengines/Makefile.am: libpkcs11.h was missing from
	  EXTRA_DIST

2003-05-12 20:21  aj

	* trunk/src/sslengines, trunk/src/sslengines/.cvsignore,
	  trunk/src/sslengines/Makefile.am,
	  trunk/src/sslengines/engine_opensc.c,
	  trunk/src/sslengines/engine_opensc.h,
	  trunk/src/sslengines/engine_pkcs11.c,
	  trunk/src/sslengines/engine_pkcs11.h,
	  trunk/src/sslengines/hw_opensc.c,
	  trunk/src/sslengines/hw_pkcs11.c,
	  trunk/src/sslengines/libpkcs11.h,
	  trunk/src/sslengines/p11_attr.c,
	  trunk/src/sslengines/p11_cert.c, trunk/src/sslengines/p11_err.c,
	  trunk/src/sslengines/p11_key.c, trunk/src/sslengines/p11_load.c,
	  trunk/src/sslengines/p11_misc.c, trunk/src/sslengines/p11_rsa.c,
	  trunk/src/sslengines/p11_slot.c,
	  trunk/src/sslengines/pkcs11-internal.h,
	  trunk/src/sslengines/test_engine.sh: new sslengines
	  implementation with pkcs11 and opensc backend.

2003-05-12 20:18  aj

	* trunk/configure.in, trunk/src/Makefile.am: Add sslengines.

2003-05-12 11:51  sth

	* trunk/src/libopensc/card-flex.c: Added decryption functionality

2003-05-11 07:22  sth

	* trunk/src/libopensc/pkcs15-cert.c: Fixed: support for X.509 V1
	  certs

2003-05-08 10:42  sth

	* trunk/src/libopensc/card-gpk.c: Fix of the previous Win32 patch
	  related to the assumed absence of OPENSSL_cleanse(): this
	  function does is present on OpenSSL 0.9.7 but not on the beta4
	  version

2003-05-08 07:54  sth

	* trunk/src/pkcs11/libpkcs11.c: Added support for Mac bundles

2003-05-02 15:12  aj

	* trunk/src/pkcs11/Makefile.am: oops, didn't remove reference to
	  sslrandom.c. fixed.

2003-05-02 15:03  aj

	* trunk/src/openscd/Makefile.am, trunk/src/pam/Makefile.am,
	  trunk/src/pkcs11/Makefile.am, trunk/src/scam/Makefile.am,
	  trunk/src/scrandom/Makefile.am: this should fix the libscrandom
	  issue: the obvious solution is to create libscrandom.la (not .a)
	  and link with ../scrandom/libscrandom.la (not -lscrandom).

2003-05-02 15:01  aj

	* trunk/src/usbtoken/main.c, trunk/src/usbtoken/pid.c: - added a
	  "nofork" parameter - changed the initialization order to fix a
	  race condition where the first usbtoken uses the id 1 and not 0
	  - fixed a bug where all tokens always used id 0. now several
	  tokens work at the same time. - fixed a bug: pid files were
	  empty.

2003-05-02 15:00  aj

	* trunk/src/libopensc/reader-usbtoken.c: - indent (maybe not such
	  a good idea?) - improved some error messages

2003-05-02 14:57  aj

	* trunk/src/tools/opensc-explorer.c: improved "get" function: -
	  path is now by default like 3F00_5015_5031 instead of "3F00" -
	  the final message shows not only number of bytes but also the
	  filename.

2003-05-02 14:33  sth

	* trunk/src/libopensc/card-gpk.c: Fix for Win32 where there's no
	  OPENSSL_cleanse()

2003-05-02 13:38  sth

	* trunk/README.Win32: Little update on how to add OpenSSL support

2003-05-02 08:01  sth

	* trunk/docs/Makefile.am, trunk/docs/pkcs11.txt: Added info about
	  the pkcs11 lib

2003-05-01 14:09  aj

	* trunk/src/pam/Makefile.am, trunk/src/pkcs11/Makefile.am,
	  trunk/src/scam/Makefile.am, trunk/src/scrandom/Makefile.am:
	  Patch by Robert Bihlmeyer: - remove liscrandom - use scrandom.c
	  directly (list as part of the SOURCES)

2003-04-30 12:24  sth

	* trunk/src/tools/pkcs11-tool.c: Dont give errors with -t option
	  if the private key doesnt support key unwrap

2003-04-29 11:37  jey

	* trunk/src/libopensc/card-starcos.c: - Yet another test commit

2003-04-29 11:10  sth

	* trunk/configure.in, trunk/src/pkcs11/Makefile.am,
	  trunk/src/scrandom/Makefile.am: Build libscrandom in both .a and
	  .so versions (by R. Bihlmeyer)

2003-04-29 09:27  sth

	* trunk/src/libopensc/asn1.c: Removed some compiler warnings

2003-04-28 16:34  jey

	* trunk/src/libopensc/card-starcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h: -
	  Renamed card->chopsize to max_le, which is more descriptive -
	  Changed a few checks to asserts

2003-04-28 16:29  aj

	* trunk/src/libopensc/asn1.c: Nils fixed asn1 code to detect two
	  byte "file name" versus longer real paths.
	* trunk/src/libopensc/card-starcos.c: Comment fixed by Nils:
	  should be 0x80 or 128, but not "80 bytes".

2003-04-28 09:55  sth

	* trunk/src/pkcs11/pkcs11-global.c: Avoid an Assertion Failed
	  (ctx!=NULL) in log.c if sc_establish_context() fails in
	  C_Initialize()

2003-04-27 19:08  aj

	* trunk/src/libopensc/card-starcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h:
	  create card->chopsize, init it with SC_APDU_CHOP_SIZE, allow
	  cards to change that value, and add code to starcos_init to set
	  chopsize to 80. chopsize is used with read_binary and friends to
	  chop the data into small requests, read/write them, and
	  reassemble.

2003-04-27 15:05  aj

	* trunk/src/libopensc/asn1.c: Only look at first byte for end of
	  data detection. That way not only 0,0 and ff,ff is recognized
	  and 0,ff,ff,ff... will not cause trouble.

2003-04-25 10:03  aj

	* trunk/src/libopensc/card-starcos.c,
	  trunk/src/libopensc/pkcs15-pin.c, trunk/src/tools/pkcs11-tool.c:
	  Nils Larsch: here is a patch to remove a bug in card-starcos.c
	  and two warnings: card-starcos.c: fix apdu.le value
	  pkcs15-pin.c: remove unused labels => avoid compiler warnings
	  pkcs11-tool.c : remove memory leak (a RSA_free() was missing)
	  and simplify code (+ remove warning).

2003-04-25 07:51  sth

	* trunk/src/libopensc/pkcs15-sec.c: Allow empty key file paths in
	  compute_signature and decipher

2003-04-24 07:03  sth

	* trunk/src/pkcs11/README, trunk/src/pkcs11/pkcs11-global.c: Have
	  a compile option to enable PTHREAD locking at the pkcs11 level

2003-04-23 11:46  sth

	* trunk/src/libopensc/ctx.c: Extended caching for single-user
	  Windows OSes (Win98)

2003-04-23 10:40  aj

	* trunk/AUTHORS: Changed Roberts email address as requested.

2003-04-23 09:52  sth

	* trunk/src/pkcs11/pkcs11-global.c: Disabled OS thread locking on
	  OSes with PTHREAD due to closing problems with Mozilla

2003-04-23 08:47  sth

	* trunk/src/libopensc/pkcs15-sec.c: Added
	  SC_PKCS15_PRKEY_USAGE_NONREPUDIATION as a valid signature usage

2003-04-22 20:43  sth

	* trunk/src/tools/pkcs11-tool.c: Fix in case no OpenSSL is present

2003-04-22 17:02  aj

	* trunk/Makefile.am, trunk/src/pkcs11/Makefile.am,
	  trunk/src/pkcs11/rsaref/Makefile.am, trunk/src/scam/Makefile.am:
	  remove references to SCIDI sanitize pkcs11 include header
	  references (now they are installed in rsaref/ subdir, and
	  pkcs11.h is *not* overwritten). remove automake 1.5 requirement
	  (automake 1.4 on debian stable/woody works fine)

2003-04-22 17:00  aj

	* trunk/AUTHORS, trunk/configure.in, trunk/docs/Makefile.am,
	  trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/reader-usbtoken.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c, trunk/src/scam/p15_eid.c,
	  trunk/src/signer/Makefile.am, trunk/src/tools/pkcs11-tool.c: -
	  add robert to Authors as contributor of bug fixes - configure
	  code finally working. engine is detected and path to libcrypto.a
	  is also set. - roberts fix for reader-usbtoken.c - card-gpk.c
	  migraton to DES_ routines with #define for 0.9.6 openssl. - man
	  pages: do not ship pkcs15-profile.5 (.in is in the tarfile) -
	  assuan: replace "strcpy(stpcpy(.., ..), ..)" with
	  "strcat(strcpy(.., ..), ..)" which looks good, but nobody uses
	  assuan I guess ? - declaration of sc_pkcs15init_set_lifecycle
	  kills a warning - #include <openssl/bn.h> kills a warning (or
	  compile problem?) - removed unused txt[256]; from p15_eid (kills
	  a warning) - now "ln -s" the signer plugin to the plugin
	  directory. - moved key_out direction to the beginning of a
	  function (kills a warning or compile error) - changed
	  pkcs11-tool option "quiet" to "verbose" to conform to other
	  tools. - made algo argument to wrap_unwrap a "const" (kills
	  several warnings)

2003-04-22 12:41  sth

	* trunk/README.Win32, trunk/win32/Makefile.am,
	  trunk/win32/readme.txt: Moved win32/readme.txt to README.Win32,
	  and updated this file

2003-04-22 12:26  sth

	* trunk/src/tools/pkcs11-tool.c: Fixed an OpenSSL issue with MacOSX

2003-04-22 07:51  sth

	* trunk/src/libopensc/reader-pcsc.c: Correction of the previous
	  insert-remove fix

2003-04-21 15:02  jey

	* trunk/docs, trunk/docs/.cvsignore, trunk/win32/Makefile.am: -
	  added missing win32/Makefile.am - added usbtoken.html to
	  docs/.cvsignore

2003-04-21 15:01  jey

	* trunk/Makefile.am, trunk/configure.in, trunk/docs/Makefile.am,
	  trunk/src/Makefile.am, trunk/src/include/Makefile.am,
	  trunk/src/libopensc/Makefile.am, trunk/src/openscd/Makefile.am,
	  trunk/src/openscd/openscd.c, trunk/src/pkcs11/Makefile.am,
	  trunk/src/pkcs15init/Makefile.am, trunk/src/scconf/Makefile.am,
	  trunk/src/scrandom/Makefile.am, trunk/src/tests/Makefile.am: -
	  applied build fixes from Andreas

2003-04-21 12:52  jey

	* trunk/AUTHORS: - fixed Olaf's e-mail address in AUTHORS =)

2003-04-21 12:45  jey

	* trunk/bootstrap: - trimmed bootstrap script a bit as suggested
	  by Andreas

2003-04-21 12:39  jey

	* trunk/src/signer/opensc-crypto.c: - fixed a typo

2003-04-21 12:36  jey

	* trunk/src/openscd/Makefile.am: - Do not install openscd for now

2003-04-21 12:29  jey

	* trunk/src/libopensc/pkcs15-sec.c: - fixed add_padding() in the
	  case where padding is request, but input isn't a hash.

2003-04-21 12:01  jey

	* trunk/NEWS: - NEWS entry for 0.8.0

2003-04-21 11:40  jey

	* trunk/src/libopensc/card-flex.c: - fixed CHV changing with a
	  CryptoFlex

2003-04-18 15:42  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Allow non-repudation as a
	  signature usage

2003-04-18 14:57  sth

	* trunk, trunk/.cvsignore, trunk/src/common,
	  trunk/src/common/.cvsignore, trunk/src/libopensc,
	  trunk/src/libopensc/.cvsignore, trunk/src/pkcs11,
	  trunk/src/pkcs11/.cvsignore, trunk/src/pkcs15init,
	  trunk/src/pkcs15init/.cvsignore, trunk/src/scconf,
	  trunk/src/scconf/.cvsignore, trunk/src/scrandom,
	  trunk/src/scrandom/.cvsignore, trunk/src/tests,
	  trunk/src/tests/.cvsignore, trunk/src/tools,
	  trunk/src/tools/.cvsignore, trunk/src/usbtoken,
	  trunk/src/usbtoken/.cvsignore: Added some files to ignore, also
	  for Windows

2003-04-18 11:58  sth

	* trunk/src/pkcs11/pkcs11-global.c, trunk/src/pkcs11/sc-pkcs11.h:
	  Have a sec delay in C_GetSlotInfo() per reader instead of a
	  global delay

2003-04-18 11:55  sth

	* trunk/src/pkcs11/libpkcs11.c: Added code for MacOSX

2003-04-17 14:39  okir

	* trunk/src/tools/pkcs11-tool.c: - added tests for key unwrap

2003-04-17 14:38  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - bugfix for unwrap -
	  support getattr(CKA_VALUE) for public key objects

2003-04-17 14:35  sth

	* trunk/src/libopensc/reader-pcsc.c: More robust detection of
	  removal/insertion events

2003-04-17 13:25  okir

	* trunk/configure.in: - another fix to the engine test

2003-04-17 13:23  okir

	* trunk/configure.in: - fixed test clause

2003-04-17 13:13  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - fixed signing and
	  hopefully unwrap for split keys

2003-04-17 13:03  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - fix for the previous
	  change

2003-04-17 12:47  okir

	* trunk/configure.in: - only build sslengine if OpenSSL supports it

2003-04-17 12:38  okir

	* trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c, trunk/src/signer/opensc-crypto.c,
	  trunk/src/tools/pkcs15-crypt.c, trunk/src/tools/pkcs15-init.c: -
	  implemented split-key support for CardOS

2003-04-17 11:04  okir

	* trunk/src/pkcs11/pkcs11-object.c: - fixed compiler warning

2003-04-17 09:39  okir

	* trunk/src/tools/pkcs15-init.c: - Allow command line --key-usage
	  to be more restrictive than the usage given by the certificate
	  (pkcs12)

2003-04-17 09:37  okir

	* trunk/src/scam/p15_eid.c: - when no specific reader is required,
	  just select the first one that holds a card - when computing RSA
	  signatures, don't assume the card supports raw RSA - the it the
	  challenge is a sha1 digest instead.

2003-04-16 20:52  okir

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/asn1.h,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15.c: - fixed endianness problem with
	  encoding/deconding of bit fields

2003-04-16 19:50  sth

	* trunk/src/pkcs11/Makefile.mak: Added debug.obj

2003-04-16 19:49  sth

	* trunk/src/libopensc/Makefile.mak: Added card-starcos

2003-04-16 19:03  okir

	* trunk/configure.in, trunk/src/Makefile.am: - merged SSL ENGINE
	  patch from Kevin Stefanik

2003-04-16 17:00  okir

	* trunk/src/scam/Makefile.am: - removed SCIDI stuff

2003-04-16 16:59  okir

	* trunk/src/libopensc/ctx.c, trunk/src/libopensc/opensc.h: -
	  integrate starcos driver

2003-04-16 16:01  okir

	* trunk/src/libopensc/card-gpk.c: - fixed some compiler warnings

2003-04-16 15:58  okir

	* trunk/src/libopensc/opensc.h: - added
	  SC_SEC_OPERATION_AUTHENTICATE for starcos driver

2003-04-16 15:56  okir

	* trunk/src/libopensc/reader-pcsc.c: - get rid of warning

2003-04-16 15:53  okir

	* trunk/src/tools/pkcs11-tool.c: - getting CKA_LABEL would not
	  0-terminate the string

2003-04-16 14:38  okir

	* trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs15-init.c: - moved the lifecycle stuff to
	  libpkcs15init

2003-04-16 14:27  okir

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/card-starcos.c: - Added starcos driver

2003-04-16 14:20  okir

	* trunk/src/openscd/Makefile.am, trunk/src/pam/Makefile.am,
	  trunk/src/pkcs11/Makefile.am, trunk/src/pkcs15init/Makefile.am,
	  trunk/src/scam/Makefile.am, trunk/src/sia/Makefile.am,
	  trunk/src/tests/Makefile.am, trunk/src/tools/Makefile.am: -
	  backed out AM_LDFLAGS change

2003-04-16 14:18  okir

	* trunk/src/pkcs11/Makefile.am, trunk/src/pkcs11/debug.c,
	  trunk/src/pkcs11/misc.c, trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/sc-pkcs11.h: - improved debugging output of
	  CK_ATTRIBUTE data

2003-04-16 14:17  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - in getattr(CKA_LABEL), do
	  not include trailing NUL

2003-04-16 14:16  okir

	* trunk/src/tools/pkcs15-init.c: - when getting certs from a p12
	  file, put the subject name into the cert labels

2003-04-16 12:01  sth

	* trunk/src/libopensc/reader-pcsc.c: Correction of the previous
	  patch for MacOSX

2003-04-16 11:50  okir

	* trunk/src/tools/pkcs15-init.c: - import all certs from a pkcs12
	  file

2003-04-16 10:20  okir

	* trunk/src/libopensc/errors.c, trunk/src/libopensc/errors.h: -
	  new error code SC_ERROR_CANNOT_LOAD_KEY

2003-04-16 10:19  okir

	* trunk/src/libopensc/card.c: - don't complain about
	  read/write/update binary with a length of 0

2003-04-16 08:33  okir

	* trunk/src/libopensc/reader-openct.c: - dont return error in
	  detect_card_presence if there is no reader

2003-04-15 20:06  okir

	* trunk/src/tools/cardos-info.c, trunk/src/usbtoken/etoken.c,
	  trunk/src/usbtoken/main.c: - a few more changes from Andreas

2003-04-15 17:10  sth

	* trunk/src/libopensc/ctx.c: First thing written in the debug log
	  will be ==========

2003-04-15 15:59  sth

	* trunk/src/libopensc/reader-pcsc.c: include for MacOSX added

2003-04-14 17:29  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Have allways a label in
	  CK_TOKEN_INFO

2003-04-14 15:19  okir

	* trunk/src/libopensc/card-etoken.c: - fix pkcs11 signatures with
	  etoken

2003-04-14 14:51  okir

	* trunk/docs/pkcs15-tool.1, trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/tools/pkcs15-tool.c: -
	  added pkcs15 unblock functionality

2003-04-14 14:49  okir

	* trunk/AUTHORS: Update

2003-04-14 10:57  okir

	* trunk/configure.in: - changed version to CVS

2003-04-14 10:33  okir

	* trunk/src/libopensc/card-etoken.c: - explicitly mention we do
	  raw RSA

2003-04-14 08:17  okir

	* trunk/src/libopensc/card-gpk.c, trunk/src/libopensc/card.c: -
	  suppress "not supported" error messages from sc_card_ctl

2003-04-14 07:44  okir

	* trunk/src/tools/opensc-explorer.c: - fixed unblock command when
	  puk given in hex notation

2003-04-11 15:29  okir

	* trunk/configure.in, trunk/docs/usbtoken.xml,
	  trunk/src/libopensc/Makefile.am, trunk/src/tools/Makefile.am,
	  trunk/src/tools/cardos-info.c, trunk/src/usbtoken/etoken.c: -
	  more fixes from Andreas

2003-04-11 15:26  sth

	* trunk/src/tools/Makefile.mak: Added cardos-info.exe

2003-04-11 14:48  okir

	* trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c: - reverted previous patch

2003-04-11 14:42  okir

	* trunk/src/libopensc/reader-openct.c: - try to deal more
	  gracefully with hotplug events
	* trunk/src/libopensc/ctx.c: - include config.h
	* trunk/src/libopensc/errors.c, trunk/src/libopensc/errors.h: -
	  added hotplug errors

2003-04-11 14:22  sth

	* trunk/src/pkcs11/pkcs11-global.c: Removed some errors that
	  occured with unsupported cards

2003-04-11 13:55  okir

	* trunk/src/tools/cardos-info.c: - added

2003-04-11 11:48  okir

	* trunk/src/tools/Makefile.am: - new tool cardos-info from Andreas

2003-04-11 11:47  okir

	* trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/cardctl.h, trunk/src/tools/pkcs15-init.c: -
	  support for lifecycle cardctl; cardos lifecycle support

2003-04-11 11:46  okir

	* trunk/AUTHORS, trunk/docs/usbtoken.xml,
	  trunk/src/libopensc/reader-usbtoken.c, trunk/src/usbtoken/atr.c,
	  trunk/src/usbtoken/etoken.c, trunk/src/usbtoken/eutron.c,
	  trunk/src/usbtoken/ikey2k.c, trunk/src/usbtoken/ikey3k.c,
	  trunk/src/usbtoken/main.c, trunk/src/usbtoken/pid.c,
	  trunk/src/usbtoken/socket.c, trunk/src/usbtoken/t1.c,
	  trunk/src/usbtoken/usb.c, trunk/src/usbtoken/usbtoken.h: -
	  usbtoken fixes from Andreas
	* trunk/src/openscd/Makefile.am, trunk/src/pam/Makefile.am,
	  trunk/src/pkcs11/Makefile.am, trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c,
	  trunk/src/scam/Makefile.am, trunk/src/sia/Makefile.am,
	  trunk/src/tests/Makefile.am, trunk/src/tools/Makefile.am: -
	  build fixes from Andreas

2003-04-11 11:42  okir

	* trunk/configure.in: - added --enable-usbtoken - added
	  --with-openct

2003-04-11 11:41  okir

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/reader-openct.c: - Added OpenCT reader
	  support

2003-04-11 11:28  okir

	* trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs11-tool.c,
	  trunk/src/tools/pkcs15-crypt.c, trunk/src/tools/pkcs15-tool.c: -
	  getopt cleanup from aj

2003-04-11 11:19  okir

	* trunk/src/scconf/lex-parse.l: - fix for newer flex versions

2003-04-11 10:32  okir

	* trunk/src/tests/print.c: - Textual representation of PIN
	  encoding instead of "Type: 1"
	* trunk/src/pkcs15init/profile.c: - Don't set PIN defaults until
	  after we've parsed _all_ cardinfo blocks

2003-04-11 10:31  okir

	* trunk/src/pkcs15init/flex.profile,
	  trunk/src/pkcs15init/pkcs15-cflex.c: - fix for 2048 bit keys on
	  cflex

2003-04-11 10:30  okir

	* trunk/src/libopensc/pkcs15.h: - added SC_PKCS15_PIN_TYPE_*
	  defines for weirdo encodings

2003-04-10 09:16  okir

	* trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/reader-pcsc.c: - fixes for le=00/lc=00
	  problems

2003-04-09 20:19  sth

	* trunk/src/libopensc/pkcs15.c: better fix then the previous for
	  the assertion failed bug

2003-04-07 10:44  sth

	* trunk/win32/makedef.pl: Dont include DllMain in the exports

2003-04-04 09:52  sth

	* trunk/src/libopensc/pkcs15.c: Fix: assertion failed
	  (lock_count>=0) in sc_pkcs15_bind()

2003-04-03 18:19  okir

	* trunk/src/libopensc/card.c: - fix sc_transmit_apdu to properly
	  deal with le=00

2003-04-03 14:38  okir

	* trunk/docs/Makefile.am: - added *.3 manpages

2003-04-03 14:34  okir

	* trunk/docs/sc_connect_card.3,
	  trunk/docs/sc_detect_card_presence.3,
	  trunk/docs/sc_disconnect_card.3,
	  trunk/docs/sc_establish_context.3, trunk/docs/sc_file.3,
	  trunk/docs/sc_file_free.3, trunk/docs/sc_file_new.3,
	  trunk/docs/sc_list_files.3, trunk/docs/sc_lock.3,
	  trunk/docs/sc_read_binary.3, trunk/docs/sc_read_record.3,
	  trunk/docs/sc_release_context.3, trunk/docs/sc_select_file.3: -
	  wrote a bunch of manual pages

2003-04-03 13:18  okir

	* trunk/src/libopensc/opensc.h: - added sc_reader_t

2003-04-03 09:53  okir

	* trunk/docs/usbtoken.xml, trunk/src/usbtoken/Makefile.am,
	  trunk/src/usbtoken/atr.c, trunk/src/usbtoken/eutron.c,
	  trunk/src/usbtoken/main.c, trunk/src/usbtoken/socket.c: -
	  usbtoken fixes from Andreas
	* trunk/src/libopensc/card-etoken.c: - changed description

2003-04-03 09:52  okir

	* trunk/src/tools/opensc-tool.c: - opensc-tool -f: don't crash on
	  large or record structured files

2003-04-03 09:51  okir

	* trunk/src/tools/pkcs15-tool.c: - minor printf fix

2003-04-03 09:46  okir

	* trunk/src/libopensc/pkcs15.c: - stubs for "synthetic" pkcs15
	  tokens

2003-04-02 06:59  sth

	* trunk/src/pkcs11/pkcs11-global.c: Fix: card detection in
	  C_GetSlotInfo is done at most once a second

2003-04-02 06:58  sth

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/portability.c:
	  Added sc_current_time

2003-03-28 13:28  okir

	* trunk/src/tools/opensc-tool.c: - opensc-tool -f should handle
	  files > 2K gracefully

2003-03-28 13:26  okir

	* trunk/src/libopensc/card-etoken.c: - Remove workaround for t=1
	  bug in etoken driver.

2003-03-27 16:08  sth

	* trunk/src/pkcs11/framework-pkcs15.c: Fix: root certs could be
	  shown more then once

2003-03-27 12:40  okir

	* trunk/docs/Makefile.am: - add usbtoken.html to dist files

2003-03-27 10:20  okir

	* trunk/docs/Makefile.am: - usbtoken.html was listed twice
	* trunk/configure.in: - autoconf fixes from Andreas J

2003-03-27 10:19  okir

	* trunk/docs/Makefile.am, trunk/docs/usbtoken.xml: - added
	  usbtoken docs

2003-03-27 10:14  okir

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/reader-usbtoken.c: - added reader driver for
	  usbtoken

2003-03-27 10:12  okir

	* trunk/src/pkcs11/rsaref/Makefile.am: - added missing win32.h

2003-03-27 10:08  okir

	* trunk/src/Makefile.am, trunk/src/include/opensc/Makefile.am,
	  trunk/src/include/opensc/rsaref/Makefile.am,
	  trunk/src/pam/Makefile.am: - top_srcdir/top_builddir fixes (aj)

2003-03-27 10:06  okir

	* trunk/src/libopensc/libopensc.pc.in: - added

2003-03-27 10:05  okir

	* trunk/src/pkcs15init/profile.c: - properly set max pin length
	  attr

2003-03-27 10:02  okir

	* trunk/src/usbtoken, trunk/src/usbtoken/Makefile.am,
	  trunk/src/usbtoken/atr.c, trunk/src/usbtoken/etoken.c,
	  trunk/src/usbtoken/eutron.c, trunk/src/usbtoken/ikey2k.c,
	  trunk/src/usbtoken/ikey3k.c, trunk/src/usbtoken/main.c,
	  trunk/src/usbtoken/pid.c, trunk/src/usbtoken/socket.c,
	  trunk/src/usbtoken/t1.c, trunk/src/usbtoken/usb.c,
	  trunk/src/usbtoken/usbtoken.h: - Merged Andreas' usbtoken code

2003-03-25 11:19  okir

	* trunk/src/tools/opensc-tool.c: - make sure all APDU fields are
	  zero when processing -s option

2003-03-20 12:52  sth

	* trunk/src/libopensc/reader-pcsc.c: card remove/insert dection
	  for Win32

2003-03-12 10:20  okir

	* trunk/src/libopensc/card-gpk.c: - use OPENSSL_cleanse instead of
	  memset to zap DES key (Nils Larsch)

2003-03-11 12:41  okir

	* trunk/configure.in: - libdir -> pcsc_libdir to avoid name clashes

2003-03-11 11:00  okir

	* trunk/src/libopensc/ctx.c: - changed HAVE_LIBPCSCLITE ->
	  HAVE_PCSCLITE

2003-03-11 10:59  okir

	* trunk/configure.in: - Updated PCSC test code; allow building
	  --without-pcsc

2003-03-11 10:52  okir

	* trunk/bootstrap: - abort on errors

2003-03-10 21:35  okir

	* trunk/src/pkcs11/Makefile.am: - dont install
	  rsaref/{unix.h,win32.h}

2003-03-10 21:23  okir

	* trunk/src/libopensc/reader-pcsc.c: - minor cosmetic change

2003-03-10 21:22  okir

	* trunk/src/libopensc/opensc.h: - bump SC_MAX_READERS to 16

2003-03-10 11:44  okir

	* trunk/Makefile.am, trunk/src/include/opensc/Makefile.am,
	  trunk/src/pkcs15init/Makefile.am, trunk/src/tests/Makefile.am: -
	  makefile cleanups

2003-03-07 14:18  sth

	* trunk/src/pkcs11/slot.c: remove/insert fix: restore the
	  slot->reader in slot_token_removed

2003-03-06 12:13  sth

	* trunk/win32/readme.txt: Corrections/additions for compiling with
	  OpenSSL on Windows

2003-03-06 12:08  sth

	* trunk/win32/Make.rules.mak: Compile with /MD (multithreaded)
	  instead of /ML

2003-03-04 15:47  sth

	* trunk/src/libopensc/card.c: bug fix in sc_connect_card: only the
	  first ATR in a config file was accepted

2003-03-04 09:38  okir

	* trunk/src/libopensc/card-etoken.c: - fixed ATR

2003-03-03 21:07  sth

	* trunk/src/pkcs11/misc.c: added error msg SC_ERROR_KEYPAD_TIMEOUT

2003-03-03 13:07  okir

	* trunk/src/pkcs11/pkcs11-global.c: - more robust handling of
	  concurrent WaitForSlotEvent vs Finalize

2003-03-03 13:03  sth

	* trunk/src/pkcs11/slot.c: fix: clear the CK_SLOT_INFO flags in
	  slot_token_removed

2003-02-28 15:16  sth

	* trunk/src/pkcs11/framework-pkcs15.c: take the last 8 bytes of
	  the card as the pkcs11 serialNumber

2003-02-28 12:47  sth

	* trunk/src/pkcs11/pkcs11-global.c, trunk/src/pkcs11/slot.c: fix
	  in C_GetSlotInfo that previously cleared the slotDescription and
	  didnt clear the CKF_TOKEN_PRESENT flag

2003-02-28 11:07  okir

	* trunk/src/tools/pkcs15-init.c: - renamed connect() to
	  open_reader_and_card()

2003-02-26 07:27  sth

	* trunk/src/pkcs11/misc.c: added error code CKR_PIN_INVALID

2003-02-23 20:10  sth

	* trunk/src/pkcs11/pkcs11-global.c: fixed wrong return value in
	  C_Finalize

2003-02-23 19:38  sth

	* trunk/src/pkcs11/pkcs11-global.c: fixed some thread dead-lock
	  bugs

2003-02-23 17:50  okir

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/sc-pkcs11.h: - new pkcs15 object creation stuff

2003-02-22 21:27  sth

	* trunk/src/libopensc/card.c: buf fix in sc_connect_card

2003-02-21 15:40  sth

	* trunk/src/pkcs11/pkcs11-global.c: little fix in C_GetInfo

2003-02-21 12:47  okir

	* trunk/src/pkcs11/pkcs11-session.c: - prevent compiler warning

2003-02-21 12:29  sth

	* trunk/src/pkcs11/pkcs11-session.c: extra check in C_Logout

2003-02-21 12:27  sth

	* trunk/src/pkcs11/framework-pkcs15.c: login should return
	  CKR_ARGUMENTS_BAD if wrong pin length

2003-02-20 23:20  sth

	* trunk/src/tools/pkcs11-tool.c: removed unnecessary debugging

2003-02-20 23:19  sth

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15.h,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs15init/pkcs15-lib.c, trunk/src/signer/dialog.c,
	  trunk/src/tests/pintest.c, trunk/src/tests/print.c,
	  trunk/src/tools/pkcs15-crypt.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15-tool.c: added support for max pin length

2003-02-20 18:55  sth

	* trunk/src/pkcs11/pkcs11-session.c: NULL_PTR check added

2003-02-20 18:54  sth

	* trunk/src/pkcs11/pkcs11-object.c: Let C_FindObjectsInit return
	  correctly

2003-02-20 13:03  sth

	* trunk/src/libopensc/opensc.h: little fix of the previous commit

2003-02-20 12:51  sth

	* trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-emv.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h:
	  removed const in sc_card_driver (caused win32 crash)

2003-02-19 21:10  sth

	* trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs11/pkcs11-session.c: more parameter checks + fix
	  in previous checks

2003-02-19 13:44  sth

	* trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/pkcs11-session.c, trunk/src/pkcs11/sc-pkcs11.h:
	  added check for NULL pointers and uninitialized pkcs11 lib

2003-02-19 13:36  sth

	* trunk/src/libopensc/errors.c, trunk/src/libopensc/errors.h,
	  trunk/src/libopensc/reader-pcsc.c: added error: unresponsive card

2003-02-17 16:53  sth

	* trunk/src/pkcs11/pkcs11-global.c: correct behaviour of
	  C_GetSlotInfo at empty slots

2003-02-17 14:57  okir

	* trunk/src/pkcs11/pkcs11-global.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/slot.c: - made card_detect() available to
	  everyone - C_GetSlotInfo now always does card detection, but
	  only for the reader which which the slot is associated

2003-02-17 14:21  okir

	* trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/pkcs11-session.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/slot.c: - Introduce locks around all pkcs11
	  operations, in case the caller is multithreaded and wants to
	  access us from different threads.

2003-02-17 11:09  sth

	* trunk/src/tools/pkcs11-tool.c: some cleared messages

2003-02-16 20:25  okir

	* trunk/src/libopensc/card-gpk.c: - fixed change/unblock pin for
	  GPK

2003-02-16 18:09  sth

	* trunk/src/pkcs11/misc.c: added error code CKR_USER_NOT_LOGGED_IN

2003-02-14 16:59  sth

	* trunk/src/pkcs11/pkcs11-global.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/slot.c: reset first_free_slot during
	  C_Initialize

2003-02-12 14:20  sth

	* trunk/src/pkcs11/misc.c: added the CKR_DEVICE_REMOVED return code
	* trunk/src/libopensc/reader-pcsc.c: get the right error code on
	  card removal

2003-02-11 10:38  sth

	* trunk/src/pkcs11/misc.c: added p11 error CKR_PIN_LOCKED

2003-02-10 14:08  okir

	* trunk/src/tools/pkcs11-tool.c: - fixed minor compile warning
	* trunk/src/pkcs11/sc-pkcs11.h, trunk/src/pkcs11/slot.c: - Each
	  reader now gets a fixed range of slots - Each slot now shows the
	  reader name in the description field

2003-02-06 14:46  sth

	* trunk/src/libopensc/pkcs15-sec.c: added locking to
	  sc_pkcs15_decipher and sc_pkcs15_compute_signature

2003-02-05 15:43  okir

	* trunk/src/libopensc/dir.c, trunk/src/libopensc/pkcs15.c: - fixed
	  typo in previous patch

2003-02-05 15:39  okir

	* trunk/src/libopensc/pkcs15.c: - fixed typo in previous patch

2003-02-05 14:45  okir

	* trunk/src/libopensc/dir.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15.c: - Support Belgian eID - be less
	  pedantic about the AID listed in EF(DIR)

2003-02-05 13:55  sth

	* trunk/src/tools/pkcs11-tool.c: added support for pin pad readers
	  + change pin

2003-02-03 12:32  okir

	* trunk/src/pkcs11/slot.c: - suppress bogus insertion events

2003-02-03 12:23  okir

	* trunk/src/tools/pkcs11-tool.c: - Added test for WaitForSlotEvent
	  - fixed a bunch of compiler warnings

2003-02-03 12:20  okir

	* trunk/src/pkcs11/pkcs11-global.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/slot.c: - merged Stef's WaitForSlotEvent patches
	* trunk/src/pkcs11/openssl.c: - fixed compiled warning

2003-02-03 12:17  okir

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/asn1.h,
	  trunk/src/libopensc/pkcs15-pubkey.c: - pubkey asn.1 encoding fix

2003-02-01 20:26  sth

	* trunk/src/tools/pkcs15-tool.c: now also caching if file->size
	  differs from what sc_read_binary() returns

2003-01-31 15:32  sth

	* trunk/src/tools/pkcs11-tool.c: added signature test for all keys

2003-01-31 12:50  sth

	* trunk/src/pkcs11/misc.c: added: opensc SC_ERROR_KEYPAD_CANCELLED
	  -> pkcs11 CKR_FUNCTION_CANCELED

2003-01-30 09:45  sth

	* trunk/src/libopensc/dir.c: file size fix + removed unnecessary
	  code from previous commit

2003-01-28 15:39  sth

	* trunk/src/pkcs11/slot.c: the slot's slotDescription is now the
	  reader name

2003-01-28 15:37  sth

	* trunk/src/pkcs11/framework-pkcs15.c: selection between SHA-1 and
	  RIPEMD160 sigs when 35 bytes supplied

2003-01-28 15:36  sth

	* trunk/src/libopensc/dir.c: made buf[1024] dynamic (malloc)

2003-01-27 13:43  sth

	* trunk/src/pkcs11/slot.c: typo fix

2003-01-27 13:33  sth

	* trunk/src/tools/pkcs11-tool.c: some fixes + added cert viewing
	  for -O option

2003-01-27 13:17  sth

	* trunk/src/pkcs11/slot.c: added return value + fix (needed if
	  hide_empty_slots = true

2003-01-27 13:01  sth

	* trunk/src/libopensc/reader-pcsc.c: Fixes for Windows, who's
	  PC/SC has more events that interfere with insert/removal events

2003-01-24 15:24  jey

	* trunk/configure.in: - Remove openscd for now

2003-01-22 08:34  okir

	* trunk/src/libopensc/card-flex.c: - cflex 32k v4 supports keygen

2003-01-21 15:29  okir

	* trunk/src/tools/pkcs11-tool.c: - fixed two minor issues in p11
	  test code

2003-01-20 12:09  okir

	* trunk/src/libopensc/ctx.c: - fixed previous %windir% change

2003-01-20 11:40  okir

	* trunk/src/libopensc/card-etoken.c: - new ATR for eToken PRO 32k
	  reported by Kevin Stefanik

2003-01-20 10:22  okir

	* trunk/src/libopensc/pkcs15.c: - sc_pkcs15_read_file: gracefully
	  deal with short reads

2003-01-20 10:12  okir

	* trunk/src/include/winconfig.h, trunk/src/libopensc/ctx.c: - Get
	  opensc.conf from %windir% rather than hard-coded C:\\WINNT (Stef)

2003-01-20 10:02  okir

	* trunk/src/tools/pkcs11-tool.c: - a few minor changes from Stef

2003-01-20 09:57  okir

	* trunk/src/pkcs11/Makefile.am: - link against libscrandom.a, no
	  libscrandom.la

2003-01-20 09:56  okir

	* trunk/src/pkcs11/mechanism.c: - fixed typo in previous patch
	* trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15.c: - slightly more verbose error
	  messages when ASN.1 parsing fails

2003-01-20 09:53  okir

	* trunk/src/libopensc/asn1.c: - do not encode zero length sequences

2003-01-20 09:52  okir

	* trunk/src/pkcs11/mechanism.c: - fix sc_pkcs11_signature_size to
	  return modulus size in bytes, not bits (Stef)

2003-01-20 09:50  okir

	* trunk/src/pkcs11/pkcs11-global.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/slot.c: - added card_detect_all

2003-01-19 17:47  okir

	* trunk/TODO, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-pcsc.c, trunk/src/pkcs11/Makefile.am,
	  trunk/src/pkcs11/slot.c, trunk/src/scam/scam.c,
	  trunk/src/tests/sc-test.c, trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/pkcs11-tool.c, trunk/src/tools/util.c: - add
	  some support for card removal in pkcs11

2003-01-16 20:10  okir

	* trunk/src/pkcs11/Makefile.mak,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/framework-pkcs15init.c,
	  trunk/src/pkcs11/openssl.c, trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/sc-pkcs11.h, trunk/src/scrandom/Makefile.mak,
	  trunk/src/tools/pkcs11-tool.c: - Patches from Stef implementing
	  PKCS11 RNG related functions

2003-01-15 13:20  okir

	* trunk/src/tools/opensc-explorer.c: - added command "random"
	* trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/opensc.h:
	  - added SC_CARD_CAP_RNG

2003-01-14 19:55  aet

	* trunk/src/libopensc/card-flex.c, trunk/src/libopensc/ctbcs.c,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-data.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/pkcs11/openssl.c,
	  trunk/src/tests/base64.c, trunk/src/tools/pkcs11-tool.c,
	  trunk/src/tools/pkcs15-init.c: C++ warning fixes (assuan
	  excluded)

2003-01-14 16:49  okir

	* trunk/src/libopensc/card-flex.c: - mask out additional flags in
	  the card type byte when asked for the AAK

2003-01-14 16:44  okir

	* trunk/src/libopensc/card-flex.c: - added ATR for Cryptoflex 32k
	  v4

2003-01-14 14:26  okir

	* trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/portability.c: - win32 fixes for mutex change

2003-01-14 13:31  aet

	* trunk/src/libopensc/portability.c: A small warning / compile fix

2003-01-14 11:22  okir

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/portability.c:
	  - merged mutex patches from Serge Koganovitsch (Zetes) - created
	  new file portability.c and moved the whole mutex stuff there (so
	  we don't pollute public header files with #ifdef HAVE_XXX
	  anymore)

2003-01-13 21:38  okir

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/framework-pkcs15init.c,
	  trunk/src/pkcs11/misc.c, trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs11/sc-pkcs11.h, trunk/src/pkcs11/slot.c: - Another
	  go at the empty slot/empty token issue

2003-01-09 12:33  okir

	* trunk/src/libopensc/pkcs15.c: - fix to previous patch: if
	  use_cache is given in both the default and the application conf
	  block, use the latter

2003-01-09 12:31  okir

	* trunk/src/libopensc/pkcs15.c: - actually honor the use_cache
	  config option

2003-01-09 11:41  okir

	* trunk/src/include/winconfig.h: - PATH_MAX fix for win32 (Stef)

2003-01-09 09:18  okir

	* trunk/src/libopensc/ctx.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-cache.c: - when caching pkcs15 files,
	  transparently create the cache dir if not there

2003-01-09 09:14  okir

	* trunk/src/tools/pkcs15-tool.c: - learn_card: the cache directory
	  is now created by libopensc

2003-01-09 09:09  okir

	* trunk/src/tools/pkcs15-init.c: - reordered options for help
	  message
	* trunk/src/tools/util.c: - fix the help message for
	  --very-long-options

2003-01-09 08:46  okir

	* trunk/src/libopensc/pkcs15-cache.c: - use "wb" rather than "w"
	  in fopen (Stef)

2003-01-09 08:45  okir

	* trunk/src/tools/pkcs15-tool.c: - fixed message in --learn-card

2003-01-09 07:31  okir

	* trunk/src/libopensc/card-gpk.c: - prevent segfault in
	  opensc-explorer create command

2003-01-06 23:47  aet

	* trunk/src/tools, trunk/src/tools/.cvsignore: Add pkcs11-tool

2003-01-06 23:46  aet

	* trunk/src/libopensc/sec.c, trunk/src/pkcs11/mechanism.c,
	  trunk/src/pkcs11/sc-pkcs11.h, trunk/src/tests/base64.c,
	  trunk/src/tools/pkcs11-tool.c: Fix compiler warnings

2003-01-06 21:46  aet

	* trunk/src/libopensc/log.c, trunk/src/libopensc/log.h: Cleanups
	  and logging improvements for non-GCC compilers

2003-01-06 19:52  okir

	* trunk/win32/readme.txt: Update from Stef
	* trunk/src/pkcs11/Makefile.mak, trunk/src/pkcs11/openssl.c,
	  trunk/src/tools/pkcs11-tool.c: - Win32 fixes in case openssl is
	  not present (Stef)

2003-01-06 19:37  okir

	* trunk/src/libopensc/iso7816.c: - fixed minor pin pad bug

2003-01-06 19:36  okir

	* trunk/src/libopensc/pkcs15-pin.c: - sc_pkcs15_change_pin: small
	  pin pad change from Stef

2003-01-06 19:28  okir

	* trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/misc.c: -
	  pin pad changes from Stef

2003-01-06 17:45  okir

	* trunk/src/libopensc/reader-pcsc.c: - DEF_APDU_FIX wasn't used
	  unless you install a config file.

2003-01-06 12:06  aet

	* trunk/src/tools/pkcs15-init.c: Add missing case 'w' to
	  handle_option

2003-01-06 11:03  okir

	* trunk/src/tools/util.c: - Tools did not work unless -w switch
	  was given

2003-01-06 10:53  aet

	* trunk/configure.in, trunk/src/openscd/Makefile.am: Minor cleanups

2003-01-06 10:48  aet

	* trunk/src/include/opensc/rsaref,
	  trunk/src/include/opensc/rsaref/.cvsignore, trunk/src/openscd,
	  trunk/src/openscd/.cvsignore: Add .cvsignore

2003-01-05 18:06  okir

	* trunk/src/libopensc/reader-pcsc.c: - vertain platforms need
	  time.h to understand time_t

2003-01-05 17:59  okir

	* trunk/src/libopensc/opensc.h: - fixed comment before
	  sc_wait_for_event
	* trunk/src/libopensc/reader-pcsc.c: - fixed problem with infinite
	  tiemout in sc_wait_for_event

2003-01-04 13:17  aet

	* trunk/src/libopensc/errors.c: canelled -> cancelled

2003-01-03 17:07  okir

	* trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/pkcs15-crypt.c, trunk/src/tools/pkcs15-tool.c: -
	  fixed help messages broken by previous patch
	* trunk/src/tools/pkcs15-init.c: - instead of calling
	  sc_connect_card, use new function connect_card from util.c This
	  function will take care of the fine print and optionally wait
	  for card insertion too.

2003-01-03 16:58  okir

	* trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-crypt.c,
	  trunk/src/tools/pkcs15-tool.c: - instead of calling
	  sc_connect_card, use new function connect_card from util.c This
	  function will take care of the fine print and optionally wait
	  for card insertion too.

2003-01-03 16:57  okir

	* trunk/src/tools/util.c, trunk/src/tools/util.h: - New function
	  connect_card() - this does all the work of connecting to the
	  card, optionally waiting for card insertion using
	  sc_wait_for_event

2003-01-03 16:32  okir

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/reader-pcsc.c,
	  trunk/src/libopensc/sc.c: - Patch from Stef to implement
	  sc_wait_for_event, slightly enhanced by yours truly.

2003-01-03 16:30  okir

	* trunk/src/libopensc/errors.c, trunk/src/libopensc/errors.h: -
	  new error code (wait_for_event timeout)

2003-01-03 14:33  okir

	* trunk/src/tools/pkcs11-tool.c: - Patch from Stef: add support
	  for --pin and --test

2003-01-03 14:28  okir

	* trunk/src/pkcs11/mechanism.c, trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/sc-pkcs11.h: - C_Sign* and C_Digest* now return
	  the proper codes when the output buffer is too small, or when
	  the caller is doing and output buffer size query

2003-01-03 13:27  okir

	* trunk/src/libopensc/reader-pcsc.c: - default apdu_fix=1 on win32

2003-01-03 13:26  okir

	* trunk/src/libopensc/ctx.c: - allow hard-coded config options

2003-01-03 11:54  okir

	* trunk/src/scconf/internal.h, trunk/src/scconf/lex-parse.l,
	  trunk/src/scconf/parse.c, trunk/src/scconf/scconf.h: - added
	  support for parsing a static configuration string

2003-01-03 11:40  okir

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/pkcs11-global.c: - Try to fix
	  pkcs11.hide_empty_slots

2003-01-03 11:39  okir

	* trunk/src/pkcs11/sc-pkcs11.h: - sc_pkcs11_slot_t typedef added

2003-01-03 11:09  okir

	* trunk/etc/opensc.conf.example,
	  trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/misc.c,
	  trunk/src/pkcs11/sc-pkcs11.h: - Added run-time option
	  pkcs11.cache_pins, default false

2003-01-03 10:49  okir

	* trunk/etc/opensc.conf.example,
	  trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/misc.c,
	  trunk/src/pkcs11/sc-pkcs11.h: - Added run-time option
	  pkcs11.lock_login

2003-01-02 15:31  okir

	* trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/reader-pcsc.c: - win32 fixes from stef

2003-01-02 15:23  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - Getattr(CKA_MODULUS_BITS)
	  would fail for keys w/o certificate

2002-12-23 19:17  okir

	* trunk/TODO: Update

2002-12-23 18:47  okir

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-mcrd.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/ctbcs.c, trunk/src/libopensc/ctbcs.h,
	  trunk/src/libopensc/errors.c, trunk/src/libopensc/errors.h,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-pcsc.c, trunk/src/libopensc/sec.c,
	  trunk/src/libopensc/types.h: - Implemented new PIN
	  verify/change/unblock framework. All PIN operations are routed
	  through sc_pin_cmd(), which builds the APDU and either passes it
	  to the card directly, or to the card reader along with a request
	  to read the PIN(s) from the reader's keypad. Currently, entering
	  PIN in the standard way (i.e. via the application) should still
	  work - I have verified GPK and eToken; Cryptoflex verify should
	  work as well. Anything else needs additional testing, and
	  support for keypad input in particular (I cannot test this at
	  the moment for lack of a suitable reader).

2002-12-23 18:43  okir

	* trunk/src/pkcs15init/pkcs15-etoken.c: - the AC CHANGE condition
	  of the PIN objects we created referenced the PUK, rather than
	  the PIN. This caused the standard sc_change_reference_data
	  operation to fail.

2002-12-23 17:02  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - NUL-terminate strings
	  returned by getattr(CKA_LABEL)

2002-12-22 23:16  okir

	* trunk/src/tools/pkcs11-tool.c: - Added --hash/-h to hash data
	  (Stef Hoeben) - Added function to translate CKR_* error codes to
	  strings.

2002-12-22 20:50  okir

	* trunk/src/pkcs11/sc-pkcs11.h: - define enough reader slots

2002-12-22 14:43  aet

	* trunk/src/include/winconfig.h, trunk/src/pkcs15init/profile.c,
	  trunk/src/tools/pkcs11-tool.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15-tool.c: - Add access, mkdir and getpass
	  wrappers into winconfig.h

2002-12-22 11:50  okir

	* trunk/etc/opensc.conf.example,
	  trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/misc.c,
	  trunk/src/pkcs11/pkcs11-global.c, trunk/src/pkcs11/sc-pkcs11.h:
	  - slightly changed previous patch; new flag hide_empty_slots

2002-12-21 16:45  okir

	* trunk/etc/opensc.conf.example,
	  trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/misc.c,
	  trunk/src/pkcs11/pkcs11-global.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/slot.c: - Allow the admin to configure how many
	  slots are used per card (opensc.conf; pkcs11.num_slots)

2002-12-21 14:10  okir

	* trunk/src/libopensc/ctx.c: - clarified use of conf_blocks in
	  process_config_file

2002-12-20 14:55  okir

	* trunk/src/libopensc/card.c: - prevent buffer overflow

2002-12-19 21:17  okir

	* trunk/src/libopensc/sc.c: - minor signedness issue

2002-12-19 19:42  okir

	* trunk/src/tools/opensc-explorer.c: - implemented unblock command

2002-12-19 16:16  okir

	* trunk/src/libopensc/ctx.c, trunk/src/libopensc/opensc.h: - get
	  rid of warnings when calling load_card_driver_options

2002-12-19 14:26  okir

	* trunk/src/libopensc/pkcs15-data.c, trunk/src/libopensc/pkcs15.h:
	  - attempt to fix DODF encoding/decoding

2002-12-19 10:49  okir

	* trunk/src/tools/pkcs11-tool.c: - add missing help message for
	  --module

2002-12-19 09:34  okir

	* trunk/TODO: Update

2002-12-19 09:27  okir

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/framework-pkcs15init.c,
	  trunk/src/pkcs11/mechanism.c, trunk/src/pkcs11/sc-pkcs11.h: -
	  Another fix to mechanism handling: ripemd160 signatures should
	  work now - Got rid of get_mechanism_{list,info} in
	  framework_ops, as they're not needed anymore.

2002-12-19 09:24  okir

	* trunk/src/tools/pkcs11-tool.c: - fixed rsa-ripemd160 signatures
	  - Added new option --module

2002-12-18 19:28  okir

	* trunk/win32/Make.rules.mak: Compile fix from Serge Koganovitsch

2002-12-18 19:26  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - Values of CKA_SIGN and
	  similar attributes now based on the pkcs15 usage flags rather
	  than on some hardwired defaults.

2002-12-18 12:15  okir

	* trunk/src/libopensc/pkcs15-sec.c: - fixed pkcs1-ripemd160
	  signature header

2002-12-18 11:40  okir

	* trunk/TODO: Update

2002-12-18 11:34  okir

	* trunk/src/tools/pkcs15-init.c: - Added helpful comment about
	  --use-default-transport-keys

2002-12-18 10:17  okir

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak,
	  trunk/src/libopensc/pkcs15-data.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/pkcs15init/gpk.profile,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15.profile, trunk/src/tests/p15dump.c,
	  trunk/src/tests/print.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15-tool.c: - First shot at pkcs15 data
	  objects from Danny De Cock

2002-12-18 09:23  okir

	* trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c: - removed some dead code

2002-12-17 22:13  okir

	* trunk/TODO: Update

2002-12-17 20:44  okir

	* trunk/src/pkcs11/Makefile.mak, trunk/src/pkcs11/libpkcs11.c,
	  trunk/win32/readme.txt: - More win32 fixes from Stef

2002-12-17 20:20  okir

	* trunk/TODO: Update

2002-12-17 20:16  okir

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/mechanism.c, trunk/src/pkcs11/sc-pkcs11.h: -
	  Register only those mechanisms the card actually supports

2002-12-17 20:15  okir

	* trunk/src/tools/pkcs11-tool.c: - Added shorthand rsa-ripemd160
	* trunk/src/libopensc/pkcs15-sec.c: - Added support for
	  SC_ALGORITHM_RSA_HASH_RIPEMD160 in sc_pkcs15_compute_signature -
	  rewrote add_padding

2002-12-17 20:14  okir

	* trunk/src/libopensc/opensc.h: - Added
	  SC_ALGORITHM_RSA_HASH_RIPEMD160

2002-12-17 16:00  okir

	* trunk/src/Makefile.mak, trunk/src/pkcs11/Makefile.mak,
	  trunk/src/pkcs11/libpkcs11.c, trunk/src/tools/Makefile.mak,
	  trunk/src/tools/pkcs11-tool.c, trunk/win32/Make.rules.mak: -
	  more win32 fixes from Stef

2002-12-17 12:37  okir

	* trunk/configure.in, trunk/src/include/opensc/Makefile.am,
	  trunk/src/include/opensc/rsaref,
	  trunk/src/include/opensc/rsaref/Makefile.am: - generate header
	  symlinks for libpkcs11

2002-12-17 11:51  okir

	* trunk/src/Makefile.am: - build pkcs11 before tools, as
	  pkcs11-tool needs libpkcs11

2002-12-17 11:50  okir

	* trunk/src/tools/Makefile.am, trunk/src/tools/pkcs11-tool.c: -
	  New application: pkcs11-tool

2002-12-17 11:49  okir

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/mechanism.c, trunk/src/pkcs11/misc.c,
	  trunk/src/pkcs11/openssl.c, trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs11/pkcs11-object.c, trunk/src/pkcs11/sc-pkcs11.h:
	  - New mechanism framework

2002-12-17 11:48  okir

	* trunk/src/pkcs11/Makefile.am: - New mechanism framework - New
	  libpkcs11 utility library
	* trunk/src/pkcs11/libpkcs11.c, trunk/src/pkcs11/pkcs11.h: - New
	  utility library libpkcs11 - supposed to provide easy loading and
	  unloading of modules, and possibly a few other features in the
	  future. Needed by pkcs11-tool

2002-12-12 10:08  okir

	* trunk/src/Makefile.mak, trunk/src/pkcs15init/Makefile.mak,
	  trunk/src/tests/Makefile.mak, trunk/src/tools/Makefile.mak: -
	  more Makefile.mak fixes from Stef

2002-12-11 08:54  okir

	* trunk/src/libopensc/pkcs15.c: - do not segfault when we fail to
	  parse a pkcs15 DF

2002-12-10 17:53  okir

	* trunk/src/pkcs15init/Makefile.mak,
	  trunk/src/scrandom/Makefile.mak, trunk/src/tests/Makefile.mak,
	  trunk/win32/readme.txt: - win32 patch from Stef Hoeben

2002-12-10 17:47  okir

	* trunk/src/Makefile.mak, trunk/src/pkcs11/Makefile.mak,
	  trunk/src/pkcs11/framework-pkcs15init.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/scrandom/scrandom.c,
	  trunk/src/tools/Makefile.mak, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15-tool.c: - win32 patch from Stef Hoeben
	* trunk/src/pkcs11/framework-pkcs15.c: - Added support for
	  CKM_RSA_X_509 (Stef Hoeben)

2002-12-10 14:44  jey

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc.c,
	  trunk/src/openscd/commands.c: - Added support for separator
	  characters in sc_bin_to_hex()

2002-12-10 14:31  okir

	* trunk/bootstrap: - rm -rf autom4te.cache - it's a directory

2002-12-10 14:22  okir

	* trunk/src/tools/pkcs15-tool.c: - When exporting the public key,
	  fall back to the certificate object if there's no public key
	  with the given ID.

2002-12-10 14:14  jey

	* trunk/src/tests/base64.c: - Modified base64 test so it actually
	  tests base64 stuff

2002-12-10 13:43  jey

	* trunk/configure.in, trunk/src/Makefile.am, trunk/src/openscd,
	  trunk/src/openscd/Makefile.am, trunk/src/openscd/commands.c,
	  trunk/src/openscd/mkdtemp.c, trunk/src/openscd/openscd.c,
	  trunk/src/openscd/openscd.h, trunk/src/openscd/test.c: - Added
	  openscd and Assuan

2002-12-10 13:41  jey

	* trunk/src/scrandom/scrandom.c: - Small bugfix

2002-12-10 13:27  jey

	* trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h: -
	  Keep the DER encoding of each PKCS #15 object in memory

2002-12-10 13:26  jey

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc.c: -
	  Changed sc_bin_to_hex() prototype a bit and removed the ':'
	  characters

2002-12-09 13:33  okir

	* trunk/src/pkcs11/misc.c: - translate SC_ERROR_WRONG_LENGTH to
	  CKR_DATA_RANGE

2002-12-06 21:40  okir

	* trunk/src/libopensc/reader-pcsc.c: - changed
	  pcsc_detect_card_presence to call refresh_slot_attributes. This
	  eliminates duplicate code, and that we also pick up the new ATR
	  if another card was inserted in the meanwhil.

2002-12-06 12:49  okir

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc.c: - added
	  sc_bin_to_hex

2002-12-05 09:34  okir

	* trunk/src/libopensc/sc.c: - sc_parse_atr: initialize
	  slot->atr_info.hist_bytes even if the ATR is bad

2002-12-05 08:58  okir

	* trunk/src/scam/p15_eid.c: - we expect an RSA key, so better make
	  sure it _is_ RSA

2002-12-04 15:36  okir

	* trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/sc.c: -
	  Parsing pkcs11 IDs and paths with an odd number of bytes would
	  scan past the end of the string. Made sc_hex_to_bin more robust
	  and change various place to use it rather than doing it on their
	  own with scanf(%02x)

2002-12-04 14:56  okir

	* trunk/src/tools/pkcs15-init.c: - pass the --label argument as
	  the token label when creating the pkcs15 app
	* trunk/src/pkcs15init/pkcs15-lib.c: - properly set the TokenInfo
	  label from user input

2002-12-04 14:28  okir

	* trunk/src/pkcs15init/README: - added comment on pkcs12 files

2002-12-04 13:50  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - Fixed CKM_SHA1_RSA_PKCS:
	  if OpenSSL is available, use it to hash the supplied data. If
	  OpenSSL is unavailable, CKM_SHA1_RSA_PKCS is not advertised to
	  the user.

2002-12-04 13:25  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - make sure we don't assign
	  the same ID more than once

2002-12-04 13:24  okir

	* trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-init.h: - Added
	  sc_pkcs15init_get_secret so that the GPK driver can get the MF
	  secure messaging key.

2002-12-04 12:33  okir

	* trunk/src/libopensc/errors.c, trunk/src/libopensc/errors.h: -
	  updated pkcs15init error codes

2002-12-04 12:09  okir

	* trunk/src/libopensc/card-flex.c: - fixed ATR for Cryptoflex 32K
	  e-gate

2002-12-04 11:57  okir

	* trunk/src/pkcs15init/flex.profile,
	  trunk/src/pkcs15init/gpk.profile: - got rid of default transport
	  keys

2002-12-04 11:56  okir

	* trunk/src/tools/pkcs15-init.c, trunk/src/tools/pkcs15-tool.c: -
	  implement get_key callback
	* trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: - Change the way we handle
	  default transport keys, attempt to reduce the risk of users
	  entering the wrong keys and locking their cards. Here's how we
	  do it: - ask the card driver (via cardctl GET_DEFAULT_KEY) for
	  default key - invoke the front-end's get_key callback. If the
	  card driver gave us a default key, pass it as default value -
	  front end is free to use default key as-is, or prompt user

2002-12-04 09:59  okir

	* trunk/src/libopensc/card-flex.c: - implemented
	  SC_CARDCTL_GET_DEFAULT_KEY for the flex driver; will return the
	  default AAKs for Cryptoflex and Cyberflex Access. Hope I got
	  them right.

2002-12-04 09:26  okir

	* trunk/src/libopensc/card-gpk.c, trunk/src/libopensc/cardctl.h,
	  trunk/src/libopensc/errors.h: - added new cardctl
	  SC_CARDCTL_GET_DEFAULT_KEY to get default transport keys

2002-12-04 09:24  okir

	* trunk/src/libopensc/asn1.c: - fixed asn1_encode_path - include
	  length value if given

2002-12-03 15:40  okir

	* trunk/etc/opensc.conf.example: - "document" new card_driver.atr
	  feature
	* trunk/src/libopensc/card.c, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/internal.h, trunk/src/libopensc/opensc.h: -
	  support ATR maps in /etc/opensc.conf, e.g. card_driver flex {
	  atr = 11:22:33:44; atr = 55:66:77:88; }

2002-12-03 12:44  okir

	* trunk/src/pkcs15init/flex.profile: - disabled default AAK for now

2002-12-03 12:27  okir

	* trunk/src/libopensc/card-flex.c: - added Cryptoflex 32k e-gate

2002-12-02 14:40  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - Avoid segfaults: if we
	  cannot parse the certificate, do not create a cert object.

2002-12-02 13:42  okir

	* trunk/src/libopensc/types.h: - added length value to sc_path

2002-12-02 13:39  okir

	* trunk/src/libopensc/pkcs15-cert.c: - sc_pkcs15_read_certificate
	  now uses sc_pkcs15_read_file

2002-12-02 13:38  okir

	* trunk/src/libopensc/pkcs15-cache.c,
	  trunk/src/libopensc/pkcs15.c: sc_pkcs15_read{,_cached}_file now
	  honor the index/length parameters from Path
	* trunk/src/libopensc/asn1.c: - When decoding Path, decode
	  "length" value as well (if present) - a few int -> size_t
	  changes to suppress gcc3 warnings.

2002-11-29 10:54  okir

	* trunk/src/pkcs11/pkcs11-session.c: - do not crash if the
	  application tries to log into a token w/o PIN

2002-11-29 08:56  okir

	* trunk/src/pam/Makefile.am, trunk/src/pkcs11/Makefile.am,
	  trunk/src/sia/Makefile.am: - use @libdir@ instead of
	  ${exec_prefix}/lib - some platforms (such as s390x and ppc64)
	  put libraries into /usr/lib64

2002-11-28 16:38  okir

	* trunk/src/tools/pkcs15-tool.c: - fixed typo

2002-11-28 15:58  okir

	* trunk/docs/Makefile.am, trunk/docs/cryptoflex-tool.1,
	  trunk/docs/opensc-config.1, trunk/docs/opensc-explorer.1,
	  trunk/docs/opensc-tool.1, trunk/docs/opensc.7,
	  trunk/docs/pkcs15-profile.5.in, trunk/docs/pkcs15-tool.1: - lots
	  of new manpages from Joe Phillips

2002-11-28 15:44  okir

	* trunk/src/tools/opensc-explorer.c: - Fix from Joe Phillips: fix
	  help message

2002-11-28 15:43  okir

	* trunk/src/tools/opensc-tool.c: - Fix from Joe Phillips: option
	  mismatch in --help message

2002-11-28 15:38  okir

	* trunk/src/tools/pkcs15-tool.c: - Fix from Stef Hoeben for win32

2002-11-27 14:27  okir

	* trunk/src/libopensc/ctx.c: - Fix from Stef Hoeben to get the
	  eid-cache stuff working on win32

2002-11-25 09:03  okir

	* trunk/src/tools/opensc-explorer.c: - --card-driver was mapped to
	  -D, but should have been -c.

2002-11-22 09:10  okir

	* trunk/src/pkcs11/misc.c, trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs11/sc-pkcs11.h, trunk/src/pkcs11/slot.c: - in case
	  of an invalid session/object handle, return
	  OBJECT_HANDLE_INVALID or SESSION_HANDLE_INVALID instead of
	  FUNCTION_DAILED

2002-11-22 09:09  okir

	* trunk/src/pkcs11/pkcs11-object.c: - Return correct error codes
	  in GetAttributeValue in case of ATTRIBUTE_TYPE_INVALID and
	  ATTRIBUTE_SENSITIVE

2002-11-22 09:07  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - get_mechanism_list now
	  reports correct number of mechanisms

2002-11-18 09:05  aet

	* trunk/src/libopensc/log.c, trunk/src/libopensc/log.h: Duh,
	  revert previous patch.

2002-11-17 20:26  aet

	* trunk/src/Makefile.mak: Build PKCS#11 module for win32 port.

2002-11-17 20:23  aet

	* trunk/src/libopensc/log.c, trunk/src/libopensc/log.h: Add usage
	  of __FILE__, __LINE__ and __FUNCTION__ macros for non-GCC
	  compilers too, where available. (Based on patch by Stef Hoeben)

2002-11-12 14:32  aet

	* trunk/src/scconf/scconf.c: Merge with dvbsak.sf.net

2002-11-12 11:35  aet

	* trunk/src/scconf/lex-parse.l: Free yy_current_buffer since lex
	  doesn't do it, take 2.

2002-11-12 10:33  aet

	* trunk/src/tests/sc-test.c: add HAVE_GETOPT_H

2002-11-11 22:40  aet

	* trunk/src/tests/Makefile.am: Add @GETOPTSRC@

2002-11-11 22:26  aet

	* trunk/src/scconf/parse.c, trunk/src/scconf/scconf.c,
	  trunk/src/scconf/scconf.h, trunk/src/scconf/test-conf.c: Added
	  new functions: scconf_put_{str,int,bool} scconf_write_entries
	  TODO: - Cleanups, add more sanity checks - Rewrite parts of the
	  API for LDAP support

2002-11-11 14:27  aet

	* trunk/src/scconf/scconf.c: Oops

2002-11-11 14:08  aet

	* trunk/src/scconf/parse.c, trunk/src/scconf/scconf.c,
	  trunk/src/scconf/scconf.h, trunk/src/scconf/test-conf.c,
	  trunk/src/scconf/write.c: Checkpoint commit. Added new
	  functions: scconf_block_{add,copy}
	  scconf_item_{add,copy,destroy} scconf_list_copy

2002-11-11 08:22  fabled

	* trunk/src/include/winconfig.h, trunk/src/libopensc/Makefile.mak:
	  Updated win32 port for recent updates. Noticed by Stef Hoeben.

2002-11-08 14:14  okir

	* trunk/src/libopensc/opensc.h: - added SC_ALGORITHM_NEED_USAGE
	* trunk/src/pkcs15init/pkcs15-lib.c: - handle
	  SC_ALGORITHM_NEED_USAGE flag
	* trunk/src/libopensc/card-etoken.c: - set SC_ALGORITHM_NEED_USAGE
	  flag in algo info

2002-11-08 13:50  okir

	* trunk/src/libopensc/card-gpk.c, trunk/src/libopensc/cardctl.h,
	  trunk/src/pkcs15init/pkcs15-gpk.c: - detect when a GPK card is
	  already personalized

2002-11-08 13:04  okir

	* trunk/README.cards: added
	* trunk/src/libopensc/card-etoken.c: - make sc_get_driver static

2002-11-08 12:10  okir

	* trunk/src/libopensc/card-gpk.c: - GemSafe cards have a directory
	  0200 with an AIDF file in it, and will return a 0x6F file info
	  block when selecting this DF. Try to parse it, as far as we
	  understand it.

2002-11-07 14:48  okir

	* trunk/src/tools/opensc-explorer.c: - fixed segfault in
	  mkdir/create - minor cosmetic change in do_verify

2002-11-05 13:47  okir

	* trunk/src/tests/sc-test.c: - added getopt option parsing (-r
	  reader -c driver -dddd) What's a test app when you can't enable
	  debugging?!

2002-10-20 09:20  aet

	* trunk/src/pkcs15init/pkcs15-etoken.c: Another build fix

2002-10-19 16:51  aet

	* trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/pkcs15-wrap.c, trunk/src/pam/misc_conv.c,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/signer/opensc-crypto.c, trunk/src/signer/signer.c,
	  trunk/src/tests/base64.c, trunk/src/tests/lottery.c,
	  trunk/src/tests/p15dump.c, trunk/src/tests/pintest.c,
	  trunk/src/tests/print.c, trunk/src/tests/prngtest.c,
	  trunk/src/tests/sc-test.c: Various build fixes

2002-10-19 14:04  aet

	* trunk/configure.in, trunk/src/Makefile.am,
	  trunk/src/include/winconfig.h,
	  trunk/src/libopensc/card-default.c, trunk/src/libopensc/log.c,
	  trunk/src/libopensc/module.c,
	  trunk/src/libopensc/pkcs15-cache.c,
	  trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-sec.c,
	  trunk/src/libopensc/reader-pcsc.c, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/sec.c, trunk/src/pam/misc_conv.c,
	  trunk/src/pam/pam_opensc.c, trunk/src/pam/pam_support.c,
	  trunk/src/pkcs11/rsaref/pkcs11.h, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c, trunk/src/scldap/scldap.c,
	  trunk/src/scldap/test-ldap.c, trunk/src/scrandom/scrandom.c,
	  trunk/src/tests/lottery.c, trunk/src/tests/prngtest.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-crypt.c,
	  trunk/src/tools/util.h: Cleanups for initial win32 port,
	  untested.

2002-10-02 10:55  okir

	* trunk/src/tools/pkcs15-init.c: - fixed typos in help output

2002-10-02 10:50  okir

	* trunk/src/tools/pkcs15-init.c: - added --reader, --key-usage
	  command line args
	* trunk/src/pkcs15init/pkcs15-etoken.c: - allow to generate/store
	  decryption keys

2002-10-02 10:49  okir

	* trunk/src/libopensc/iso7816.c: - fixed deciphering (apdu.le was
	  not set)

2002-09-30 20:24  okir

	* trunk/src/tools/pkcs15-init.c: - during card initialization,
	  allow to enter SO PIN interactively

2002-09-30 20:03  okir

	* trunk/src/tools/pkcs15-init.c: - when entering new PINs on
	  stdin, make the user re-type the PIN to avoid typos

2002-08-21 10:34  jey

	* trunk/src/libopensc/pkcs15-pin.c: - Also removed the ref variable
	* trunk/src/libopensc/pkcs15-pin.c: - Removed the last goof I made

2002-08-21 10:22  jey

	* trunk/src/libopensc/pkcs15.h: - Fixed prototype for
	  sc_pkcs15_card_new()
	* trunk/src/libopensc/pkcs15-cert.c: - Used cert->key instead of
	  key in parse_x509_cert()

2002-08-21 10:20  jey

	* trunk/src/libopensc/pkcs15-pin.c: - Set bit 8 in key reference,
	  if PIN_FLAG_LOCAL is set

2002-08-21 10:16  jey

	* trunk/src/libopensc/iso7816.c: - Brown paper-bag fix

2002-08-21 10:15  jey

	* trunk/src/libopensc/card-mcrd.c,
	  trunk/src/libopensc/card-tcos.c: - Removed error list

2002-08-21 10:14  jey

	* trunk/src/libopensc/Makefile.am: - Added card-mcrd.c

2002-08-21 10:13  jey

	* trunk/src/libopensc/card-mcrd.c, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/opensc.h: - Added driver for MICARDO 2 cards

2002-08-21 10:06  jey

	* trunk/src/libopensc/iso7816.c: - Added some new error codes to
	  sc_iso7816_check_sw()

2002-08-21 10:02  jey

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/internal.h: -
	  Renamed read_tag to sc_asn1_read_tag and made it a non-static
	  function

2002-08-20 08:59  okir

	* trunk/src/libopensc/card-gpk.c: - Merged GPK patches from Steve
	  Henson (signing fixes) and Joe Phillips (GPK16K ATR matching
	  code).

2002-08-20 08:39  okir

	* trunk/src/tools/opensc-tool.c: - Accessed file->type after
	  freeing file (S. Henson)

2002-08-20 08:28  okir

	* trunk/src/libopensc/card-gpk.c: - GPK16K: wildcard RSA exponent
	  is 0 not -1

2002-08-19 17:13  okir

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/framework-pkcs15init.c,
	  trunk/src/pkcs11/sc-pkcs11.h, trunk/src/pkcs11/slot.c: - put the
	  definition of USE_PKCS15_INIT into a place where it can actually
	  work

2002-08-08 20:53  jey

	* trunk/src/pkcs11/framework-pkcs15init.c,
	  trunk/src/pkcs11/slot.c: - Fixed functionality when pkcs15init
	  is not compiled

2002-08-06 13:51  okir

	* trunk/src/libopensc/pkcs15-cert.c: - certificate version is
	  optional (v1)

2002-07-28 18:22  jey

	* trunk/src/libopensc/card-gpk.c: - Added ATR for GPK16000

2002-07-10 06:28  fabled

	* trunk/src/pkcs11/rsaref/win32.h: - PKCS#11 module definitions;
	  not PKCS#11 application. Removes compiler and linker warnings.

2002-06-20 13:16  fabled

	* trunk/src/pkcs11/Makefile.mak,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/framework-pkcs15init.c,
	  trunk/src/pkcs11/rsaref/pkcs11.h,
	  trunk/src/pkcs11/rsaref/win32.h, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/slot.c: - Ported pkcs11 module to win32.

2002-06-20 12:14  fabled

	* trunk/src/common/Makefile.mak, trunk/src/libopensc/Makefile.mak,
	  trunk/src/scconf/Makefile.mak, trunk/win32/Make.rules.mak: -
	  Win32 build fixes. Should work now.

2002-06-20 12:08  fabled

	* trunk/src/common/getpass.c: - Added missing getpass.c for win32
	  compatibility

2002-06-18 18:18  okir

	* trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: - implemented generic
	  erase_card functionality
	* trunk/src/pkcs15init/pkcs15-cflex.c: - implemented erase_card

2002-06-18 15:17  okir

	* trunk/src/libopensc/errors.c: - error message fixup

2002-06-18 12:20  okir

	* trunk/src/libopensc/card-gpk.c: - fixed compute_signature for
	  gpk8000

2002-06-17 15:26  okir

	* trunk/src/pkcs15init/pkcs15-gpk.c: - fixed pkcs15init for GPK
	  8000

2002-06-17 15:24  okir

	* trunk/src/libopensc/card-gpk.c, trunk/src/libopensc/cardctl.h: -
	  added cardctl SC_CARDCTL_GPK_VARIANT

2002-06-17 11:18  okir

	* trunk/src/tests/regression/crypt0003,
	  trunk/src/tests/regression/crypt0004,
	  trunk/src/tests/regression/functions: - more tests

2002-06-17 11:17  okir

	* trunk/src/tools/pkcs15-crypt.c: - allow output of signature to
	  stdout

2002-06-17 10:58  okir

	* trunk/src/pkcs15init/etoken.profile,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: - various changes for
	  on-board key generation - key download and key generation for
	  eToken works now

2002-06-17 10:55  okir

	* trunk/src/libopensc/card-etoken.c: - more eToken fixes

2002-06-17 10:54  okir

	* trunk/src/libopensc/pkcs15-sec.c: - RSA padding header for sha1
	  was still broken

2002-06-16 21:19  jey

	* trunk/src/libopensc/card.c: - Renamed sc_transceive_t0 to
	  sc_transceive to avoid confusion =)

2002-06-16 21:18  jey

	* trunk/src/libopensc/pkcs15-sec.c: -
	  sc_pkcs15_compute_signature() and sc_pkcs15_decipher() now
	  select the whole path specified in a private key object

2002-06-14 12:52  fabled

	* trunk/Makefile.mak, trunk/README.Win32, trunk/src/Makefile.am,
	  trunk/src/Makefile.mak, trunk/src/common/Makefile.am,
	  trunk/src/common/Makefile.mak, trunk/src/include/Makefile.mak,
	  trunk/src/include/winconfig.h, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/Makefile.mak, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/log.c,
	  trunk/src/libopensc/log.h, trunk/src/libopensc/module.c,
	  trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-cache.c,
	  trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-sec.c,
	  trunk/src/libopensc/reader-pcsc.c, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/sec.c, trunk/src/scconf/Makefile.am,
	  trunk/src/scconf/Makefile.mak, trunk/src/scconf/parse.c,
	  trunk/src/scconf/scconf.c, trunk/src/tests/Makefile.am,
	  trunk/src/tests/pintest.c, trunk/src/tests/sc-test.c,
	  trunk/src/tools/Makefile.am, trunk/src/tools/Makefile.mak,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-crypt.c,
	  trunk/src/tools/util.h, trunk/win32, trunk/win32/Make.rules.mak,
	  trunk/win32/makedef.pl: - Initial support for win32

2002-06-14 12:29  jey

	* trunk/src/libopensc/iso7816.c: - Fix apdu->le in
	  sc_compute_signature()

2002-06-14 12:18  jey

	* trunk/src/libopensc/pkcs15-sec.c: - Reverted Olaf's patch in
	  sc_compute_signature(). It breaks government issued (e.g.
	  FINEID) cards.

2002-06-14 11:52  jey

	* trunk/etc/opensc.conf.example: - Added template for PC/SC
	  'apdu_fix'

2002-06-14 11:43  jey

	* trunk/src/libopensc/reader-pcsc.c: - Fix for last commit. It now
	  compiles, at least.

2002-06-14 11:33  jey

	* trunk/src/libopensc/reader-pcsc.c: - Preliminary fix for Case 4
	  APDU sending on Win32

2002-06-13 11:20  okir

	* trunk/src/libopensc/pkcs15-sec.c: - added comment/question

2002-06-13 11:18  okir

	* trunk/src/libopensc/iso7816.c: - changed APDU base from 3 to 4
	  on sign/decipher

2002-06-11 18:17  okir

	* trunk/src/tools/opensc-explorer.c: - corrected info output for
	  Linear variable TLV EFs

2002-06-11 18:16  okir

	* trunk/src/tools/pkcs15-init.c: - added switch to force software
	  key generation

2002-06-11 18:15  okir

	* trunk/src/pkcs15init/pkcs15-etoken.c: - more code towards signing

2002-06-11 18:14  okir

	* trunk/src/libopensc/card-etoken.c: - support for security
	  environment create/restore/set - support for signature
	  computation (non functional yet)

2002-06-11 18:13  okir

	* trunk/src/libopensc/cardctl.h: - added support for PUT_SECI
	* trunk/src/libopensc/pkcs15-sec.c: - experimental: support for
	  cards such as eToken that store keys in "objects" below the DF

2002-06-07 20:29  okir

	* trunk/src/pkcs15init/etoken.profile,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15.profile: - first steps toward eToken
	  key download

2002-06-07 20:28  okir

	* trunk/src/libopensc/card-etoken.c: - properly identify supported
	  algorithms

2002-06-07 20:21  okir

	* trunk/src/tools/pkcs15-crypt.c: - do not try to check PIN if key
	  isn't pin-protected at all

2002-06-06 13:38  jey

	* trunk/src/pkcs15init/pkcs15-lib.c: - Protected OpenSSL includes
	  with #ifdef HAVE_OPENSSL

2002-06-06 09:18  okir

	* trunk/src/pkcs15init/etoken.profile,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: - started to implement
	  on-token key gen support

2002-06-06 09:17  okir

	* trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/cardctl.h,
	  trunk/src/pkcs15init/pkcs15-etoken.c: - started to implement
	  eToken key generation

2002-06-05 17:51  okir

	* trunk/src/tools/pkcs15-init.c: - fix a few error messages

2002-06-05 15:08  okir

	* trunk/src/pkcs15init/Makefile.am: - install etoken profile, too

2002-06-05 15:02  okir

	* trunk/src/pkcs15init/pkcs15-etoken.c: - implemented --erase for
	  etoken through a recursive remove
	* trunk/src/pkcs15init/etoken.profile: - set ERASE=$SOPIN for AODF

2002-06-05 12:53  okir

	* trunk/src/pkcs15init/pkcs15-etoken.c: - implemented setting of
	  user pins; minor pin code cleanup

2002-06-04 20:11  okir

	* trunk/src/pkcs15init/pkcs15-etoken.c: - p15 PIN entries should
	  now have a valid path

2002-06-04 20:07  okir

	* trunk/src/pkcs15init/etoken.profile: - whoops, forgot to check
	  this in

2002-06-04 20:06  okir

	* trunk/src/pkcs15init/pkcs15-etoken.c: - setting an SO pin works
	  now

2002-06-04 19:43  okir

	* trunk/src/pkcs15init/pkcs15-etoken.c: - first stage of pkcs15
	  initialization sort of functional

2002-06-04 19:42  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - fixed bad return value in
	  do_init_app
	* trunk/src/libopensc/card-etoken.c: - pin verification works now

2002-06-04 09:38  aet

	* trunk/configure.in: LDAP detection fix, require ldap.h.

2002-06-04 08:51  okir

	* trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/pkcs15-etoken.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: - added some eToken code (not
	  functional yet)

2002-06-04 08:50  okir

	* trunk/src/libopensc/cardctl.h: - added eToken specific cardctls
	* trunk/src/libopensc/card-etoken.c: - fixed some minor glitches
	  (potential buffer overflow in read_dir; missing SW check) -
	  added card_ctl for put_data_fci - added some debug output

2002-06-03 15:28  aet

	* trunk/src/pkcs11/sc-pkcs11.h: Fix for previous commit

2002-06-03 15:18  aet

	* trunk/src/libopensc/reader-pcsc.c,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/framework-pkcs15init.c,
	  trunk/src/pkcs11/misc.c, trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/pkcs11-session.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/secretkey.c: Preliminary MacOS X build support,
	  untested so far.

2002-06-03 15:05  jey

	* trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/log.c: -
	  iso7816_set_security_env now has correct values for P1 -
	  Improved detection of SetCOS cards - Changed the default CLA
	  byte in card-setcos.c to 0x80

2002-06-02 21:43  jey

	* trunk/NEWS, trunk/README, trunk/TODO, trunk/configure.in: -
	  Preparation for version 0.7.0

2002-06-02 21:39  okir

	* trunk/src/libopensc/card-etoken.c: - do our own chunking in
	  read/write binary

2002-06-02 21:04  aet

	* trunk/src/openssh/README: Upgrade for the OpenSSH 3.2.x release

2002-06-02 20:46  aet

	* trunk/src/scam/scam.c: Disable pkcs15-ldap until it's working.

2002-05-27 10:03  aet

	* trunk/src/pam/Makefile.am, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c, trunk/src/scam/scam.c: Minor build
	  fixes

2002-05-27 06:41  aet

	* trunk/src/libopensc/asn1.c: Build fix for previous commit

2002-05-26 12:31  jey

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15.c,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs15-crypt.c: - Several patches to fix
	  behaviour on 64-bit architectures (by Jochen Friedrich) - Fixed
	  one bug in sc_copy_asn1_entry(), one in
	  sc_pkcs15init_add_object() and one in pkcs15-crypt (patches also
	  by Jochen)

2002-05-21 19:41  jey

	* trunk/src/pkcs15init/profile.c: - Fixed parsing of AUT keys in
	  pkcs15init (patch by Jochen Friedrich <jochen@scram.de>)

2002-05-21 14:19  aet

	* trunk/configure.in: scidi merge

2002-05-20 09:19  aet

	* trunk/src/libopensc/base64.c, trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/scconf/parse.c,
	  trunk/src/scconf/scconf.c, trunk/src/scldap/scldap.c,
	  trunk/src/signer/npinclude/npapi.h, trunk/src/tools/util.h:
	  Minor GCC warning fixes

2002-05-19 22:50  aet

	* trunk/aclocal/acx_pthread.m4: AIX gcc fix

2002-05-14 19:20  aet

	* trunk/configure.in: check readline.h fix

2002-05-13 12:23  aet

	* trunk/src/scrandom/scrandom.h: Add comments
	* trunk/src/libopensc/card-tcos.c: Warning fixes

2002-05-09 10:34  jey

	* trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/cardctl.h,
	  trunk/src/libopensc/pkcs15-pin.c: - Applied a patch by Werner
	  Koch that brings the TCOS driver up-to-speed

2002-05-09 10:22  jey

	* trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c: -
	  Applied a patch by Matthias Bruestle <m@mbsks.franken.de>: -
	  Changed the case of GET RESPONSE in card-default.c to 2 short -
	  Added ATRs to Flex, GPK and TCOS drivers - Changed value of
	  maximum Lc in card.c to be 255

2002-05-08 08:15  aet

	* trunk/src/scrandom/scrandom.c: More cleanups

2002-05-08 07:04  aet

	* trunk/docs, trunk/docs/.cvsignore: Add pkcs15-profile.5

2002-05-08 06:50  aet

	* trunk/configure.in, trunk/docs/Makefile.am,
	  trunk/docs/pkcs15-profile.5, trunk/docs/pkcs15-profile.5.in:
	  pkcs15-profile.5 $(pkgdatadir) fix

2002-05-07 12:49  aet

	* trunk/src/pam/Makefile.am, trunk/src/pkcs11/Makefile.am,
	  trunk/src/sia/Makefile.am: Minor ${prefix} -> ${exec_prefix}
	  changes

2002-05-07 09:35  aet

	* trunk/src/openssh/Makefile.am, trunk/src/openssh/README,
	  trunk/src/openssh/opensc-ssh.c: Removed opensc-ssh Updated README

2002-05-06 14:06  aet

	* trunk/src/scldap/scldap.c: Add comments for previous fix

2002-05-06 06:36  aet

	* trunk/configure.in, trunk/src/scam/Makefile.am,
	  trunk/src/scam/p15_eid.c, trunk/src/scam/p15_ldap.c,
	  trunk/src/scrandom/Makefile.am, trunk/src/scrandom/scrandom.c:
	  Reworked scrandom ugliness, no longer builds a shared library
	  nor seeds OpenSSL internally, if available.

2002-04-30 13:35  okir

	* trunk/aclocal/libtool.m4: - another linux-gnu* => linux* fix

2002-04-30 11:55  okir

	* trunk/aclocal/libtool.m4: - make it compile on SuSE 8.0

2002-04-30 09:46  okir

	* trunk/src/pam/Makefile.am: - work around brain damage in
	  automake 1.6.1 (shouldn't they change the name to autobreak?)

2002-04-26 07:56  aet

	* trunk/src/scldap/scldap.c: Disable a sanity check that was
	  needed at least with OpenLDAP 1.2.x, it seems to block
	  certificate CRL fetches with more recent versions of OpenLDAP
	  (2.x)

2002-04-26 06:35  aet

	* trunk/configure.in: Fix SSL/TLS support for OpenLDAP

2002-04-23 09:17  aet

	* trunk/src/signer/opensc-crypto.c: API upgrade

2002-04-23 08:18  okir

	* trunk/src/tests/regression, trunk/src/tests/regression/README,
	  trunk/src/tests/regression/crypt0001,
	  trunk/src/tests/regression/crypt0002,
	  trunk/src/tests/regression/functions: - added two regression
	  test scripts

2002-04-23 08:17  okir

	* trunk/src/libopensc/errors.h, trunk/src/libopensc/pkcs15-sec.c,
	  trunk/src/libopensc/pkcs15.h,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/tools/pkcs15-crypt.c: - sc_pkcs15_decipher now takes a
	  flags argument, so we know when to strip off any pkcs#1 padding.

2002-04-22 23:01  jey

	* trunk/src/libopensc/card-etoken.c: - Applied a patch to
	  card-etoken.c that gives ACL support; patch by Markus Frield

2002-04-22 18:37  okir

	* trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs15-init.c: - allow setting the cert_info
	  authority flag

2002-04-22 18:03  okir

	* trunk/src/libopensc/pkcs15-sec.c: - fixed pkcs1 padding for
	  rsa-md5 signatures

2002-04-22 08:00  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - changed do_select_parent
	  per request from Juha. Hope this doesn't break anything... :)

2002-04-21 18:54  aet

	* trunk/src/libopensc/pkcs15-cert.c, trunk/src/libopensc/pkcs15.h:
	  Extract certificate crlDistributionPoints and store it in
	  sc_pkcs15_cert

2002-04-19 20:07  jey

	* trunk/TODO, trunk/etc/opensc.conf.example,
	  trunk/src/libopensc/ctx.c: - Added 'force_card_driver' option

2002-04-19 18:01  jey

	* trunk/src/pkcs15init/miocos.profile,
	  trunk/src/pkcs15init/pkcs15-miocos.c: - Small update to MioCOS
	  pkcs15init driver

2002-04-19 17:24  jey

	* trunk/TODO: - Update TODO

2002-04-19 17:02  jey

	* trunk/src/libopensc/card-miocos.c,
	  trunk/src/pkcs15init/miocos.profile,
	  trunk/src/pkcs15init/pkcs15-miocos.c: - Some fixes to the MioCOS
	  driver
	* trunk/src/pkcs15init/flex.profile,
	  trunk/src/pkcs15init/pkcs15-cflex.c: - Added support for
	  extractable keys on the Cryptoflex

2002-04-19 14:23  aet

	* trunk/configure.in, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/asn1.h, trunk/src/libopensc/base64.c,
	  trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/cardctl.h, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/dir.c, trunk/src/libopensc/emv.h,
	  trunk/src/libopensc/errors.h, trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/log.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-algo.c,
	  trunk/src/libopensc/pkcs15-cache.c,
	  trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15-sec.c,
	  trunk/src/libopensc/pkcs15-wrap.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-pcsc.c, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/types.h, trunk/src/openssh/opensc-ssh.c,
	  trunk/src/pam/pam_opensc.c, trunk/src/pam/pam_support.c,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs11/pkcs11-object.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/secretkey.c,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/profile.h, trunk/src/scam,
	  trunk/src/scam/.cvsignore, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c, trunk/src/scconf/parse.c,
	  trunk/src/scconf/scconf.c, trunk/src/scconf/write.c,
	  trunk/src/scldap/scldap.c, trunk/src/scldap/test-ldap.c,
	  trunk/src/scrandom/scrandom.c, trunk/src/scrandom/test-random.c,
	  trunk/src/signer/dialog.c, trunk/src/signer/opensc-crypto.c,
	  trunk/src/signer/opensc-support.c, trunk/src/signer/signer.c,
	  trunk/src/tests/p15dump.c, trunk/src/tests/print.c,
	  trunk/src/tests/sc-test.c, trunk/src/tests/sc-test.h,
	  trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/pkcs15-crypt.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15-tool.c, trunk/src/tools/util.c,
	  trunk/src/tools/util.h: - C++ support. Compiles with gcc/g++ for
	  Linux, otherwise completely untested.

2002-04-19 10:01  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - fixed DF handling

2002-04-19 09:22  jey

	* trunk/TODO, trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/pkcs15-tool.c: - PKCS #15 objects and DFs are
	  now stored with linked lists in struct sc_pkcs15_card; this way
	  we can have 'floating' objects that don't belong in any DF, for
	  e.g. generating public key objects from certificates - Removed
	  some unused function prototypes

2002-04-18 15:01  jey

	* trunk/src/libopensc/pkcs15.c: - sc_pkcs15_find_prkey_by_id and
	  sc_pkcs15_find_cert_by_id now return all private keys and
	  certificates instead of only RSA keys and X.509 certificates -
	  Removed some obsolete PKCS #15 initialization code

2002-04-18 14:59  jey

	* trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-pubkey.c: - Added a missing
	  SC_ASN1_CTX flag to DSA key ASN.1 entries

2002-04-18 11:59  aet

	* trunk/src/tools/pkcs15-crypt.c: Minor warning fixes

2002-04-18 11:00  okir

	* trunk/src/tools/pkcs15-crypt.c: - DSA signature support

2002-04-18 10:59  okir

	* trunk/src/libopensc/pkcs15.h: - added a bunch of prototypes
	* trunk/src/libopensc/pkcs15.c: - sc_pkcs15_find_pubkey_by_id

2002-04-18 10:58  okir

	* trunk/src/libopensc/pkcs15-pubkey.c: - fixed bug with DSA pubkey
	  de/encoding
	* trunk/src/libopensc/pkcs15-prkey.c: - small fix for reading the
	  private key file - added sc_pkcs15_{erase,free}_prkey

2002-04-18 09:13  okir

	* trunk/src/tests/print.c: - don't print modulus length for DSA
	  keys

2002-04-18 09:12  okir

	* trunk/src/tools/pkcs15-init.c: - fix for storing DSA public keys
	* trunk/src/pkcs15init/pkcs15-lib.c: - bug in
	  check_key_compatibility()

2002-04-18 09:11  okir

	* trunk/src/libopensc/pkcs15-wrap.c: - encryptedContent didn't
	  have proper ASN.1

2002-04-18 09:10  okir

	* trunk/src/libopensc/pkcs15-pubkey.c: - properly encode/decode
	  DSA public keys
	* trunk/src/libopensc/pkcs15-algo.c: - fix algorithm_id decoding

2002-04-17 20:47  okir

	* trunk/src/pkcs15init/gpk.profile,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/tools/pkcs15-init.c: - starting to support extractable
	  keys

2002-04-17 20:46  okir

	* trunk/src/tests/p15dump.c, trunk/src/tests/print.c: - display
	  non-RSA keys

2002-04-17 20:45  okir

	* trunk/src/libopensc/pkcs15.h: - missing prototypes for
	  {de,en}code_prkey

2002-04-17 20:44  okir

	* trunk/src/libopensc/pkcs15.c: - return objects when searching
	  for a generic type (e.g. all PRKEY objects)
	* trunk/src/libopensc/pkcs15-wrap.c: - correctly initialize PKCDF2
	  params
	* trunk/src/libopensc/pkcs15-prkey.c: - fixes for PrKDF
	  encoding/decoding for indirect-protected

2002-04-17 20:43  okir

	* trunk/src/libopensc/asn1.c: - fix for decoding CHOICE

2002-04-17 20:42  okir

	* trunk/src/libopensc/errors.h: - new error code
	  SC_ERROR_INCOMPATIBLE_KEY

2002-04-17 18:34  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - handle non-RSA keys as
	  well

2002-04-17 18:33  okir

	* trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15.h: - eliminated RSA specific code to
	  support generic pubkeys instead

2002-04-17 18:32  okir

	* trunk/src/libopensc/pkcs15-cert.c: - use SC_ASN1_ALGORITHM_ID
	  when decoding x509 certs - handle certificates with non-RSA keys
	  as well

2002-04-17 13:36  okir

	* trunk/src/libopensc/card-etoken.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/sc.c, trunk/src/libopensc/types.h: - eToken
	  patches from Markus Friedl

2002-04-17 13:34  okir

	* trunk/src/libopensc/pkcs15-wrap.c: - some fixes to the ASN.1 we
	  generate

2002-04-17 13:13  aet

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/pkcs15-wrap.c:
	  Minor warning fixes

2002-04-17 12:20  okir

	* trunk/src/tools/pkcs15-tool.c: - --read-public-key will work for
	  non-rsa keys too

2002-04-17 12:19  okir

	* trunk/src/libopensc/asn1.c: - support NULL tag for
	  encoding/decoding
	* trunk/src/libopensc/pkcs15-algo.c: - correctly encode
	  AlgorithmIdentifier w/o params as OID+NULL

2002-04-17 10:33  okir

	* trunk/src/libopensc/pkcs15-algo.c: - minor bugfix

2002-04-17 09:06  okir

	* trunk/src/libopensc/pkcs15-sec.c: - error out for non-native keys
	* trunk/src/libopensc/errors.h: - new error code
	  SC_ERROR_EXTRACTABLE_KEY

2002-04-17 09:01  okir

	* trunk/src/libopensc/Makefile.am: - added new files
	* trunk/src/libopensc/pkcs15-wrap.c: - functions for file content
	  protection
	* trunk/src/libopensc/types.h: - new file path type
	  SC_PATH_TYPE_PATH_PROT

2002-04-17 09:00  okir

	* trunk/src/libopensc/pkcs15.h: - new generic function
	  sc_pkcs15_read_file - structs and functions for data wrap/unwrap
	* trunk/src/libopensc/pkcs15.c: - new generic function
	  sc_pkcs15_read_file

2002-04-17 08:59  okir

	* trunk/src/libopensc/pkcs15-pubkey.c: - renamed
	  sc_pkcs15_parse_pubkey_rsa -> sc_pkcs15_decode_pubkey_rsa -
	  added sc_pkcs15_decode_pubkey_dsa - sc_pkcs15_read_pubkey now
	  uses sc_pkcs15_read_file

2002-04-17 08:58  okir

	* trunk/src/libopensc/pkcs15-prkey.c: - initial support for
	  non-native keys - implemented generic functions
	  sc_pkcs15_{encode,decode,read}_prkey

2002-04-17 08:57  okir

	* trunk/src/libopensc/pkcs15-cert.c: - renamed
	  sc_pkcs15_parse_pubkey_rsa -> sc_pkcs15_decode_pubkey_rsa

2002-04-17 08:56  okir

	* trunk/src/libopensc/opensc.h: - added
	  SC_ALGORITHM_{MD5,SHA1,PBKDF2,PBES2} and corresponding
	  AlgorithmIdentifier parameter structs - added params pointer to
	  struct sc_algorithm_id

2002-04-17 08:55  okir

	* trunk/src/libopensc/errors.h: - new error code
	  SC_ERROR_PASSPHRASE_REQUIRED
	* trunk/src/libopensc/pkcs15-algo.c: - Moved ASN.1 handling of
	  AlgorithmIdentifier to separate file

2002-04-17 08:54  okir

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/asn1.h: -
	  implemented encoding of OBJECT IDENTIFIER - enhanced support for
	  encoding/decoding of CHOICE - moved encoding/decoding of
	  AlgorithmIdentifier to separate file, and added
	  encoding/decoding of algorithm parameters

2002-04-16 10:33  aet

	* trunk/src/scldap/scldap.c: Minor Solaris fixes

2002-04-15 18:03  aet

	* trunk/src/pkcs15init/pkcs15-gpk.c: Add stdlib.h

2002-04-15 13:42  okir

	* trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/pkcs11/Makefile.am,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/framework-pkcs15init.c,
	  trunk/src/pkcs11/sc-pkcs11.h, trunk/src/pkcs11/slot.c,
	  trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h,
	  trunk/src/tools/pkcs15-init.c, trunk/src/tools/pkcs15-tool.c: -
	  pkcs15-init does not require openssl anymore

2002-04-14 13:52  aet

	* trunk/src/openssh/opensc-ssh.c,
	  trunk/src/signer/opensc-crypto.c: libsc -> opensc

2002-04-14 12:43  jey

	* trunk/src/libopensc/card-miocos.c: - Fixed ACL handling in
	  MioCOS driver

2002-04-13 19:00  okir

	* trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/misc.c: -
	  C_CreateObject now understands X509 certs (untested)

2002-04-11 15:53  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - minor fix

2002-04-11 15:17  okir

	* trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/misc.c,
	  trunk/src/pkcs11/pkcs11-object.c, trunk/src/pkcs11/sc-pkcs11.h:
	  - implemented C_CreateObject for public and private key objects

2002-04-11 15:14  okir

	* trunk/src/tools/pkcs15-init.c: - changed to reflext
	  pkcs15init_store_foobar update
	* trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: - all
	  sc_pkcs15init_store_foobar functions now take an additional
	  struct sc_pkcs15_object ** argument

2002-04-11 15:13  okir

	* trunk/src/libopensc/pkcs15-sec.c: - avoid unchecked memcpy

2002-04-11 15:12  okir

	* trunk/src/libopensc/card-gpk.c: - in set_security_env, select
	  the PK file prior to read_record

2002-04-11 14:31  aet

	* trunk/src/openssh/Makefile.am: Remove openssh-3.0.2p1-patch.diff

2002-04-10 23:10  jey

	* trunk/src/libopensc/card-etoken.c: - Added a missing file from a
	  previous commit

2002-04-10 23:00  jey

	* trunk/src/libopensc/iso7816.c: - Changed an error code as per
	  Andreas' suggestion

2002-04-10 22:25  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/opensc.h: - Added support for Aladdin eToken
	  PRO; patch by Andreas Jellinghaus <aj@dungeon.inka.de>

2002-04-09 13:26  aet

	* trunk/src/scam/scam.c, trunk/src/scam/scam.h: Minor cleanups

2002-04-09 12:32  aet

	* trunk/src/openssh/README,
	  trunk/src/openssh/openssh-3.0.2p1-patch.diff: - Update ChangeLog
	  - Update src/openssh/README - Removed obsolete patch for
	  openssh-3.0.2p1

2002-04-09 12:20  aet

	* trunk/src/openssh/opensc-ssh.c: sc-ssh -> opensc-ssh

2002-04-09 11:34  aet

	* trunk/src/scldap/scldap.c: Free memory

2002-04-09 11:24  aet

	* trunk/src/scconf/lex-parse.l: - Revert previous patch since it
	  leads to a sigsegv if we parse file multiple times. Damn it, so
	  lex allocates a 16kB buffer that it won't free any time. At
	  least this could be solved some other time by rewriting a
	  separate line parser without lex.

2002-04-09 11:01  aet

	* trunk/src/scconf/lex-parse.l: Free yy_current_buffer since lex
	  doesn't do it

2002-04-09 10:59  jey

	* trunk/src/scam/scam.c: - Added a missing include file

2002-04-08 15:51  okir

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/framework-pkcs15init.c,
	  trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs11/pkcs11-session.c, trunk/src/pkcs11/sc-pkcs11.h:
	  - implemented C_InitPIN (based on pkcs15init) - C_Login now
	  understands the SO PIN.

2002-04-08 15:50  okir

	* trunk/src/pkcs15init/profile.h: - cleanup
	* trunk/src/pkcs15init/profile.c: - free some more memory in
	  sc_profile_free

2002-04-08 15:49  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - SO PIN is now optionally:
	  if you want to use it, pass a PIN to sc_pkcs15init_add_app. If
	  you don't, don't. - sc_pkcs15init_erase_card checks whether the
	  erase_card funcion ptr is NULL - check SO pin len in
	  sc_pkcs15init_add_app - In sc_pkcs15init_store_pin, if the
	  caller didn't specify the auth_id, select one automatically -
	  added sc_pkcs15init_unbind

2002-04-08 15:46  okir

	* trunk/src/pkcs15init/pkcs15-init.h: - added sc_pkcs15init_unbind
	* trunk/src/pkcs15init/pkcs15-gpk.c: - SO PIN path was not
	  propagated to the caller

2002-04-08 15:45  okir

	* trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h: -
	  implemented sc_pkcs15_find_so_pin
	* trunk/src/libopensc/card-gpk.c: - When the application selected
	  the EF, then the container DF, all PIN info would be lost.

2002-04-08 14:57  aet

	* trunk/src/scam/p15_eid.c, trunk/src/scam/p15_ldap.c,
	  trunk/src/scam/scam.h: Remove scam_framework_ops->atrs

2002-04-08 09:29  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - store SO PIN entry in AODF
	* trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h:
	  - textual pin flags; defer pin file lookup until
	  sc_profile_finish

2002-04-08 09:28  okir

	* trunk/src/pkcs15init/pkcs15-gpk.c: - implemented SO PIN handling
	* trunk/src/pkcs15init/gpk.profile: - enable SO PIN

2002-04-08 09:27  okir

	* trunk/src/pkcs15init/pkcs15.profile: - add pin descriptions

2002-04-08 09:23  okir

	* trunk/src/libopensc/pkcs15-pin.c: - pin flags were not encoded
	  correctly

2002-04-08 08:27  aet

	* trunk/src/pam/pam_opensc.c, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c, trunk/src/scam/scam.c,
	  trunk/src/scam/scam.h, trunk/src/sia/sia_opensc.c: - Upgrade all
	  modules to store method specific internal data to
	  scam_context->method_data

2002-04-07 19:36  aet

	* trunk/src/pam/Makefile.am, trunk/src/pam/pam_opensc.c,
	  trunk/src/pam/pam_support.c, trunk/src/pam/pam_support.h,
	  trunk/src/scam/Makefile.am, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c, trunk/src/scam/scam.c,
	  trunk/src/scam/scam.h, trunk/src/sia/Makefile.am,
	  trunk/src/sia/sia_opensc.c: Started to rewrite parts of scam: -
	  Combine lib{pam,sia}scam into libscam - Get rid of the need for
	  handles, printmsg and logmsg in the scam_framework_ops structure.

2002-04-07 13:15  jey

	* trunk/src/pkcs15init/flex.profile,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/tools/pkcs15-init.c: -
	  Added support for user-defined serial numbers in pkcs15-init and
	  PIN flags in profiles

2002-04-07 10:21  aet

	* trunk/src/libopensc/errors.c: Warning fixes

2002-04-06 15:04  jey

	* trunk/src/libopensc/card-miocos.c: - Changed CLA byte to 0xA0 in
	  miocos_delete_file()

2002-04-06 14:52  jey

	* trunk/src/pkcs15init/pkcs15-lib.c: - Added user PIN finding to
	  sc_pkcs15init_store_certificate()

2002-04-06 14:21  jey

	* trunk/src/pkcs15init/flex.profile,
	  trunk/src/pkcs15init/miocos.profile: - Added certificate
	  templates

2002-04-06 12:14  jey

	* trunk/docs/Makefile.am, trunk/docs/pkcs-15v1_1.asn: - Added PCKS
	  #15 ASN.1 module

2002-04-06 12:02  jey

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card.c, trunk/src/libopensc/errors.c,
	  trunk/src/libopensc/errors.h, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/reader-pcsc.c, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/types.h, trunk/src/pkcs11/misc.c: - Divided
	  errors into different groups, added new ones and renamed some -
	  Moved sc_strerror() to errors.c - Added a 'sensitive' flag to
	  struct sc_apdu

2002-04-06 08:21  aet

	* trunk/src/libopensc/emv.h, trunk/src/libopensc/log.h: Fix some
	  typos

2002-04-06 08:02  aet

	* trunk/src/libopensc/Makefile.am: Add errors.h and types.h

2002-04-05 18:49  okir

	* trunk/src/tools/opensc-explorer.c: - include/opensc fix

2002-04-05 18:19  okir

	* trunk/src/pkcs11/framework-pkcs15init.c: - C_InitToken: after
	  creating the application DF, switch to the normal pkcs15
	  framework on the fly and mark all tokens as initialized.

2002-04-05 18:10  aet

	* trunk/src/libopensc/internal.h, trunk/src/libopensc/module.c,
	  trunk/src/libopensc/reader-ctapi.c: Change calling convention
	  for sc_module_close()

2002-04-05 15:51  aet

	* trunk/src/pkcs11/framework-pkcs15init.c,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c: Minor warning fixes

2002-04-05 15:06  jey

	* trunk/src/include/opensc/Makefile.am,
	  trunk/src/libopensc/errors.h, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/types.h: - Started to split opensc.h into
	  smaller parts

2002-04-05 15:04  okir

	* trunk/src/tools/opensc-explorer.c: - added erase command

2002-04-05 15:03  okir

	* trunk/src/pkcs11/Makefile.am,
	  trunk/src/pkcs11/framework-pkcs15init.c,
	  trunk/src/pkcs11/slot.c: - added new pkcs15init framework that
	  implements C_InitToken

2002-04-05 15:02  okir

	* trunk/src/pkcs11/sc-pkcs11.h: - added initialize() function to
	  card ops vector
	* trunk/src/pkcs11/pkcs11-global.c: - Added C_Initialize - Minor
	  bugfix in C_Finalize

2002-04-05 15:01  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - add CKF_TOKEN_INITIALIZED
	  flag

2002-04-05 14:56  okir

	* trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: - implemented
	  sc_pkcs15init_get_{serial,amnufacturer}, fixed bug

2002-04-05 14:55  okir

	* trunk/src/pkcs15init/profile.c: - try to free all memory we
	  allocated
	* trunk/src/pkcs15init/pkcs15-gpk.c: - during add_app, just
	  complain about SO PINs but don't error out

2002-04-05 14:46  jey

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/asn1.h,
	  trunk/src/libopensc/base64.c,
	  trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-emv.c, trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/dir.c,
	  trunk/src/libopensc/emv.c, trunk/src/libopensc/emv.h,
	  trunk/src/libopensc/internal.h, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/log.c, trunk/src/libopensc/log.h,
	  trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-cache.c,
	  trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-pcsc.c, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/sec.c: - Added SC_ERROR_FILE_ALREADY_EXISTS
	  - Changed call convention for reader finish() - CT-API driver
	  now frees its resources correctly - Added year 2002 to some of
	  the copyright statements - sc_pkcs15_decipher() and
	  sc_pkcs15_compute_signature() now select only the parent DF of
	  the private key file

2002-04-05 14:23  aet

	* trunk/src/include/opensc/Makefile.am: Symlink all necessary
	  headers

2002-04-05 14:00  jey

	* trunk/src/pkcs15init/pkcs15-lib.c: - Fixed a bug in
	  sc_pkcs15init_bind() - Added PIN code padding in do_verify_pin()

2002-04-05 13:49  aet

	* trunk/src/Makefile.am: Add missing directory

2002-04-05 13:48  aet

	* trunk/configure.in, trunk/src/include,
	  trunk/src/include/.cvsignore, trunk/src/include/Makefile.am,
	  trunk/src/include/opensc, trunk/src/include/opensc/.cvsignore,
	  trunk/src/include/opensc/Makefile.am,
	  trunk/src/libopensc/asn1.h, trunk/src/libopensc/emv.c,
	  trunk/src/libopensc/emv.h, trunk/src/libopensc/log.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15.h,
	  trunk/src/openssh/opensc-ssh.c,
	  trunk/src/openssh/openssh-3.0.2p1-patch.diff,
	  trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h,
	  trunk/src/scam/Makefile.am, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c, trunk/src/scam/scam.c,
	  trunk/src/scldap/scldap.h, trunk/src/scldap/test-ldap.c,
	  trunk/src/signer/opensc-crypto.h, trunk/src/signer/signer.h,
	  trunk/src/tests/base64.c, trunk/src/tests/lottery.c,
	  trunk/src/tests/p15dump.c, trunk/src/tests/pintest.c,
	  trunk/src/tests/print.c, trunk/src/tests/prngtest.c,
	  trunk/src/tests/sc-test.c, trunk/src/tools/Makefile.am,
	  trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-crypt.c,
	  trunk/src/tools/pkcs15-init.c, trunk/src/tools/pkcs15-tool.c,
	  trunk/src/tools/util.h: Rework the header structure Currently
	  fails to compile, unless you symlink all the necessary headers
	  to src/include/opensc by yourself.

2002-04-05 10:44  aet

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/asn1.h, trunk/src/libopensc/base64.c,
	  trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-emv.c, trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/dir.c,
	  trunk/src/libopensc/emv.c, trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/log.c,
	  trunk/src/libopensc/log.h, trunk/src/libopensc/module.c,
	  trunk/src/libopensc/pkcs15-cache.c,
	  trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-pcsc.c, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/sec.c, trunk/src/openssh/opensc-ssh.c,
	  trunk/src/openssh/openssh-3.0.2p1-patch.diff,
	  trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/profile.h, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c, trunk/src/signer/opensc-crypto.h,
	  trunk/src/signer/signer.h, trunk/src/tests/base64.c,
	  trunk/src/tests/p15dump.c, trunk/src/tests/pintest.c,
	  trunk/src/tests/print.c, trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/pkcs15-crypt.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15-tool.c: Upgrade sources to use new
	  headers, part #1

2002-04-05 10:37  aet

	* trunk/src/libopensc/opensc-emv.h,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/sc-asn1.h,
	  trunk/src/libopensc/sc-internal.h, trunk/src/libopensc/sc-log.h:
	  Obsolete. opensc-emv.h, opensc-pkcs15.h --> emv.h, pkcs15.h
	  sc-asn1.h, sc-internal.h, sc-log.h --> asn1.h, internal.h, log.h

2002-04-05 10:25  aet

	* trunk/src/libopensc/Makefile.am, trunk/src/pam/Makefile.am,
	  trunk/src/pkcs11/Makefile.am, trunk/src/pkcs15init/Makefile.am,
	  trunk/src/scconf/Makefile.am, trunk/src/scldap/Makefile.am,
	  trunk/src/scrandom/Makefile.am, trunk/src/sia/Makefile.am,
	  trunk/src/signer/Makefile.am: Install headers to
	  ${prefix}/include/opensc

2002-04-05 10:06  okir

	* trunk/src/tools/pkcs15-init.c: - don't include profile.h anymore

2002-04-05 10:05  okir

	* trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h:
	  - miniscule API changes so that applications don't need to
	  include profile.h anymore

2002-04-05 08:45  okir

	* trunk/src/pkcs15init/profile.c: - file type is now also a struct
	  map

2002-04-04 22:10  jey

	* trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/flex.profile,
	  trunk/src/pkcs15init/miocos.profile,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c: - Cryptoflex now works
	  with the new pkcs15init stuff

2002-04-04 20:49  jey

	* trunk/configure.in: - Small typos corrected

2002-04-04 20:42  jey

	* trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/miocos.profile,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c: - Partial support for PKCS
	  #15 generation on MioCOS cards - Some other small fixes to the
	  pkcs15init code

2002-04-04 20:40  jey

	* trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/cardctl.h, trunk/src/libopensc/pkcs15.c: -
	  Cleaned up MioCOS driver and added PIN code creation - Added an
	  error message in case ODF parsing fails

2002-04-04 20:38  jey

	* trunk/src/libopensc/asn1.c: - DER decoder now treats 0xFF tags
	  the same way as 0x00 tags

2002-04-04 20:37  jey

	* trunk/src/tools/opensc-explorer.c: - Made clearer the error
	  message resulting from an incorrect PIN code entry

2002-04-04 19:58  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - the previous fix broke
	  do_verify_pin

2002-04-04 15:06  aet

	* trunk/src/pkcs15init/pkcs15-lib.c: Minor warning fix

2002-04-04 15:02  aet

	* trunk/src/libopensc/pkcs15-cert.c: Workaround for a compiler
	  problem (Sun WorkShop 6 update 2 C 5.3 Patch 111679-05
	  2002/02/07) Still lots of bogus warnings, but at least
	  everything compiles

2002-04-04 14:34  okir

	* trunk/src/pkcs15init/profile.c: - added internal-ef for juha

2002-04-04 14:21  aet

	* trunk/src/scam/p15_eid.c, trunk/src/scam/p15_ldap.c,
	  trunk/src/sia/sia_opensc.c, trunk/src/sia/sia_support.h:
	  Checkpoint commit for SIA support, doesn't work yet

2002-04-04 12:44  aet

	* trunk/src/libopensc/card-gpk.c, trunk/src/libopensc/cardctl.h:
	  Fix minor compiler warnings

2002-04-04 11:14  aet

	* trunk/Makefile.am, trunk/README.signer, trunk/TODO,
	  trunk/src/libopensc/Makefile.am: Update TODO and Changelog 'make
	  dist' fixes Add missing README for OpenSC-Signer

2002-04-04 10:56  aet

	* trunk/configure.in: OpenSC-Signer merge complete.

2002-04-04 10:40  aet

	* trunk/configure.in, trunk/src/Makefile.am,
	  trunk/src/signer/Makefile.am: Merge opensc-signer to
	  opensc/src/signer, part #1

2002-04-04 09:20  jey

	* trunk/src/libopensc/reader-ctapi.c: - ctapi_release() now calls
	  CT_close(), as it should
	* trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15.h: - Added typedefs for the most
	  common structs

2002-04-03 14:16  jey

	* trunk/src/libopensc/ctx.c: - fixed a typo

2002-04-03 14:15  okir

	* trunk/src/pkcs15init/pkcs15-lib.c: - shouldn't set key_reference

2002-04-03 12:59  aet

	* trunk/src/libopensc/card-setcos.c: Minor warning fix

2002-04-03 12:53  okir

	* trunk/src/pkcs15init/pkcs15.profile,
	  trunk/src/pkcs15init/profile.c: - renamed PKCS15-DIR to DIR per
	  juha's request

2002-04-03 12:46  okir

	* trunk/src/pkcs15init/gpk.profile,
	  trunk/src/pkcs15init/pkcs15.profile: - moved gpk specific MF ACL
	  to the gpk profile, where it belongs

2002-04-03 11:57  okir

	* trunk/src/pkcs15init/TODO: - updated TODO list

2002-04-03 11:56  okir

	* trunk/src/tools/pkcs15-init.c: - fixed exit code

2002-04-03 11:55  okir

	* trunk/src/pkcs15init/gpk.profile,
	  trunk/src/pkcs15init/pkcs15.profile: - rewrote config files to
	  match new parser

2002-04-03 11:52  okir

	* trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h:
	  - rewrote parser to use Antti's scconf

2002-04-03 11:51  okir

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc.c: - added
	  two new error codes for pkcs15init

2002-04-02 21:26  jey

	* trunk/src/libopensc/card-setcos.c: - fixed a small bug regarding
	  prop_attr in the SetCOS driver

2002-04-02 20:58  aet

	* trunk/src/pkcs15init/profile.c, trunk/src/tools/pkcs15-init.c:
	  Minor compiler warning fixes

2002-04-02 14:46  okir

	* trunk/src/tools/pkcs15-init.c: - support for SO pin during app
	  initialization

2002-04-02 14:45  okir

	* trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: pkcs15-gpk.c

2002-04-02 14:27  okir

	* trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c: - added
	  sc_pkcs15init_present_pin for juha

2002-04-02 13:43  aet

	* trunk/src/pkcs15init, trunk/src/pkcs15init/.cvsignore: Add
	  .cvsignore

2002-04-02 13:38  aet

	* trunk/configure.in, trunk/src/pkcs15init/Makefile.am: Generate
	  src/pkcs15init/Makefile

2002-04-02 13:30  okir

	* trunk/src/Makefile.am: - added new subdir pkcs15init

2002-04-02 13:29  okir

	* trunk/src/tools/flex.profile, trunk/src/tools/gpk.profile,
	  trunk/src/tools/miocos.profile, trunk/src/tools/pkcs15-cflex.c,
	  trunk/src/tools/pkcs15-gpk.c, trunk/src/tools/pkcs15-init.h,
	  trunk/src/tools/pkcs15-miocos.c, trunk/src/tools/pkcs15.profile,
	  trunk/src/tools/profile.c, trunk/src/tools/profile.h: - moved
	  most of the pkcs15init stuff to libpkcs15init

2002-04-02 13:28  okir

	* trunk/src/tools/Makefile.am, trunk/src/tools/pkcs15-init.c: -
	  rewrote pkcs15-init; much of the init stuff moved to separate
	  library

2002-04-02 13:26  okir

	* trunk/src/pkcs15init, trunk/src/pkcs15init/Makefile.am,
	  trunk/src/pkcs15init/README, trunk/src/pkcs15init/TODO,
	  trunk/src/pkcs15init/flex.profile,
	  trunk/src/pkcs15init/gpk.profile,
	  trunk/src/pkcs15init/miocos.profile,
	  trunk/src/pkcs15init/pkcs15-cflex.c,
	  trunk/src/pkcs15init/pkcs15-gpk.c,
	  trunk/src/pkcs15init/pkcs15-init.h,
	  trunk/src/pkcs15init/pkcs15-lib.c,
	  trunk/src/pkcs15init/pkcs15-miocos.c,
	  trunk/src/pkcs15init/pkcs15.profile,
	  trunk/src/pkcs15init/profile.c, trunk/src/pkcs15init/profile.h:
	  - rewrite of the pkcs15-init stuff

2002-04-02 12:58  okir

	* trunk/src/libopensc/pkcs15.c: - sc_pkcs15_get_objects() now lets
	  you search for generic types (e.g. SC_PKCS15_TYPE_PRKEY) too.

2002-04-02 12:57  okir

	* trunk/src/libopensc/opensc.h: - added SC_AC_SYMBOLIC for
	  pkcs15init support

2002-04-02 11:41  okir

	* trunk/src/tests/print.c: - indentation fix

2002-04-02 09:38  aet

	* trunk/Makefile.am, trunk/aclocal/Makefile.am,
	  trunk/docs/Makefile.am, trunk/etc/Makefile.am,
	  trunk/src/Makefile.am, trunk/src/common/Makefile.am,
	  trunk/src/libopensc/Makefile.am, trunk/src/openssh/Makefile.am,
	  trunk/src/pam/Makefile.am, trunk/src/pkcs11/Makefile.am,
	  trunk/src/pkcs11/rsaref/Makefile.am, trunk/src/scam/Makefile.am,
	  trunk/src/scconf/Makefile.am, trunk/src/scldap/Makefile.am,
	  trunk/src/scrandom/Makefile.am, trunk/src/sia/Makefile.am,
	  trunk/src/signer/Makefile.am,
	  trunk/src/signer/npinclude/Makefile.am,
	  trunk/src/tests/Makefile.am, trunk/src/tools/Makefile.am: Add
	  maintainer-clean patch by Andreas Jellinghaus
	  <aj@dungeon.inka.de>

2002-03-31 19:15  aet

	* trunk/src/scconf/scconf.c, trunk/src/scconf/scconf.h,
	  trunk/src/scconf/test-conf.c, trunk/src/scldap/scldap.c: Remove
	  flag SCCONF_OPTIONAL, add SCCONF_MANDATORY

2002-03-31 16:32  aet

	* trunk/src/libopensc/ctx.c, trunk/src/libopensc/module.c,
	  trunk/src/libopensc/sc.c: Remove #include "config.h",
	  sc-internal.h already does that

2002-03-31 16:00  aet

	* trunk/src/scconf/scconf.c: Include header stdio.h

2002-03-31 15:26  aet

	* trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/scconf/test-conf.c, trunk/src/scldap/scldap.c: -
	  Upgrade scldap to use scconf_parse_entries(); - Fix compiler
	  warnings for ct-api driver, untested.

2002-03-31 13:00  aet

	* trunk/src/scconf/scconf.c, trunk/src/scconf/test-conf.c: Upgrade
	  test-conf to use scconf_parse_entries(); NOTE: Handles ldap/card
	  blocks for scldap.conf

2002-03-31 11:30  aet

	* trunk/src/scconf/parse.c, trunk/src/scconf/scconf.c,
	  trunk/src/scconf/scconf.h: Add functions scconf_list_add and
	  scconf_parse_entries, getting the values in user code is now
	  pretty much the same as it is in ASN.1 decoder.

2002-03-28 14:13  jey

	* trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/sc.c: - sec_attr and prop_attr are now
	  dynamically allocated in struct sc_file

2002-03-28 13:34  aet

	* trunk/src/libopensc/ctx.c, trunk/src/tests/sc-test.c: - Added
	  sanity check for sc_establish_context. If no readers are found,
	  fail and return SC_ERROR_NO_READERS_FOUND.

2002-03-28 13:10  aet

	* trunk/src/libopensc/Makefile.am: Add missing @LIBDL@ to
	  libopensc linking

2002-03-27 13:13  aet

	* trunk/configure.in, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/module.c,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/sc-internal.h,
	  trunk/src/openssh/Makefile.am, trunk/src/pam/Makefile.am,
	  trunk/src/scam/Makefile.am, trunk/src/scldap/Makefile.am,
	  trunk/src/scldap/scldap.c, trunk/src/scrandom/Makefile.am,
	  trunk/src/sia/Makefile.am, trunk/src/signer/Makefile.am: - Minor
	  cleanups to build process - Add header check for dlfcn.h - Add
	  internal functions sc_module_{open,close,get_address} - Use
	  environ instead __environ for scldap_search, should be more
	  portable. - Fix compiler warnings noticed by Tru64 / AIX cc

2002-03-26 23:06  aet

	* trunk/src/scam/p15_eid.c, trunk/src/scam/p15_ldap.c: Reduce the
	  scidi specific code to bare minimum

2002-03-26 20:59  aet

	* trunk/src/scldap/scldap.h: Add missing character

2002-03-26 20:56  aet

	* trunk/src/libopensc/ctx.c, trunk/src/scconf/scconf.c,
	  trunk/src/scconf/scconf.h, trunk/src/scconf/test-conf.c,
	  trunk/src/scldap/scldap.c, trunk/src/scldap/scldap.h: Rename
	  scconf_init to scconf_new Rename scconf_deinit to scconf_free
	  Add initial comments to scldap.h

2002-03-26 20:05  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - fix signing of raw
	  md5/sha1 hash w/o pkcs1 gunk prefix

2002-03-26 11:38  jey

	* trunk/etc/opensc.conf.example, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/ctbcs.h, trunk/src/libopensc/ctx.c,
	  trunk/src/libopensc/internal.h, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/reader-ctapi.c,
	  trunk/src/libopensc/reader-pcsc.c,
	  trunk/src/libopensc/sc-internal.h, trunk/src/libopensc/sc.c: -
	  Added support for CT-API - Improved config file loading -
	  Implemented ATR parsing

2002-03-25 22:39  aet

	* trunk/src/libopensc/ctx.c, trunk/src/scconf/scconf.c,
	  trunk/src/scconf/scconf.h, trunk/src/scconf/test-conf.c,
	  trunk/src/scldap/scldap.c: Rename scconf_find_value to
	  scconf_find_list Rename scconf_find_value_first to
	  scconf_get_str Add functions scconf_get_int and scconf_get_bool

2002-03-25 21:23  aet

	* trunk/src/libopensc/ctx.c, trunk/src/scconf/parse.c,
	  trunk/src/scconf/scconf.c, trunk/src/scconf/test-conf.c,
	  trunk/src/scldap/scldap.c: Always allocate scconf_list for block
	  structure

2002-03-25 20:10  aet

	* trunk/src/libopensc/ctx.c, trunk/src/scconf/scconf.c,
	  trunk/src/scconf/scconf.h, trunk/src/scconf/test-conf.c,
	  trunk/src/scldap/scldap.c: Add sanity checks and more comments
	  Add new parameter for scconf_find_blocks

2002-03-25 12:39  aet

	* trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/misc.c,
	  trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/pkcs11-session.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/secretkey.c, trunk/src/pkcs11/slot.c: Add
	  support for config.h Remove old, obsolete and dead code

2002-03-25 11:54  aet

	* trunk/configure.in, trunk/etc/scldap.conf.example,
	  trunk/src/scldap/scldap.c: Still changes for libreadline checks
	  output Clear environment before calling ldap_init, as suggested
	  by Olaf

2002-03-25 10:19  okir

	* trunk/configure.in: - pick up -lresolv on systems with glibc
	  2.2.4 (needed by openldap 2.x)

2002-03-24 23:20  jey

	* trunk/TODO: - updated TODO

2002-03-24 22:54  jey

	* trunk/src/libopensc/ctx.c: - fixed some memory leaks in
	  sc_establish_context

2002-03-24 22:47  jey

	* trunk/etc/opensc.conf.example, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/ctx.c, trunk/src/libopensc/reader-pcsc.c,
	  trunk/src/libopensc/sc.c: - Moved functions from sc.c to ctx.c -
	  Card and reader drivers are now configurable

2002-03-24 21:56  aet

	* trunk/src/pkcs11/pkcs11-global.c, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c, trunk/src/tests/sc-test.c,
	  trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-crypt.c,
	  trunk/src/tools/pkcs15-init.c, trunk/src/tools/pkcs15-tool.c:
	  Don't hardcode initial debugging level and error/debug_file
	  pointers to the code, get the values from opensc.conf instead.

2002-03-24 20:30  aet

	* trunk/configure.in: Add missing AC_MSG_RESULT texts to
	  libreadline check

2002-03-24 20:04  aet

	* trunk/src/scconf/test-conf.c: Allow user to specify input/output
	  filenames

2002-03-24 17:50  aet

	* trunk/etc/opensc.conf.example: Fix syntax errors

2002-03-24 17:09  aet

	* trunk/src/libopensc/sc.c: Oops, scconf_parse was called twice.
	  Fixed.

2002-03-24 16:57  aet

	* trunk/etc/opensc.conf.example, trunk/src/libopensc/sc.c: - Fix a
	  potential segfault for the new sc_establish_context - Keep the
	  variable names in opensc.conf the same as they are in code
	  structs. Always try to parse app default { } first, then upgrade
	  the settings with the application specific configuration block.

2002-03-24 15:41  aet

	* trunk/Makefile.am, trunk/configure.in, trunk/etc,
	  trunk/etc/.cvsignore, trunk/etc/Makefile.am,
	  trunk/etc/scldap.conf.example, trunk/src/libopensc/Makefile.am,
	  trunk/src/openssh/openssh-3.0.2p1-patch.diff,
	  trunk/src/pkcs11/pkcs11-global.c, trunk/src/scam/Makefile.am,
	  trunk/src/scam/p15_ldap.c, trunk/src/scam/scam.c,
	  trunk/src/scldap/Makefile.am, trunk/src/scldap/scldap.h,
	  trunk/src/scldap/test-ldap.c, trunk/src/signer/opensc-crypto.c,
	  trunk/src/signer/opensc-support.c: Move opensc/src/scldap/etc to
	  opensc/etc SCLDAP_CONFIG -> SCLDAP_CONF_PATH Upgrade the rest of
	  the programs to use new core API

2002-03-24 14:15  jey

	* trunk/etc/opensc.conf.example: - second version of the default
	  config file

2002-03-24 14:12  jey

	* trunk/configure.in, trunk/etc, trunk/etc/opensc.conf.example,
	  trunk/src/libopensc/Makefile.am, trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc-internal.h,
	  trunk/src/libopensc/sc.c, trunk/src/openssh/opensc-ssh.c,
	  trunk/src/pkcs11/pkcs11-global.c, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c, trunk/src/scam/scam.c,
	  trunk/src/tests/sc-test.c, trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-crypt.c,
	  trunk/src/tools/pkcs15-gpk.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15-tool.c, trunk/src/tools/profile.c,
	  trunk/src/tools/util.c, trunk/src/tools/util.h: - Started to add
	  configuration file support to libopensc - Added typedefs for
	  some basic structs (e.g. struct sc_card --> sc_card_t) - Added a
	  second argument to sc_establish_context() to identify the
	  calling application - Renamed sc_destroy_context() to
	  sc_release_context()

2002-03-24 14:06  jey

	* trunk/src/libopensc/card-setcos.c: - fixed a typo in one ATR
	  string

2002-03-24 12:14  aet

	* trunk/src/pam/pam_opensc.c, trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/pkcs15-init.c, trunk/src/tools/profile.c: - Fix
	  compiler warnings for Solaris - Use of PAM_MODULE_UNKNOWN broke
	  pam_opensc for Sun based PAM implementations, fixed.

2002-03-24 10:03  aet

	* trunk/src/scam/p15_eid.c, trunk/src/scam/p15_ldap.c,
	  trunk/src/scam/scam.c: Make sure everything compiles even if we
	  don't have an LDAP implementation and/or OpenSSL library.

2002-03-23 19:37  aet

	* trunk/configure.in: Restructuring and merges with scidi

2002-03-23 16:28  aet

	* trunk/src/pam/README, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c: Strip off "opensc-" prefix from the
	  p15 module names

2002-03-22 13:56  aet

	* trunk/src/tools/Makefile.am: 'make dist' fixes

2002-03-22 09:50  aet

	* trunk/bootstrap: Test if Makefile exists before doing make
	  distclean Remove --gnu from autoreconf

2002-03-22 01:14  aet

	* trunk/src/scldap/scldap.c: Disable a debugging message that got
	  activated because of log_messagex -> fprintf renames.

2002-03-22 00:13  aet

	* trunk/src/tests/base64.c, trunk/src/tests/lottery.c,
	  trunk/src/tests/p15dump.c, trunk/src/tests/pintest.c,
	  trunk/src/tests/print.c, trunk/src/tests/prngtest.c,
	  trunk/src/tests/sc-test.c, trunk/src/tests/sc-test.h: Fix memory
	  leaks Indent lines

2002-03-21 23:45  aet

	* trunk/src/libopensc/pkcs15-cert.c, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c: Remove bogus "len = len;" statement
	  from pkcs15-cert Other minor cleanups

2002-03-21 19:12  aet

	* trunk/src/pam/README: Merge bits of information from
	  pam_pkcs15's README for opensc-pkcs15-eid

2002-03-21 18:37  aet

	* trunk/configure.in: Fix a typo Add missing conditional

2002-03-21 18:02  aet

	* trunk/src/pam/pam_opensc.c, trunk/src/pam/pam_support.c,
	  trunk/src/pam/pam_support.h: Move get_login() to pam_support.c

2002-03-21 17:41  aet

	* trunk/configure.in, trunk/src/pam/Makefile.am,
	  trunk/src/pam/README, trunk/src/pam/pam_opensc.c,
	  trunk/src/scam/Makefile.am, trunk/src/scam/p15_eid.c,
	  trunk/src/scam/p15_ldap.c, trunk/src/scam/scam.c,
	  trunk/src/scam/scam.h, trunk/src/sia/Makefile.am,
	  trunk/src/sia/sia_opensc.c, trunk/src/sia/sia_support.c:
	  Cleanups for PAM and SIA build process

2002-03-21 14:05  aet

	* trunk/Makefile.am, trunk/configure.in,
	  trunk/src/pam/Makefile.am, trunk/src/pam/pam_opensc.c,
	  trunk/src/pam/pam_support.c, trunk/src/scam/Makefile.am,
	  trunk/src/scam/p15_eid.c, trunk/src/scam/p15_ldap.c,
	  trunk/src/scam/scam.c, trunk/src/scldap/scldap.c,
	  trunk/src/scldap/test-ldap.c, trunk/src/scrandom/scrandom.c,
	  trunk/src/sia/Makefile.am: Merge configure.ac stuff from SCIDI,
	  needs some cleanups Add missing functions Replace
	  log_message{x}() calls with fprintf, for now Everything compiles
	  with vanilla opensc tree, yet untested.

2002-03-21 13:11  aet

	* trunk/src/scconf/parse.c, trunk/src/scconf/write.c: Build fixes

2002-03-21 11:56  aet

	* trunk/src/sia, trunk/src/sia/.cvsignore,
	  trunk/src/sia/Makefile.am, trunk/src/sia/sia_opensc.c,
	  trunk/src/sia/sia_support.c, trunk/src/sia/sia_support.h,
	  trunk/src/sia/test-sia.c: Add preliminary version of SIA module
	  for Tru64 Compiles, doesn't work yet. To be finished when
	  someone returns my development alpha. :)

2002-03-21 11:35  aet

	* trunk/src/pam/pam_support.h: Oops, indent fixes

2002-03-21 10:43  aet

	* trunk/src/Makefile.am, trunk/src/pam/Makefile.am,
	  trunk/src/scam/p15_eid.c, trunk/src/scam/p15_ldap.c,
	  trunk/src/scldap/Makefile.am, trunk/src/scldap/test-ldap.c,
	  trunk/src/scrandom/Makefile.am,
	  trunk/src/scrandom/test-random.c: Build fixes

2002-03-21 09:36  okir

	* trunk/src/libopensc/card-emv.c, trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/openssh/opensc-ssh.c,
	  trunk/src/pkcs11/misc.c, trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs11/pkcs11-session.c, trunk/src/pkcs11/slot.c,
	  trunk/src/tests/pintest.c: - added some #include string.h
	  statements for RH 7.2

2002-03-20 23:21  aet

	* trunk/src/pam, trunk/src/pam/.cvsignore,
	  trunk/src/pam/Makefile.am, trunk/src/pam/README,
	  trunk/src/pam/misc_conv.c, trunk/src/pam/pam_opensc.c,
	  trunk/src/pam/pam_pkcs15.c, trunk/src/pam/pam_support.c,
	  trunk/src/pam/pam_support.h, trunk/src/scam,
	  trunk/src/scam/.cvsignore, trunk/src/scam/Makefile.am,
	  trunk/src/scam/p15_eid.c, trunk/src/scam/p15_ldap.c,
	  trunk/src/scam/scam.c, trunk/src/scam/scam.h, trunk/src/scconf,
	  trunk/src/scconf/.cvsignore, trunk/src/scconf/Makefile.am,
	  trunk/src/scconf/internal.h, trunk/src/scconf/lex-parse.l,
	  trunk/src/scconf/parse.c, trunk/src/scconf/scconf.c,
	  trunk/src/scconf/scconf.h, trunk/src/scconf/test-conf.c,
	  trunk/src/scconf/write.c, trunk/src/scldap,
	  trunk/src/scldap/.cvsignore, trunk/src/scldap/Makefile.am,
	  trunk/src/scldap/scldap.c, trunk/src/scldap/scldap.h,
	  trunk/src/scldap/test-ldap.c, trunk/src/scrandom,
	  trunk/src/scrandom/.cvsignore, trunk/src/scrandom/Makefile.am,
	  trunk/src/scrandom/scrandom.c, trunk/src/scrandom/scrandom.h,
	  trunk/src/scrandom/test-random.c: Start merging various sources
	  from project SCIDI - smart card identification infrastructure by
	  Helsinki University of Technology. Breaks current PAM build,
	  lot's of stuff from configure.ac missing, some references to
	  unknown sources and functions. Time to get some sleep, i'll
	  continue merging tomorrow.

2002-03-20 19:37  jey

	* trunk/NEWS, trunk/configure.in: - Bumped up version number to
	  0.6.1 - Wrote a NEWS entry

2002-03-20 19:33  aet

	* trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/misc.c,
	  trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/pkcs11-session.c, trunk/src/pkcs11/secretkey.c:
	  #include cleanups to get rid of compiler warnings

2002-03-20 19:31  jey

	* trunk/src/pkcs11/framework-pkcs15.c: - Added Olaf's ASN.1
	  wrapping magic

2002-03-20 17:17  jey

	* trunk/src/pkcs11/framework-pkcs15.c: - Fixed debug output in
	  pkcs15_create_slot()

2002-03-20 15:04  okir

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/pkcs11-session.c, trunk/src/pkcs11/sc-pkcs11.h:
	  - implemented C_ChangePIN

2002-03-20 13:08  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - implemented CKA_SUBJECT
	* trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15-cert.c, trunk/src/libopensc/pkcs15.h:
	  - now extracting issuer from certificate

2002-03-19 10:04  jey

	* trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/pkcs15-cert.c, trunk/src/libopensc/pkcs15.c:
	  - Fixed a couple of memory leaks - Fixed a bug in decoding
	  EF(TokenInfo)

2002-03-18 13:24  okir

	* trunk/src/tools/opensc-explorer.c: - make it compile with
	  readline versions that declare readline(char *);

2002-03-18 12:49  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - by default, the token is
	  marked write_protected - fixed debug output when creating a slot
	  with no PIN
	* trunk/src/pkcs11/README: - do not enable the RSA flag n netscape

2002-03-18 11:05  okir

	* trunk/src/pkcs11/README, trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/misc.c, trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/pkcs11-session.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/secretkey.c: - made email decryption work in
	  netscape

2002-03-15 15:22  okir

	* trunk/src/pkcs11/Makefile.am,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/pkcs11-object.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/secretkey.c: - first stab at C_Unwrap

2002-03-15 15:19  okir

	* trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15-cert.c, trunk/src/libopensc/pkcs15.h:
	  - extract certificate issuer and store it in sc_pkcs15_cert

2002-03-15 12:48  jey

	* trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15.h: - started adding support for DSA
	  private keys

2002-03-15 12:37  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - email signing now works
	  from navigator

2002-03-15 11:41  okir

	* trunk/src/pkcs11/pkcs11-global.c: - set debug log file and
	  libopensc debug level via environment vars

2002-03-15 10:40  jey

	* trunk/src/tools/opensc-explorer.c: *** empty log message ***

2002-03-15 10:10  jey

	* trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15-cert.c, trunk/src/libopensc/pkcs15.h:
	  - Added support for big serial numbers in certificates

2002-03-15 10:05  okir

	* trunk/src/tools/pkcs15-tool.c: - now uses sc_pkcs15_free_pubkey

2002-03-15 10:01  okir

	* trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15.h: - implemented sc_pkcs15_free_pubkey

2002-03-15 09:43  okir

	* trunk/src/libopensc/cardctl.h: - removed
	  SC_CARDCTL_GET_PK_ALGORITHMS card_ctl
	* trunk/src/libopensc/card-gpk.c: - implemented decipher()
	  operation - removed SC_CARDCTL_GET_PK_ALGORITHMS card_ctl -
	  minor signing fixes

2002-03-15 09:42  okir

	* trunk/src/libopensc/iso7816.c, trunk/src/libopensc/sec.c: -
	  moved sc_decipher implementation to iso7816.c

2002-03-15 09:01  okir

	* trunk/src/tools/pkcs15-tool.c: - fixed PEM public key header

2002-03-14 17:02  okir

	* trunk/src/tools/pkcs15-crypt.c: - add option --md5

2002-03-14 16:57  okir

	* trunk/src/tools/pkcs15-tool.c: - list and extract public keys

2002-03-14 11:50  aet

	* trunk/src/libopensc/pkcs15.c: Add missing static for
	  parse_tokeninfo();

2002-03-14 11:50  okir

	* trunk/src/libopensc/pkcs15.c: - fixed a typo that caused bad
	  auth_id's

2002-03-13 23:11  aet

	* trunk/src/tools/pkcs15-cflex.c, trunk/src/tools/pkcs15-init.c:
	  Fix minor compiler warnings

2002-03-13 20:25  okir

	* trunk/src/libopensc/card-gpk.c: - if the offset shift is 2 in
	  update binary et al, make sure the application provided offset
	  is a multiple of 4.

2002-03-13 20:24  okir

	* trunk/src/libopensc/opensc.h: - make sure SC_APDU_CHOP_SIZE is a
	  multiple of 4 (otherwise, update binary et al of large files
	  will fail on the GPK)

2002-03-13 20:23  okir

	* trunk/src/tools/pkcs15-init.c: - fixed certificate download

2002-03-13 15:18  aet

	* trunk/docs, trunk/docs/.cvsignore: Add missing files

2002-03-13 13:21  jey

	* trunk/configure.in: - added docs/Makefile to AC_OUTPUT

2002-03-13 13:17  jey

	* trunk/Makefile.am: - removed README.Cryptoflex from EXTRA_DIST

2002-03-13 13:09  okir

	* trunk/Makefile.am: - added docs subdirectory so that manpages
	  get installed
	* trunk/docs/Makefile.am: - added Makefile.am for manpages
	* trunk/docs/pkcs15-crypt.1, trunk/docs/pkcs15-init.1,
	  trunk/docs/pkcs15-profile.5, trunk/docs/pkcs15.7: - added a
	  bunch of manpages

2002-03-13 12:42  aet

	* trunk/src/signer/dialog.c: - Ahem, decrease the version number a
	  bit - assuan_transact is now API compatible with the latest
	  version of Assuan (newpg/assuan)

2002-03-13 11:36  jey

	* trunk/src/signer/opensc-crypto.c: - fixed a small core-dumping
	  bug

2002-03-13 10:51  jey

	* trunk/README.Cryptoflex: - Preparation for release 0.6.0 -
	  Removed obsolete README.Cryptoflex

2002-03-13 10:48  jey

	* trunk/NEWS, trunk/src/openssh/README,
	  trunk/src/openssh/openssh-3.0.2p1-patch.diff,
	  trunk/src/tools/miocos.profile, trunk/src/tools/pkcs15-cflex.c,
	  trunk/src/tools/pkcs15-miocos.c: *** empty log message ***

2002-03-13 10:34  jey

	* trunk/src/pkcs11/framework-pkcs15.c: - some autodetection magic
	  in pkcs15_prkey_sign()

2002-03-13 09:51  jey

	* trunk/src/pkcs11/framework-pkcs15.c: - reverted a change in
	  pkcs15_prkey_sign

2002-03-13 08:54  jey

	* trunk/src/signer/dialog.c, trunk/src/signer/opensc-crypto.c: -
	  Fixed signature generation - Assuan API is now compatible with
	  newer versions

2002-03-12 16:27  okir

	* trunk/src/tools/pkcs15-init.c, trunk/src/tools/pkcs15-init.h: -
	  added pkcs12 support
	* trunk/src/tools/pkcs15.profile: - Make the default size for DF
	  files 128 bytes (FIXME: we need to be able to set this on a per
	  card basis in $cardname.profile

2002-03-12 14:36  okir

	* trunk/src/pkcs11/framework-pkcs15.c: - add support for PuKDF
	  objects. - lock the card in C_Login, and unlock it in C_Logout.
	* trunk/src/pkcs11/sc-pkcs11.h: - keep track of number of sessions

2002-03-12 14:35  okir

	* trunk/src/pkcs11/pkcs11-session.c: - keep track of the number of
	  sessions per slot, and do a C_Logout when the last session is
	  closed.

2002-03-12 13:41  okir

	* trunk/src/tools/Makefile.am: - Make sure profiles get installed
	  in $(pkgdatadir), and propagate this directory name to profile.c
	  (icky automake stuff)

2002-03-12 13:00  jey

	* trunk/configure.in, trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/card-miocos.c, trunk/src/libopensc/dir.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/sc.c, trunk/src/tools/flex.profile,
	  trunk/src/tools/pkcs15-cflex.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/profile.c, trunk/src/tools/profile.h: - Fixed
	  PKCS #15 structure generation on Cryptoflex cards and
	  implemented a default profile - Cryptoflex now reports its
	  supported PK algorithms correctly - Various pkcs15-init fixes

2002-03-12 10:08  okir

	* trunk/src/tools/gpk.profile, trunk/src/tools/pkcs15-gpk.c,
	  trunk/src/tools/pkcs15-init.c, trunk/src/tools/pkcs15-init.h,
	  trunk/src/tools/pkcs15.profile, trunk/src/tools/profile.c,
	  trunk/src/tools/profile.h: - Implemented download of public keys
	  and X509 certificates

2002-03-11 14:13  okir

	* trunk/src/tools/pkcs15-init.c: - now creating EF(DIR)

2002-03-11 14:12  okir

	* trunk/src/libopensc/opensc.h: - exporting sc_update_dir to
	  applications

2002-03-11 12:41  okir

	* trunk/src/libopensc/card-gpk.c: - we cache just the DF portion
	  of the currently selected file path, excluding the EF's FID -
	  when sending the hash to the card (as part of
	  compute_signature), revert the sequence of hashed bytes

2002-03-11 11:52  okir

	* trunk/src/tools/pkcs15-init.c: - When storing a private key,
	  always store the public portion as well

2002-03-11 11:40  jey

	* trunk/src/libopensc/log.c: *** empty log message ***

2002-03-11 10:18  okir

	* trunk/src/tools/profile.c: - forgot to add DFs to the profile's
	  file list

2002-03-11 09:14  okir

	* trunk/src/tools/gpk.profile, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15.profile, trunk/src/tools/profile.c,
	  trunk/src/tools/profile.h: - Implemented Parent/FileID stuff
	  according to Juha's proposal

2002-03-10 11:48  jey

	* trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/internal.h, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/sc-internal.h: - GPK now reports it's PK
	  abilities correctly

2002-03-09 17:54  aet

	* trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/pkcs15-sec.c,
	  trunk/src/tools/pkcs15-cflex.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/profile.c: Include stdlib.h where needed Warning
	  fixes for various OS's mcheck.h is not portable, so remove it

2002-03-09 17:27  aet

	* trunk/src/tools/flex.profile, trunk/src/tools/gpk.profile,
	  trunk/src/tools/miocos.profile: Standardize the first header
	  comment a bit between various profiles

2002-03-09 17:21  aet

	* trunk/src/tools/Makefile.am: Add flex.profile to EXTRA_DIST
	  Rename miocos-rw.profile to miocos.profile

2002-03-09 15:11  jey

	* trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/card-miocos.c, trunk/src/libopensc/opensc.h,
	  trunk/src/tools/Makefile.am, trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/flex.profile, trunk/src/tools/miocos-rw.profile,
	  trunk/src/tools/miocos.profile,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/pkcs15-cflex.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15-init.h, trunk/src/tools/profile.c: -
	  Improved support for MioCOS cards - Removed PKCS #15 creation
	  from cryptoflex-tool - Added PIN pad character option to
	  profile.c

2002-03-08 19:47  okir

	* trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15.h: - added sc_pkcs15_read_pubkey to
	  retrieve public key from a public key file

2002-03-08 19:46  okir

	* trunk/src/libopensc/card-gpk.c: - specify sc_algorithm_info

2002-03-08 16:06  aet

	* trunk/Makefile.am, trunk/src/tools/Makefile.am,
	  trunk/src/tools/profile.h, trunk/src/tools/util.h: 'make dist'
	  fixes Minor cleanups

2002-03-08 15:18  aet

	* trunk/src/signer/opensc-crypto.c: SC_PKCS15_HASH_SHA1 ->
	  SC_ALGORITHM_RSA_HASH_SHA1

2002-03-08 14:47  aet

	* trunk/src/openssh/opensc-ssh.c: Fixed opensc-ssh to work with
	  recent p15 API changes

2002-03-08 05:59  jey

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/asn1.h,
	  trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-sec.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc-asn1.h,
	  trunk/src/libopensc/sc-internal.h, trunk/src/pam/pam_pkcs15.c,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/tools/pkcs15-crypt.c: - Added X.509 algorithm id
	  decoding and encoding to asn1.c - Implemented a generic ATR
	  matching helper function - Made signing much smarter (should
	  even work now) - Added info about supported crypto algorithms to
	  struct sc_card

2002-03-07 13:06  okir

	* trunk/src/tools/pkcs15-init.c, trunk/src/tools/profile.c: -
	  fixed attributes etc of PuKDF entry

2002-03-07 13:03  okir

	* trunk/src/tests/p15dump.c: - moved object printing stuff to
	  separate file - dump public key info if present
	* trunk/src/tests/Makefile.am, trunk/src/tests/print.c,
	  trunk/src/tests/sc-test.h: - moved object printing stuff to
	  separate file

2002-03-07 13:02  okir

	* trunk/src/tests/pintest.c: - fixed pintest to work with p15 API
	  changes

2002-03-07 12:33  okir

	* trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h: -
	  sc_pkcs15_parse_df now understands PuKDFs

2002-03-07 12:26  okir

	* trunk/src/tools/pkcs15-init.c: - fixed error code handling

2002-03-07 12:25  okir

	* trunk/src/tools/pkcs15-gpk.c: - fixed memory corruption problem

2002-03-07 11:57  fabled

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/pkcs11-session.c: - Patch from Olaf Kirch to
	  implement of RSA exponent and modulus retrievel in pkcs11 code -
	  Fixed the checking of PIN length in pkcs11 login

2002-03-06 17:49  okir

	* trunk/src/tools/gpk-rw.profile, trunk/src/tools/gpk.profile,
	  trunk/src/tools/pkcs15-gpk.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15-init.h, trunk/src/tools/pkcs15-miocos.c,
	  trunk/src/tools/pkcs15.profile, trunk/src/tools/profile.c,
	  trunk/src/tools/profile.h: - Rewrote large parts of pkcs15-init
	  for greater flexibility, and with an eye towards separating some
	  of the stuff into a library that can be used by pkcs11.

2002-03-06 13:22  okir

	* trunk/src/libopensc/card.c: - in sc_select_file, remember the
	  file path in the returned struct sc_file

2002-03-06 13:21  okir

	* trunk/src/libopensc/pkcs15.c: - another buffer overflow

2002-03-06 12:33  okir

	* trunk/src/libopensc/card-gpk.c: - Added
	  {read,write,update}_binary handlers that shift the offset

2002-03-06 12:32  okir

	* trunk/src/libopensc/pkcs15.c: - SECURITY: Fixed buffer overflow

2002-03-05 16:52  jey

	* trunk/src/signer/dialog.c, trunk/src/signer/opensc-crypto.c,
	  trunk/src/signer/opensc-support.c: - now works with the new API

2002-03-05 13:26  okir

	* trunk/configure.in: - make sure HAVE_OPENSSL is defined even
	  when reading openssldir from config.cache

2002-03-05 13:16  okir

	* trunk/configure.in: - make sure HAVE_LIBPCSCLITE is defined when
	  using --with-pcsclite

2002-03-05 09:30  okir

	* trunk/src/libopensc/pkcs15-pubkey.c: - small typo

2002-03-04 10:33  okir

	* trunk/src/tools/gpk-rw.profile, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/profile.c, trunk/src/tools/profile.h: - started
	  to work on PuKDF stuff

2002-03-04 09:33  okir

	* trunk/src/tools/profile.h: - Added support for Juha's latest API
	  changes

2002-03-04 09:32  okir

	* trunk/src/tools/profile.c: - Fixes for Juha's rewrite of
	  sc_pkcs15_object and friends - changes some names - allow
	  profile to set private key access flags

2002-03-04 09:31  okir

	* trunk/src/tools/gpk-rw.profile: - Added default access_flags for
	  private key objects

2002-03-04 08:35  okir

	* trunk/src/tests/p15dump.c: - adapted to juha's latest changes

2002-03-04 06:58  fabled

	* trunk/src/pkcs11/pkcs11-object.c, trunk/src/pkcs11/sc-pkcs11.h:
	  - Fixed buffer overflow in C_FindObjectsInit (patch from Olaf
	  Kirch <okir@caldera.de>)

2002-03-03 17:36  fabled

	* trunk/src/pkcs11/framework-pkcs15.c: - Fixed PKCS #11 module to
	  use the new PKCS #15 API

2002-03-03 00:32  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/asn1.h, trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-pubkey.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/sc-asn1.h, trunk/src/libopensc/sc.c,
	  trunk/src/tools/Makefile.am, trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/pkcs15-crypt.c, trunk/src/tools/pkcs15-tool.c: -
	  Reworked PKCS #15 structure a bit (MANY THINGS WILL BREAK) -
	  Added support for public key DFs (not tested yet)

2002-03-02 14:03  okir

	* trunk/src/tools/pkcs15-init.c: - if required, read pin from
	  stdin (fixed key download)

2002-03-01 11:52  jey

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/sc-internal.h,
	  trunk/src/tools/opensc-tool.c: - intermediary checkin

2002-02-27 22:15  okir

	* trunk/src/libopensc/card-gpk.c: - Implemented GET_PK_ALGORITHMS
	  card_ctl
	* trunk/src/libopensc/cardctl.h: - Fixed typo on _CTL_PREFIX -
	  Added SC_CARDCTL_GET_PK_ALGORITHMS

2002-02-26 21:15  okir

	* trunk/configure.in: - some platforms need -ltermcap to go with
	  -lreadline

2002-02-26 21:11  okir

	* trunk/src/tools/opensc-explorer.c: - we may have readline.h but
	  may still not be able to link the lib

2002-02-26 16:34  okir

	* trunk/src/libopensc/card-gpk.c: - implemented change/unblock pin

2002-02-26 11:27  jey

	* trunk/docs, trunk/docs/.cvsignore,
	  trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/sc.c, trunk/src/tools/miocos-rw.profile,
	  trunk/src/tools/pkcs15-miocos.c: - added some missing files -
	  renamed card-setec.c to card-setcos.c

2002-02-26 11:23  jey

	* trunk/AUTHORS, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-miocos.c,
	  trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/dir.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/sc.c, trunk/src/tools/Makefile.am,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/pkcs15-init.c, trunk/src/tools/pkcs15-init.h: -
	  added a driver for MioCOS cards by Miotec - implemented EF(DIR)
	  updating

2002-02-25 22:42  okir

	* trunk/src/libopensc/card-gpk.c: - fixed sc_card_driver
	  initalization

2002-02-25 18:58  okir

	* trunk/TODO: - test commit

2002-02-25 18:50  okir

	* trunk/src/tools/pkcs15-gpk.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/profile.c, trunk/src/tools/profile.h: - cleanup
	  and misc minor fixes

2002-02-25 18:48  okir

	* trunk/src/libopensc/card-gpk.c: - first stab at signatures

2002-02-25 18:47  okir

	* trunk/src/libopensc/pkcs15-sec.c: - avoid integer underflow for
	  outlen < 11

2002-02-25 18:43  aet

	* trunk/configure.in, trunk/src/tools/opensc-explorer.c: Minor
	  fixes to libreadline checking

2002-02-25 16:30  aet

	* trunk/configure.in, trunk/src/tools/Makefile.am,
	  trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-crypt.c,
	  trunk/src/tools/pkcs15-gpk.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15-tool.c, trunk/src/tools/profile.c,
	  trunk/src/tools/util.c: Added support for checking libreadline
	  and use it for opensc-explorer if one is found.

2002-02-25 15:40  aet

	* trunk/configure.in: Minor fix for HAVE_PCSCLITE conditional

2002-02-25 14:13  jey

	* trunk/src/libopensc/asn1.c: - small bug fixed in
	  encode_bit_string; patch by Olaf Kirch

2002-02-25 13:51  aet

	* trunk/src/tools/pkcs15-init.c: Add missing help text for
	  --passphrase

2002-02-25 12:37  aet

	* trunk/src/tests/filetest.c, trunk/src/tests/hst-test.c: Obsolete

2002-02-25 12:04  aet

	* trunk/src/openssh/opensc-ssh.c, trunk/src/pam/pam_pkcs15.c,
	  trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/slot.c,
	  trunk/src/signer/opensc-crypto.c,
	  trunk/src/signer/opensc-support.c, trunk/src/signer/signer.h,
	  trunk/src/tests/hst-test.c, trunk/src/tests/lottery.c,
	  trunk/src/tests/p15dump.c, trunk/src/tests/pintest.c,
	  trunk/src/tests/prngtest.c, trunk/src/tests/sc-test.c: Upgrade
	  to current OpenSC API Compiles, so far untested

2002-02-25 11:50  aet

	* trunk/src/tools, trunk/src/tools/.cvsignore: Add pkcs15-init

2002-02-25 11:13  aet

	* trunk/src/libopensc/Makefile.am, trunk/src/tools/Makefile.am:
	  HAVE_SSL cleanups

2002-02-25 11:06  aet

	* trunk/src/signer/Makefile.am: Get rid of PC/SC specific flags
	  (thank god)

2002-02-25 11:05  aet

	* trunk/configure.in, trunk/src/libopensc/Makefile.am,
	  trunk/src/openssh/Makefile.am, trunk/src/pam/Makefile.am,
	  trunk/src/pkcs11/Makefile.am, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/tests/Makefile.am, trunk/src/tools/Makefile.am:
	  winscard.h / CFLAGS_PCSC cleanups Merge OpenSSL configure
	  changes with SCIDI Build process changes for future CT-API
	  support

2002-02-24 21:14  aet

	* trunk/src/libopensc/reader-pcsc.c: Fix segfault for pcsc_finish

2002-02-24 20:16  aet

	* trunk/src/libopensc/reader-pcsc.c: Add missing SC_STATUS_TIMEOUT
	  that was removed from sc-internal.h

2002-02-24 19:32  jey

	* trunk/CodingStyle, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-emv.c, trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/internal.h, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/reader-pcsc.c,
	  trunk/src/libopensc/sc-internal.h, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/sec.c, trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-crypt.c,
	  trunk/src/tools/pkcs15-init.c, trunk/src/tools/pkcs15-tool.c: -
	  implemented reader abstraction layer; now it's easier to add
	  support for e.g. CT-API - renamed ops_data field to drv_data in
	  struct sc_card - copied coding style document from Linux kernel

2002-02-24 16:50  aet

	* trunk/src/libopensc/card-gpk.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/tools/pkcs15-gpk.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/profile.c, trunk/src/tools/profile.h: Minor
	  changes to get rid of compiler warnings for various OS's

2002-02-23 13:38  jey

	* trunk/src/libopensc/card-gpk.c, trunk/src/libopensc/cardctl.h,
	  trunk/src/tools/gpk-rw.profile, trunk/src/tools/pkcs15-gpk.c,
	  trunk/src/tools/pkcs15-init.c, trunk/src/tools/pkcs15-init.h,
	  trunk/src/tools/profile.c, trunk/src/tools/profile.h: -
	  implemented RSA and DSA key downloading to GPK cards

2002-02-22 20:46  jey

	* trunk/src/tools/opensc-explorer.c: - a small fix

2002-02-22 07:18  jey

	* trunk/src/libopensc/cardctl.h, trunk/src/tools/gpk-rw.profile,
	  trunk/src/tools/pkcs15-gpk.c, trunk/src/tools/pkcs15-init.c,
	  trunk/src/tools/pkcs15-init.h, trunk/src/tools/profile.c,
	  trunk/src/tools/profile.h: - added some missing files from last
	  commits, whoops

2002-02-21 19:23  jey

	* trunk/src/libopensc/card.c, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/opensc.h: - added sc_update_binary(),
	  sc_append_binary() and sc_write_binary() with their
	  corresponding ISO 7816-4 reference functions

2002-02-21 18:53  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc.c,
	  trunk/src/tools/Makefile.am, trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/util.c, trunk/src/tools/util.h: - added ATR for
	  RSA SecurID 3100 - exported pkcs15_encode_* functions - minor
	  modification to sc_file_add_acl_entry() - boosted up
	  opensc-explorer - added error(), warn() and fatal() -
	  implemented a generic PKCS #15 structure generation tool

2002-02-20 18:42  aet

	* trunk/src/libopensc/sc.c: Fix memory leak for
	  sc_establish_context

2002-02-20 09:56  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/card-emv.c,
	  trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/dir.c, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc.c,
	  trunk/src/tests/Makefile.am, trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-tool.c,
	  trunk/src/tools/util.c, trunk/src/tools/util.h: - all instances
	  struct sc_file should now be dynamically allocated with
	  sc_file_new() and released with sc_file_free() - improved ACL's
	  - moved struct sc_card_error to opensc.h - moved EF(DIR) parsing
	  and encoding to dir.c (encoding is not working yet) - removed
	  hst-test.c and filetest.c

2002-02-17 21:55  aet

	* trunk/src/libopensc/sc.c: Bugfix for sc_destroy_context,
	  pcsc_ctx was never released

2002-02-15 23:17  jey

	* trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/internal.h, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc-internal.h,
	  trunk/src/libopensc/sc.c, trunk/src/libopensc/sec.c: - added
	  error reporting for several new SWs - added check_sw function to
	  sc_card_operations

2002-02-11 15:55  jey

	* trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/card-tcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/sc.c, trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c: - added partial support for TCOS
	  2.0 cards - default card driver now tries to do a GET RESPONSE
	  instead of SELECT FILE to detect the correct CLA byte - moved
	  security attribute parsing from iso7816.c to card-setec.c -
	  added some more sanity checking to sc_check_apdu - added 'debug'
	  command line option to opensc-explorer

2002-02-11 11:01  aet

	* trunk/src/libopensc/card-gpk.c: AIX cc fixes

2002-02-11 10:49  aet

	* trunk/src/libopensc/card-gpk.c: Portability fixes

2002-02-10 18:09  jey

	* trunk/src/libopensc/card-gpk.c: - added a license notice to
	  card-gpk.c

2002-02-10 18:04  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/card-gpk.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-pin.c, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/sec.c, trunk/src/tools/Makefile.am,
	  trunk/src/tools/opensc-explorer.c: - added partial support for
	  GPK 4000 - made line parsing in opensc-explorer saner - moved
	  change_reference_data and reset_retry_counter to iso7816.c,
	  where they belong - added partial libreadline support to
	  opensc-explorer

2002-02-07 13:10  aet

	* trunk/configure.in: small #define HAVE_OPENSSL fixes

2002-02-06 12:32  aet

	* trunk/src/pkcs11/Makefile.am: Add install-exec-local and remove
	  opensc-pkcs11.{la,a}, like we do with opensc-signer

2002-02-06 10:36  aet

	* trunk/aclocal/acx_pthread.m4: Tru64: Fix for
	  PTHREAD_CREATE_JOINABLE $ok

2002-01-29 14:38  aet

	* trunk/src/signer/Makefile.am: Add install-exec-local and remove
	  opensc-signer.{la,a}, any better way to do this?

2002-01-28 21:04  jey

	* trunk/src/libopensc/card.c, trunk/src/libopensc/opensc.h: -
	  added support for T=1 protocol

2002-01-28 19:29  fabled

	* trunk/src/pkcs11/opensc_pkcs11_install.js: Testing version. Use
	  if you dare.

2002-01-28 12:16  aet

	* trunk/README: Change OpenSC web site url to
	  http://www.opensc.org/

2002-01-26 21:16  aet

	* trunk/src/libopensc, trunk/src/libopensc/.cvsignore: Add
	  opensc-config

2002-01-26 16:03  jey

	* trunk/configure.in, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/opensc-config.in: - added opensc-config
	  script - added ATR string for Cryptoflex 8k

2002-01-26 12:16  aet

	* trunk/src/libopensc/pkcs15-cache.c,
	  trunk/src/pkcs11/framework-pkcs15.c: Fix compiler warnings

2002-01-24 18:37  jey

	* trunk/Makefile.am, trunk/NEWS, trunk/README.Cryptoflex,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/tests/sc-test.c,
	  trunk/src/tools/cryptoflex-tool.c: - last minute changes before
	  the new release

2002-01-24 16:27  fabled

	* trunk/src/pkcs11/Makefile.am,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/pkcs11-session.c, trunk/src/pkcs11/slot.c: -
	  many bug fixes in pkcs #11 module - pkcs #11 module now creates
	  public key objects too

2002-01-24 16:24  jey

	* trunk/README.Cryptoflex, trunk/configure.in,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15-pin.c, trunk/src/libopensc/pkcs15.h:
	  - added README.Cryptoflex - modified ChangeLog - _really_ bumped
	  up the version number this time

2002-01-24 16:02  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/log.c, trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-cache.c,
	  trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/sc.c, trunk/src/pam/pam_pkcs15.c,
	  trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-crypt.c,
	  trunk/src/tools/pkcs15-tool.c, trunk/src/tools/util.c,
	  trunk/src/tools/util.h: - bumped up version number in
	  preparation of the new release - unified PKCS #15 DF decoding -
	  added PKCS #15 file caching

2002-01-24 12:56  aet

	* trunk/src/pkcs11/README, trunk/src/pkcs11/pkcs11-global.c:
	  Silence debug messages by default for upcoming release README
	  update

2002-01-22 17:41  aet

	* trunk/aclocal/acx_pthread.m4: Fix pthread.h checking for recent
	  releases of Tru64

2002-01-22 16:43  jey

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/pkcs11-global.c: - fixed a few typos

2002-01-22 16:26  aet

	* trunk/src/libopensc/card-flex.c,
	  trunk/src/tools/cryptoflex-tool.c: Fix compiler warnings, for
	  digital cc this time

2002-01-22 14:54  fabled

	* trunk/src/pkcs11/misc.c: * many bugfixes in pkcs11 module *
	  memory corruption fix in pkcs15 framework * pool node deletion
	  fixed in misc.c * now detects smartcards in C_GetSlotInfo too

2002-01-22 14:44  fabled

	* trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/pkcs11-global.c, trunk/src/pkcs11/slot.c: Many
	  bugfixes including segfault in card detection and C_GetSlotInfo
	  now detects the cards too.

2002-01-21 15:37  jey

	* trunk/src/tools/cryptoflex-tool.c: - changed PIN1 path in PKCS
	  #15 structure

2002-01-21 15:11  jey

	* trunk/src/libopensc/card-flex.c: - added KEY verification to
	  Cryptoflex driver

2002-01-21 12:49  jey

	* trunk/src/libopensc/card-flex.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/sc.c,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/tools/cryptoflex-tool.c: - added PKCS #15 structure
	  generation to cryptoflex-tool

2002-01-21 11:22  aet

	* trunk/src/signer, trunk/src/signer/.cvsignore: Add *.u

2002-01-21 10:56  aet

	* trunk/src/libopensc/log.h, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/sc-log.h, trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/opensc-explorer.c: Compiler warning fixups for
	  various compilers
	* trunk/src/libopensc, trunk/src/libopensc/.cvsignore,
	  trunk/src/tools, trunk/src/tools/.cvsignore: Add *.u and
	  cryptoflex-tool to .cvsignore

2002-01-21 09:05  jey

	* trunk/src/libopensc/card-flex.c, trunk/src/libopensc/card.c,
	  trunk/src/pkcs11/framework-pkcs15.c,
	  trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/tools/pkcs15-crypt.c: - improved file selection on
	  Cryptoflex cards - fixed an incompatability in PKCS #11 module

2002-01-20 21:20  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/defaults.c, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/log.h, trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-defaults.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc-log.h,
	  trunk/src/libopensc/sc.c, trunk/src/libopensc/sec.c,
	  trunk/src/pam/pam_pkcs15.c, trunk/src/tools/Makefile.am,
	  trunk/src/tools/cryptoflex-tool.c,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-crypt.c,
	  trunk/src/tools/pkcs15-tool.c: - fixed a bug with file
	  permissions in flex_create_file() - added RSA signature
	  generation with Cryptoflex cards - improved security environment
	  handling - implemented cryptoflex-tool

2002-01-20 18:24  aet

	* trunk/src/openssh/README, trunk/src/pam/README,
	  trunk/src/tests/hst-test.c: README updates after not so recent
	  filename changes sc-log.h cleanup for hst-test

2002-01-17 23:47  jey

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/log.c, trunk/src/libopensc/log.h,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/sc-log.h, trunk/src/tools/pkcs15-crypt.c: -
	  PKCS #15 generation is now in a semi-working state - started
	  coding crypto support for Cryptoflexes

2002-01-17 12:05  aet

	* trunk/src/pkcs11/README, trunk/src/pkcs11/misc.c,
	  trunk/src/pkcs11/pkcs11-global.c, trunk/src/pkcs11/sc-pkcs11.h:
	  README cleanups Fix compiler warnings

2002-01-17 12:04  aet

	* trunk/src/pkcs11/Makefile.am, trunk/src/tools/Makefile.am:
	  Remove gcc-specific options
	* trunk/src/libopensc/log.c, trunk/src/libopensc/log.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc-log.h: int
	  error -> int sc_error, since it conflicts with error() and
	  results to compiler error with various compilers.

2002-01-17 11:50  jey

	* trunk/src/tools/opensc-explorer.c: - small bugfix

2002-01-17 11:44  jey

	* trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/log.c,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/sec.c: - improved PKCS #15 generation

2002-01-17 09:37  aet

	* trunk/src/pkcs11/rsaref, trunk/src/pkcs11/rsaref/.cvsignore: Add
	  missing .cvsignore

2002-01-17 00:25  jey

	* trunk/src/tools/Makefile.am: - fixed a goof in last commit

2002-01-16 23:59  jey

	* trunk/THANKS, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/asn1.h, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/log.c, trunk/src/libopensc/log.h,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc-asn1.h,
	  trunk/src/libopensc/sc-log.h, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/sec.c, trunk/src/tools/Makefile.am,
	  trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/pkcs15-crypt.c: - continued to improve PKCS #15
	  generation - fixed a few problems in sc_set_security_env -
	  started to implement Better (tm) object handling for PKCS #15
	  objects

2002-01-16 22:52  fabled

	* trunk/configure.in: Changed pkcs11 header directory to rsaref.

2002-01-16 22:50  fabled

	* trunk/src/pkcs11/rsaref, trunk/src/pkcs11/rsaref/Makefile.am,
	  trunk/src/pkcs11/rsaref/pkcs11.h,
	  trunk/src/pkcs11/rsaref/pkcs11f.h,
	  trunk/src/pkcs11/rsaref/pkcs11t.h,
	  trunk/src/pkcs11/rsaref/unix.h: RSA header files.

2002-01-16 22:49  fabled

	* trunk/src/pkcs11/Makefile.am, trunk/src/pkcs11/README,
	  trunk/src/pkcs11/framework-pkcs15.c, trunk/src/pkcs11/misc.c,
	  trunk/src/pkcs11/pkcs11-global.c,
	  trunk/src/pkcs11/pkcs11-object.c,
	  trunk/src/pkcs11/pkcs11-session.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/slot.c: Rewritten implementation of pkcs#11
	  module. Semiworking.

2002-01-16 22:43  fabled

	* trunk/src/pkcs11/Makefile.am, trunk/src/pkcs11/README,
	  trunk/src/pkcs11/digestsign.c, trunk/src/pkcs11/endecrypt.c,
	  trunk/src/pkcs11/function_table.c, trunk/src/pkcs11/generic.c,
	  trunk/src/pkcs11/misc.c, trunk/src/pkcs11/object.c,
	  trunk/src/pkcs11/sc-pkcs11.h, trunk/src/pkcs11/session.c,
	  trunk/src/pkcs11/slot.c, trunk/src/pkcs11/verify.c: Preparing to
	  commit new implementation of pkcs#11 module.

2002-01-16 20:20  jey

	* trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/sec.c: -
	  better ISO 7816-8 compatibility with various cards

2002-01-15 18:54  aet

	* trunk/src/libopensc/pkcs15.c, trunk/src/tools/opensc-explorer.c:
	  Fix compiler warnings

2002-01-13 23:56  jey

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/card.c, trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/sc-internal.h,
	  trunk/src/tools/opensc-explorer.c, trunk/src/tools/util.c: -
	  pretty much finished the DER encoder - added delete and create
	  file support for 'flex cards - PKCS #15 DF's are now stored more
	  flexibly; this makes adding new types of DF's (such as PuKDF's)
	  easier - added 'get' and 'put' commands to opensc-explorer

2002-01-10 23:14  jey

	* trunk/docs, trunk/docs/doxygen.conf: - added doxygen.conf

2002-01-10 23:02  jey

	* trunk/src/libopensc/card-emv.c,
	  trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-pin.c, trunk/src/libopensc/sec.c,
	  trunk/src/tools/opensc-explorer.c: - added PIN verification,
	  file creation and file deletion to opensc-explorer - documented
	  the core API a bit using doxygen

2002-01-10 13:49  aet

	* trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/pkcs15-cert.c, trunk/src/tests/hst-test.c,
	  trunk/src/tools/opensc-explorer.c: Fix compiler warnings

2002-01-10 12:33  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/asn1.h, trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-flex.c,
	  trunk/src/libopensc/card-multiflex.c,
	  trunk/src/libopensc/card.c, trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc-asn1.h,
	  trunk/src/libopensc/sc.c, trunk/src/libopensc/sec.c,
	  trunk/src/pam/pam_pkcs15.c, trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c: - added preliminary ASN.1
	  encoding support - modified ASN.1 decoding to make it easier to
	  port decoder structures to the encoder - fixed a recently
	  introduced bug in card driver handling - opensc-explorer will
	  now allow only DF's to be cd'd into

2002-01-09 22:15  aet

	* trunk/configure.in: Oops, fixed --with-pcsclite multiple
	  directory probing to actually work.

2002-01-09 18:28  aet

	* trunk/src/pkcs11/README: libsc -> opensc

2002-01-09 13:50  aet

	* trunk/src/tools, trunk/src/tools/.cvsignore: Add opensc-explorer

2002-01-09 01:03  jey

	* trunk/src/libopensc/card-multiflex.c,
	  trunk/src/libopensc/card.c, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/log.c, trunk/src/libopensc/opensc.h,
	  trunk/src/tools/Makefile.am, trunk/src/tools/opensc-explorer.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/util.c,
	  trunk/src/tools/util.h: - created opensc-explorer tool -
	  increased support for CryptoFlex cards

2002-01-08 20:03  aet

	* trunk/src/tests, trunk/src/tests/.cvsignore, trunk/src/tools,
	  trunk/src/tools/.cvsignore: Add missing executables to .cvsignore

2002-01-08 13:56  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/base64.c,
	  trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-emv.c,
	  trunk/src/libopensc/card-multiflex.c,
	  trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/defaults.c, trunk/src/libopensc/emv.c,
	  trunk/src/libopensc/emv.h, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/log.c, trunk/src/libopensc/log.h,
	  trunk/src/libopensc/opensc-emv.h,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-defaults.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/sc-log.h, trunk/src/libopensc/sc.c,
	  trunk/src/tests/Makefile.am, trunk/src/tests/filetest.c,
	  trunk/src/tests/hst-test.c, trunk/src/tests/sc-test.c,
	  trunk/src/tools/Makefile.am, trunk/src/tools/opensc-crypt.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/pkcs15-crypt.c,
	  trunk/src/tools/pkcs15-tool.c, trunk/src/tools/util.c,
	  trunk/src/tools/util.h: - added preliminary CryptoFlex 16k
	  support - added short names to card drivers - moved various ISO
	  7816-9 functions to their correct places - added write binary
	  support - renamed opensc-crypt to pkcs15-crypt - split a part
	  opensc-tool to pkcs15-tool

2002-01-07 18:32  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/log.c, trunk/src/libopensc/opensc.h: -
	  finished removing sc- prefix from the .c files

2002-01-07 18:23  jey

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/asn1.h,
	  trunk/src/libopensc/card.c, trunk/src/libopensc/log.c,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/sc-asn1.h,
	  trunk/src/libopensc/sc.c, trunk/src/tools/opensc-tool.c: -
	  renamed sc_asn1_parse to sc_asn1_decode - added capabilities and
	  flags fields to struct sc_card - added a mutex to sc_context for
	  future use

2002-01-07 16:24  aet

	* trunk/configure.in: Oops, accidently removed all pc/sc related
	  stuff while merging changes to opensc-signer/configure.ac, fixed.

2002-01-07 12:41  aet

	* trunk/src/signer/Makefile.am: Add npinclude to SUBDIRS

2002-01-06 23:41  aet

	* trunk/src/common/getopt.c: Fix another compiler warning

2002-01-06 22:17  aet

	* trunk/src/signer/opensc-crypto.c: #include fixup

2002-01-06 21:26  aet

	* trunk/src/signer/dialog.c, trunk/src/signer/signer.c: Fix few
	  compiler warnings on Tru64

2002-01-06 20:35  aet

	* trunk/configure.in: Sync with opensc-signer's configure.ac

2002-01-06 20:06  aet

	* trunk/configure.in: Add CFLAGS_PCSC, CFLAGS_OPENSC, LIBOPENSC

2002-01-06 19:40  aet

	* trunk/src/signer/Makefile.am, trunk/src/signer/dialog.c,
	  trunk/src/signer/opensc-crypto.c,
	  trunk/src/signer/opensc-crypto.h,
	  trunk/src/signer/opensc-support.c,
	  trunk/src/signer/opensc-support.h, trunk/src/signer/signer.c,
	  trunk/src/signer/signer.h, trunk/src/signer/testprog.c: Add
	  CFLAGS_PCSC, CFLAGS_OPENSC, CFLAGS_ASSUAN, LIBOPENSC Add
	  PIN_ENTRY instead of hardcoding it to "/usr/local/bin/gpinentry"
	* trunk/src/libopensc/Makefile.am, trunk/src/openssh/Makefile.am,
	  trunk/src/pam/Makefile.am, trunk/src/pkcs11/Makefile.am,
	  trunk/src/tests/Makefile.am, trunk/src/tools/Makefile.am: Add
	  CFLAGS_PCSC, CFLAGS_OPENSC and LIBOPENSC, use them instead of
	  hardcoding paths into ../libopensc.la, -I../libopensc, etc.

2002-01-05 22:24  aet

	* trunk/src/signer/npinclude/Makefile.am: Syncing with OpenSC's
	  source tree

2002-01-05 21:46  aet

	* trunk/src/signer, trunk/src/signer/.cvsignore,
	  trunk/src/signer/npinclude,
	  trunk/src/signer/npinclude/.cvsignore: Add .cvsignore

2002-01-05 19:05  aet

	* trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/sc-internal.h: Fix typo

2002-01-05 19:01  aet

	* trunk/src/libopensc/card.c, trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/sc-internal.h, trunk/src/libopensc/sc.c:
	  SCardGetStatusChange/rgReaderStates changes for compatibility
	  with older and/or modified pcsc-lite releases.

2002-01-05 14:56  jey

	* trunk/src/pkcs11/generic.c: - added new versions of PKCS #11
	  header files - fixed a typo in generic.c

2002-01-05 14:47  jey

	* trunk/src/pkcs11/generic.c: - blank padding added to some string
	  values - changed a few hardcoded values

2002-01-03 08:47  aet

	* trunk/src/common/getopt.c: Warning fixes

2002-01-03 07:33  aet

	* trunk/src/tools/opensc-tool.c: AIX cc fix

2002-01-03 07:32  aet

	* trunk/configure.in: Slight fixes for getopt_long hack, so it
	  will work for systems without getopt.h at all.

2002-01-02 22:15  aet

	* trunk/configure.in, trunk/src/Makefile.am, trunk/src/common,
	  trunk/src/common/.cvsignore, trunk/src/common/Makefile.am,
	  trunk/src/common/getopt.c, trunk/src/common/getopt.h,
	  trunk/src/common/getopt1.c, trunk/src/openssh/Makefile.am,
	  trunk/src/tools/Makefile.am: Add getopt/getopt_long sources from
	  GNU C Library. Use them only if platform lacks support for
	  getopt_long, like most commercial operating systems do.

2002-01-01 19:56  aet

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15.c: More size_t fixes

2002-01-01 19:54  aet

	* trunk/src/libopensc/log.c: Use \33 instead of \e.

2002-01-01 18:25  jey

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/asn1.h,
	  trunk/src/libopensc/card-multiflex.c, trunk/src/libopensc/log.c,
	  trunk/src/libopensc/sc-asn1.h: - changed \\e back to \e in
	  sc_log.c - changed function prototypes in sc-asn1.c (int -->
	  size_t)

2002-01-01 17:25  jey

	* trunk/src/libopensc/card-multiflex.c,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/sc.c, trunk/src/pkcs11/generic.c,
	  trunk/src/pkcs11/slot.c: - some fixes to the PKCS #11 module

2001-12-31 14:47  aet

	* trunk/src/pkcs11/Makefile.am: Use -avoid-version, as we do with
	  pam module.

2001-12-31 14:39  aet

	* trunk/src/pam/Makefile.am: Remove unneeded install-exec-local

2001-12-31 13:30  jey

	* trunk/src/pkcs11/slot.c: - a small bugfix

2001-12-30 21:30  aet

	* trunk/src/tools/opensc-crypt.c, trunk/src/tools/opensc-tool.c:
	  sc- -> opensc-

2001-12-30 21:17  aet

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/base64.c,
	  trunk/src/libopensc/card-multiflex.c,
	  trunk/src/libopensc/card-setcos.c,
	  trunk/src/libopensc/internal.h, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/log.c, trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-defaults.c,
	  trunk/src/libopensc/pkcs15-pin.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc-internal.h,
	  trunk/src/openssh/Makefile.am, trunk/src/openssh/opensc-ssh.c,
	  trunk/src/pam/Makefile.am, trunk/src/pam/pam_pkcs15.c,
	  trunk/src/pkcs11/Makefile.am, trunk/src/pkcs11/session.c,
	  trunk/src/tests/Makefile.am, trunk/src/tests/base64.c,
	  trunk/src/tests/hst-test.c, trunk/src/tests/pintest.c,
	  trunk/src/tools/Makefile.am, trunk/src/tools/opensc-crypt.c,
	  trunk/src/tools/opensc-tool.c, trunk/src/tools/util.c: Merges
	  with SCIDI to help integrating build process with it Remove some
	  gcc specific flags from Makefile.am Rename some header defines
	  size_t vs. int fixups opensc.h: Define inline as null for other
	  compilers than gcc, for now Port pam_pkcs15 to compile for
	  Solaris and HP-UX, untested Fix compiler warnings OpenSC now
	  compiles cleanly for Tru64, AIX and HP-UX. The only problem is
	  the tools using getopt_long() (GNU extension), to be fixed
	  later..

2001-12-29 19:03  jey

	* trunk/NEWS, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/asn1.h, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/pkcs15-cert.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/sc-asn1.h: - ported certificate reading to
	  new ASN.1 code

2001-12-29 18:14  jey

	* trunk/src/libopensc/Makefile.am: - renamed LIBPCSCLITE to LIBPCSC

2001-12-29 12:44  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/card-emv.c,
	  trunk/src/libopensc/iso7816.c, trunk/src/libopensc/sc-emv.c: -
	  another portability fix - renamed sc-emv.c to sc-card-emv.c

2001-12-29 12:39  jey

	* trunk/src/libopensc/iso7816.c: - fixed a portability problem

2001-12-29 12:26  aet

	* trunk/configure.in: Use -Werror if compiling with gcc Add check
	  for getopt.h

2001-12-29 12:03  jey

	* trunk/src/tools/util.c, trunk/src/tools/util.h: - added missing
	  files

2001-12-29 11:57  jey

	* trunk/src/libopensc/sec.c: - fixed resplen values in sc_decipher
	  and sc_compute_signature

2001-12-29 02:07  jey

	* trunk/NEWS, trunk/configure.in, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-multiflex.c,
	  trunk/src/libopensc/card.c, trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/sc-emv.c, trunk/src/libopensc/sc-internal.h,
	  trunk/src/libopensc/sc.c, trunk/src/tests/hst-test.c,
	  trunk/src/tools/Makefile.am, trunk/src/tools/opensc-crypt.c,
	  trunk/src/tools/opensc-tool.c: - added preliminary support for
	  EMV cards - changed a few function prototypes - implemented
	  access control lists to files - added sc_read_record() function
	  - updated the NEWS file

2001-12-28 14:24  aet

	* trunk/src/pkcs11/digestsign.c,
	  trunk/src/pkcs11/function_table.c, trunk/src/pkcs11/generic.c,
	  trunk/src/pkcs11/object.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/session.c, trunk/src/pkcs11/slot.c: Move
	  hex_dump() to generic.c Convert all C++-style comments to
	  C-style Fix compiler warnings for various platforms

2001-12-28 14:23  jey

	* trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15-pin.c, trunk/src/libopensc/pkcs15.h:
	  - sc_pkcs15_change_pin() prototype changed

2001-12-28 14:19  jey

	* trunk/TODO, trunk/src/openssh/opensc-ssh.c,
	  trunk/src/tests/Makefile.am, trunk/src/tests/base64.c,
	  trunk/src/tests/hst-test.c, trunk/src/tests/p15dump.c,
	  trunk/src/tests/pintest.c, trunk/src/tools/opensc-crypt.c,
	  trunk/src/tools/opensc-tool.c: - fixed some compile warnings -
	  updated TODO

2001-12-27 17:25  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/internal.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc-emv.c,
	  trunk/src/libopensc/sc-internal.h, trunk/src/libopensc/sc.c,
	  trunk/src/tools/opensc-tool.c: - added preliminary EMV support -
	  made a few bug fixes relating to select_file operation

2001-12-25 20:45  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/base64.c,
	  trunk/src/libopensc/card-default.c,
	  trunk/src/libopensc/card-multiflex.c,
	  trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/defaults.c, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/sc.c, trunk/src/libopensc/sec.c,
	  trunk/src/pam/Makefile.am, trunk/src/pkcs11/Makefile.am,
	  trunk/src/tools/opensc-crypt.c, trunk/src/tools/opensc-tool.c: -
	  added default driver for unidentified cards - added select_file
	  operation in Multiflex driver - added 'list-drivers' command to
	  opensc-tool - moved stuff from opensc.h to sc-internal.h -
	  improved locking behaviour

2001-12-25 20:38  jey

	* trunk/src/signer/signer.c: - added plugin description strings

2001-12-24 15:48  jey

	* trunk/src/pam/Makefile.am: - added "-avoid-version" to LDFLAGS

2001-12-23 15:48  jey

	* trunk/src/signer/dialog.c, trunk/src/signer/opensc-crypto.c,
	  trunk/src/signer/opensc-support.c: - updated to support latest
	  version of OpenSC

2001-12-23 14:33  jey

	* trunk/NEWS, trunk/README: - updated NEWS and README

2001-12-23 14:17  aet

	* trunk/configure.in, trunk/src/openssh/Makefile.am,
	  trunk/src/pam/Makefile.am: Add HAVE_SSL_AND_SSL conditional
	  because automake isn't flexible enough Minor fixes for
	  libpcsclite probe

2001-12-22 23:51  jey

	* trunk, trunk/.cvsignore, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/card-multiflex.c,
	  trunk/src/libopensc/card.c, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/tests/hst-test.c: - changed call convention of
	  sc_select_file() - begun to add support for Multiflex cards

2001-12-22 23:14  aet

	* trunk/src/openssh/Makefile.am, trunk/src/tests/Makefile.am:
	  'make dist' fixes

2001-12-22 23:13  aet

	* trunk/bootstrap: Disable --force for automake

2001-12-22 23:07  jey

	* trunk, trunk/.cvsignore: - added some filenames to .cvsignore

2001-12-22 23:06  jey

	* trunk/AUTHORS: - added authors Anssi Tapaninen and Timo Ter&#65533;s

2001-12-22 22:55  aet

	* trunk/bootstrap, trunk/configure.in, trunk/src/pam/Makefile.am:
	  Fix LIBPCSCLITE Rename COMPILE_PAM conditional to HAVE_PAM
	  Remove lex check from configure.ac

2001-12-22 22:27  aet

	* trunk/Makefile.am, trunk/bootstrap, trunk/configure.in,
	  trunk/src/Makefile.am, trunk/src/libopensc/Makefile.am,
	  trunk/src/openssh/Makefile.am, trunk/src/pam/Makefile.am,
	  trunk/src/pkcs11/Makefile.am, trunk/src/tests/Makefile.am,
	  trunk/src/tools/Makefile.am: Autotools update. Add bunch of
	  stuff to configure.in to make building of libopensc more
	  portable to various operating systems. Requires autoconf 2.52
	  and automake 1.5. Add all necessary files except Makefile.in, so
	  you still need to run ./bootstrap though. There's not much point
	  adding config.guess and friends without them, maybe later.

2001-12-22 22:20  aet

	* trunk/aclocal/Makefile.am, trunk/aclocal/acx_pthread.m4,
	  trunk/aclocal/libtool.m4: Add directory aclocal for m4 macros.
	* trunk/src/openssh, trunk/src/openssh/.cvsignore, trunk/src/pam,
	  trunk/src/pam/.cvsignore, trunk/src/tests,
	  trunk/src/tests/.cvsignore, trunk/src/tools,
	  trunk/src/tools/.cvsignore: Add opensc-ssh, pam_pkcs15-test,
	  bas64, hst-test, lottery, p15dump, pintest, prngtest,
	  opensc-crypt and opensc-tool binary to .cvsignore.

2001-12-22 22:11  aet

	* trunk, trunk/.cvsignore, trunk/aclocal,
	  trunk/aclocal/.cvsignore, trunk/src, trunk/src/.cvsignore,
	  trunk/src/libopensc, trunk/src/libopensc/.cvsignore,
	  trunk/src/openssh, trunk/src/openssh/.cvsignore, trunk/src/pam,
	  trunk/src/pam/.cvsignore, trunk/src/pkcs11,
	  trunk/src/pkcs11/.cvsignore, trunk/src/tests,
	  trunk/src/tests/.cvsignore, trunk/src/tools,
	  trunk/src/tools/.cvsignore: Add .cvsignore skeleton

2001-12-22 20:52  jey

	* trunk/src/openssh/opensc-ssh.c,
	  trunk/src/openssh/openssh-3.0.2p1-patch.diff,
	  trunk/src/pam/pam_pkcs15.c, trunk/src/pkcs11/slot.c,
	  trunk/src/tests/hst-test.c, trunk/src/tests/lottery.c,
	  trunk/src/tests/p15dump.c, trunk/src/tests/pintest.c,
	  trunk/src/tests/prngtest.c, trunk/src/tools/opensc-crypt.c,
	  trunk/src/tools/opensc-tool.c: - updated to work with latest
	  library version

2001-12-22 20:43  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/card-setcos.c, trunk/src/libopensc/card.c,
	  trunk/src/libopensc/defaults.c, trunk/src/libopensc/iso7816.c,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc.c: - added
	  card abstraction layer support - pretty much finished migrating
	  to new ASN.1 code - changed call semantics for sc_select_file()
	  - moved functions around

2001-12-22 13:38  jey

	* trunk/src/libopensc/base64.c, trunk/src/libopensc/log.c,
	  trunk/src/libopensc/log.h, trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/sc-log.h, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/sec.c: - LINT fixes

2001-12-21 23:34  jey

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/log.c,
	  trunk/src/libopensc/log.h, trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc-log.h,
	  trunk/src/libopensc/sc.c, trunk/src/libopensc/sec.c: - continued
	  improving ASN.1 decoding - improved debug levels - added some
	  PC/SC Lite workarounds

2001-12-20 13:57  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/sc.c, trunk/src/libopensc/sec.c: - paving
	  way for dynamic card modules - fixed a few memory leaks

2001-12-20 12:22  jey

	* trunk/src/libopensc/pkcs15-sec.c: - added basic logging to
	  sc-pkcs15-sec.c

2001-12-20 12:16  jey

	* trunk/src/tests/base64.c, trunk/src/tests/hst-test.c,
	  trunk/src/tests/sc-test.c, trunk/src/tools/opensc-crypt.c,
	  trunk/src/tools/opensc-tool.c: - added base64 conversion tool -
	  updated to work with latest version of OpenSC library

2001-12-19 21:58  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/asn1.h, trunk/src/libopensc/log.c,
	  trunk/src/libopensc/log.h, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-cert.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/sc-asn1.h, trunk/src/libopensc/sc-log.h,
	  trunk/src/libopensc/sc.c: - remembered ChangeLog - moved some
	  functions from sc.c to sc-iso7816-4.c - added fancy colors to
	  log output =) - removed global sc_debug variable, moved it to
	  sc_context - fixed new ASN.1 code (possibly still unstable)

2001-12-17 21:36  jey

	* trunk/src/pkcs11/slot.c: - applied a patch by Antti Tapaninen
	  that fixes a memory leak

2001-12-16 20:30  jey

	* trunk/src/libopensc/pkcs15-cert.c: - added a small fix. Swedish
	  Posten eID cards are now supported.

2001-12-16 18:46  jey

	* trunk/configure.in, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/asn1.c, trunk/src/libopensc/asn1.h,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-defaults.c,
	  trunk/src/libopensc/pkcs15-pin.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc-asn1.h,
	  trunk/src/libopensc/sc.c: - bumped version number up to 0.4.0 -
	  improved ASN.1 decoding _lots_

2001-12-15 01:48  jey

	* trunk/NEWS: - latest breaking news

2001-12-15 01:44  jey

	* trunk/TODO, trunk/src/openssh/README,
	  trunk/src/openssh/openssh-3.0.2p1-patch.diff: - updated OpenSSH
	  support

2001-12-15 01:29  jey

	* trunk/README, trunk/configure.in,
	  trunk/src/libopensc/Makefile.am, trunk/src/libopensc/log.c,
	  trunk/src/libopensc/log.h, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/sc-log.h,
	  trunk/src/libopensc/sc.c, trunk/src/libopensc/sec.c: - paving
	  way for version 0.3.5

2001-12-15 01:27  jey

	* trunk/src/tools/opensc-crypt.c: - meddled with command
	  abbreviations

2001-12-15 01:10  jey

	* trunk/src/signer/Makefile.am, trunk/src/signer/dialog.h: - fixed
	  distribution tarball generation

2001-12-15 01:08  jey

	* trunk/src/signer/npinclude/npunix.c, trunk/src/signer/npunix.c:
	  - moved npunix.c

2001-12-15 00:57  jey

	* trunk/src/signer/Makefile.am: - fixed changed "include" to
	  "npinclude" - added a note about assuan to README

2001-12-15 00:46  jey

	* trunk/src/signer/dialog.c: - removed unnecessary assuan cruft

2001-12-15 00:39  jey

	* trunk/src/signer/Makefile, trunk/src/signer/Makefile.am,
	  trunk/src/signer/dialog.c, trunk/src/signer/dialog.cpp,
	  trunk/src/signer/dialog.h, trunk/src/signer/npinclude,
	  trunk/src/signer/npinclude/jri.h,
	  trunk/src/signer/npinclude/jri_md.h,
	  trunk/src/signer/npinclude/jritypes.h,
	  trunk/src/signer/npinclude/npapi.h,
	  trunk/src/signer/npinclude/npupp.h,
	  trunk/src/signer/opensc-crypto.c, trunk/src/signer/signer.c,
	  trunk/src/signer/signer.h: - added include files from Netscape
	  plugin SDK - removed hardcoded PIN - added PIN dialog through
	  assuan

2001-12-14 16:37  jey

	* trunk/src/tests/sc-test.c, trunk/src/tools/opensc-crypt.c,
	  trunk/src/tools/opensc-tool.c: - updated tools to support latest
	  version of the library

2001-12-13 21:19  jey

	* trunk/src/libopensc/Makefile.am, trunk/src/libopensc/base64.c,
	  trunk/src/libopensc/log.c, trunk/src/libopensc/log.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/sc-log.h,
	  trunk/src/libopensc/sc.c, trunk/src/libopensc/sec.c: - improved
	  logging facilities - removed a few compiler warnings

2001-12-11 14:53  jey

	* trunk/src/tools/opensc-tool.c: - added "learn-card" command to
	  opensc-tool

2001-12-11 14:52  jey

	* trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15-cert.c, trunk/src/libopensc/pkcs15.h:
	  - improved certificate caching

2001-12-08 15:35  jey

	* trunk/Makefile.am: - added depcomp to AUX_DIST

2001-12-08 15:27  jey

	* trunk/Makefile.am, trunk/bootstrap, trunk/configure.in,
	  trunk/src/libopensc/defaults.c,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/sc.c: - removed config directory - fixed
	  compiling with C++ - added error SC_ERROR_CARD_RESET

2001-12-08 14:19  jey

	* trunk/src/signer/Makefile, trunk/src/signer/dialog.cpp,
	  trunk/src/signer/dialog.h, trunk/src/signer/signer.c,
	  trunk/src/signer/signer.h, trunk/src/signer/testprog.c: - begun
	  to implement PIN dialog

2001-12-07 00:57  jey

	* trunk/src/signer/Makefile, trunk/src/signer/opensc-crypto.c,
	  trunk/src/signer/opensc-crypto.h,
	  trunk/src/signer/opensc-support.c,
	  trunk/src/signer/opensc-support.h, trunk/src/signer/signer.c,
	  trunk/src/signer/signer.h, trunk/src/signer/testprog.c: - first
	  working version of signer plugin

2001-12-02 19:21  jey

	* trunk/configure.in, trunk/src/libopensc/Makefile.am,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/sec.c: - fixed sc_pkcs15_change_pin()

2001-12-02 19:17  jey

	* trunk/src/libopensc/base64.c, trunk/src/libopensc/opensc.h: -
	  added support for Base64 decoding

2001-11-30 11:57  jey

	* trunk/src/pkcs11/digestsign.c, trunk/src/signer/signer.c,
	  trunk/src/tools/opensc-tool.c: - added PIN changing support -
	  started to work on nsplugin

2001-11-27 23:37  jey

	* trunk/README: - small changes in README

2001-11-27 21:25  jey

	* trunk/src/pkcs11/sc-pkcs11.h, trunk/src/tests/hst-test.c,
	  trunk/src/tests/p15dump.c: - a few fixes for libopensc 0.3.2
	  support

2001-11-27 21:11  jey

	* trunk/Makefile.am, trunk/NEWS, trunk/README, trunk/configure.in,
	  trunk/src/libopensc/Makefile.am, trunk/src/libopensc/sc.c: -
	  fixed a few bugs in Autotools support

2001-11-26 20:14  jey

	* trunk/AUTHORS, trunk/INSTALL, trunk/Makefile.am, trunk/NEWS,
	  trunk/README, trunk/THANKS, trunk/bootstrap, trunk/configure.in,
	  trunk/src/libopensc/Makefile.am, trunk/src/libopensc/sc.c: -
	  started to migrate to GNU Autotools

2001-11-26 16:14  jey

	* trunk/src/libopensc/defaults.c,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-defaults.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/sc.c, trunk/src/libopensc/sec.c,
	  trunk/src/pam/pam_pkcs15.c: - added defaults for FINEID S4-2
	  (organization) cards - fixed a few typos - renamed
	  _sc_sw_to_errorcode() to sc_sw_to_errorcode() - PAM module now
	  uses RSA_sign instead of RSA_public_encrypt

2001-11-24 15:12  jey

	* trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15.h: - changed "sc.h" to "opensc.h"

2001-11-24 13:34  jey

	* trunk/src/openssh/opensc-ssh.c: - changed project name to OpenSC
	  - removed obsolete rsa_libsc.c

2001-11-24 13:32  jey

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/base64.c,
	  trunk/src/libopensc/defaults.c,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/sec.c, trunk/src/pam/pam_pkcs15.c,
	  trunk/src/pkcs11/generic.c, trunk/src/tests/hst-test.c,
	  trunk/src/tests/lottery.c, trunk/src/tests/p15dump.c,
	  trunk/src/tests/pintest.c, trunk/src/tests/prngtest.c,
	  trunk/src/tests/sc-test.c, trunk/src/tools/opensc-crypt.c,
	  trunk/src/tools/opensc-tool.c: - changed project name to OpenSC

2001-11-22 15:40  jey

	* trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/sec.c, trunk/src/tools/opensc-crypt.c,
	  trunk/src/tools/opensc-tool.c: - added sc-crypt program

2001-11-21 23:28  jey

	* trunk/src/pkcs11/digestsign.c: - converted C_Sign() to use the
	  new API

2001-11-21 22:40  jey

	* trunk/src/tools/opensc-tool.c: - small fix in sc-tool.c

2001-11-21 21:19  jey

	* trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/sc.c, trunk/src/openssh/README,
	  trunk/src/openssh/opensc-ssh.c: - added install target to libsc
	  Makefile - added a few functions - added a patch against OpenSSH
	  3.0.1p1 to enable libsc support

2001-11-20 22:21  jey

	* trunk/src/libopensc/defaults.c,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc.c,
	  trunk/src/libopensc/sec.c, trunk/src/openssh,
	  trunk/src/openssh/opensc-ssh.c, trunk/src/pam/README,
	  trunk/src/pam/pam_pkcs15.c, trunk/src/signer/Makefile,
	  trunk/src/signer/signer.c, trunk/src/tests/hst-test.c,
	  trunk/src/tests/pintest.c, trunk/src/tools/opensc-tool.c: -
	  added very partial SSH support - rearranged some functions -
	  added several new functions - fixed handling of SW's

2001-11-18 20:36  jey

	* trunk/src/tools/opensc-tool.c: - small bug fixed

2001-11-18 01:52  jey

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/sc.c, trunk/src/tests/hst-test.c,
	  trunk/src/tests/sc-test.c, trunk/src/tools,
	  trunk/src/tools/opensc-tool.c: - added sc-tool - removed
	  certtest.c

2001-11-17 15:48  jey

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c, trunk/src/libopensc/sc.c,
	  trunk/src/pam/README, trunk/src/pam/pam_pkcs15.c,
	  trunk/src/tests/p15dump.c: - added README for PAM module - added
	  a few error messages - fixed certificate caching (which is still
	  kludgy)

2001-11-17 14:55  jey

	* trunk/src/libopensc/defaults.c,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15.c, trunk/src/libopensc/pkcs15.h,
	  trunk/src/libopensc/sc.c, trunk/src/pam/pam_pkcs15.c,
	  trunk/src/tests/p15dump.c: - added defaults; full PKCS#15
	  parsing is no-longer required at startup

2001-11-17 00:11  jey

	* trunk/src/libopensc/asn1.c, trunk/src/libopensc/asn1.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc-asn1.h,
	  trunk/src/libopensc/sc.c, trunk/src/pam/pam_pkcs15.c,
	  trunk/src/tests/hst-test.c, trunk/src/tests/lottery.c: - PAM
	  module is semi-working now - added sc_asn1_put_tag() and
	  sc_restore_security_env() functions - preliminary support for
	  CREATE FILE and DELETE FILE commands

2001-11-15 14:44  jey

	* trunk/src/pam, trunk/src/pam/pam_pkcs15.c: - added a PAM module
	  playground directory

2001-11-14 13:43  jey

	* trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/sc.c: - committed a patch from Antti
	  Tapaninen <aet@cc.hut.fi>

2001-11-07 14:36  jey

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/sc.c, trunk/src/tests/hst-test.c: - moved
	  sc_list_files() to sc.c

2001-11-07 13:45  jey

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc.c,
	  trunk/src/tests/sc-test.c: - fixed sc_get_random() - added ATR
	  to struct sc_card

2001-11-06 18:43  fabled

	* trunk/src/pkcs11/digestsign.c, trunk/src/pkcs11/endecrypt.c,
	  trunk/src/pkcs11/function_table.c, trunk/src/pkcs11/generic.c,
	  trunk/src/pkcs11/misc.c, trunk/src/pkcs11/object.c,
	  trunk/src/pkcs11/sc-pkcs11.h, trunk/src/pkcs11/session.c,
	  trunk/src/pkcs11/slot.c, trunk/src/pkcs11/verify.c: Updated
	  license to LGPL. Added short description.

2001-11-06 18:34  jey

	* trunk/COPYING, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/asn1.h, trunk/src/libopensc/base64.c,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc-asn1.h,
	  trunk/src/libopensc/sc.c, trunk/src/pkcs11/README,
	  trunk/src/tests/p15dump.c: - changed license to LGPL - moved
	  ASN.1 function definitions from sc.h to sc-asn1.h

2001-11-05 19:39  jey

	* trunk/src/libopensc/base64.c,
	  trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc.c,
	  trunk/src/tests/hst-test.c, trunk/src/tests/lottery.c,
	  trunk/src/tests/prngtest.c: - fixed base64 encoding function -
	  added file listing test to hst-test.c

2001-11-04 14:08  jey

	* trunk/src/libopensc/opensc.h, trunk/src/libopensc/sc.c,
	  trunk/src/tests/lottery.c, trunk/src/tests/p15dump.c,
	  trunk/src/tests/pintest.c, trunk/src/tests/sc-test.c: assorted
	  small fixes

2001-11-04 13:57  jey

	* trunk/src/libopensc/base64.c, trunk/src/libopensc/opensc.h,
	  trunk/src/libopensc/pkcs15-cert.c, trunk/src/libopensc/sc.c,
	  trunk/src/tests/prngtest.c: - added support for base64 encoding
	  - added certtest tool

2001-11-01 15:44  jey

	* trunk/src/tests/sc-test.c: - added a 'return 0' statement

2001-11-01 15:43  jey

	* trunk/src/libopensc, trunk/src/libopensc/asn1.c,
	  trunk/src/libopensc/asn1.h, trunk/src/libopensc/opensc-pkcs15.h,
	  trunk/src/libopensc/opensc.h, trunk/src/libopensc/pkcs15-cert.c,
	  trunk/src/libopensc/pkcs15-pin.c,
	  trunk/src/libopensc/pkcs15-prkey.c,
	  trunk/src/libopensc/pkcs15-sec.c, trunk/src/libopensc/pkcs15.c,
	  trunk/src/libopensc/pkcs15.h, trunk/src/libopensc/sc-asn1.h,
	  trunk/src/libopensc/sc.c, trunk/src/libopensc/sec.c,
	  trunk/src/pkcs11/generic.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/signer, trunk/src/signer/Makefile,
	  trunk/src/signer/npunix.c, trunk/src/signer/stubs.c,
	  trunk/src/tests/hst-test.c, trunk/src/tests/lottery.c,
	  trunk/src/tests/p15dump.c, trunk/src/tests/pintest.c,
	  trunk/src/tests/prngtest.c, trunk/src/tests/sc-test.c,
	  trunk/src/tests/sc-test.h: - moved libsc to its own directory -
	  added non-working MIME plugin for "text/x-text-to-sign" - added
	  pseudo-random number generator support - split hst-test.c into
	  smaller files

2001-10-30 16:16  fabled

	* trunk/src/pkcs11/digestsign.c, trunk/src/pkcs11/endecrypt.c,
	  trunk/src/pkcs11/function_table.c, trunk/src/pkcs11/generic.c,
	  trunk/src/pkcs11/misc.c, trunk/src/pkcs11/object.c,
	  trunk/src/pkcs11/sc-pkcs11.h, trunk/src/pkcs11/session.c,
	  trunk/src/pkcs11/slot.c, trunk/src/pkcs11/verify.c: Added
	  copyright notes.

2001-10-29 15:52  jey

	* trunk/src/tests/hst-test.c: - updated README.decrypt - fixed a
	  few compiler warnings

2001-10-25 11:56  jey

	* trunk/src/pkcs11/generic.c, trunk/src/pkcs11/session.c,
	  trunk/src/pkcs11/slot.c, trunk/src/tests/hst-test.c: added: -
	  certificate parsing - support for reading RSA public key modulus
	  on the fly - support for ASN.1 object id decoding and printing -
	  fixed a lot of u8 * --> const u8 *

2001-10-24 14:48  jey

	* trunk/src/tests/hst-test.c: removed hard-coded PIN code... =)

2001-10-24 14:02  jey

	* trunk/src/pkcs11/generic.c, trunk/src/pkcs11/object.c,
	  trunk/src/pkcs11/slot.c, trunk/src/tests/hst-test.c: latest
	  version

2001-10-24 09:31  jey

	* trunk/COPYING: added COPYING file

2001-10-22 21:09  fabled

	* trunk/src/pkcs11/digestsign.c, trunk/src/pkcs11/sc-pkcs11.h,
	  trunk/src/pkcs11/slot.c: Implementid basic signing functionality.

2001-10-22 21:05  jey

	* trunk/src/tests/hst-test.c: dirty fix

2001-10-22 20:43  jey

	* trunk/src/tests/hst-test.c: - quick and dirty fix applied

2001-10-22 20:07  jey

	* trunk/src/tests/hst-test.c: - added ability to compute digital
	  signatures - split functions to different files

2001-10-22 14:51  jey

	* trunk/src/tests/hst-test.c: - implemented decrypt support -
	  split PIN related functions to a separate file

2001-10-21 22:25  fabled

	* trunk/src/pkcs11/README, trunk/src/pkcs11/generic.c,
	  trunk/src/pkcs11/object.c, trunk/src/pkcs11/session.c,
	  trunk/src/pkcs11/slot.c, trunk/src/pkcs11/verify.c: Updates.

2001-10-21 21:26  jey

	* trunk/src/tests/hst-test.c: small bug-fix in
	  sc_enum_certificates()

2001-10-21 21:22  jey

	* trunk/src/tests/hst-test.c: - added struct sc_path - implemented
	  private key enumeration

2001-10-21 19:42  jey

	* trunk/src/pkcs11/generic.c, trunk/src/pkcs11/session.c,
	  trunk/src/pkcs11/slot.c, trunk/src/tests/hst-test.c: fixed PIN
	  info reading

2001-10-21 19:06  jey

	* trunk/src/tests/hst-test.c: sc_pkcs15_read_certificate now
	  dynamically allocates output buffer

2001-10-21 18:55  jey

	* trunk/src/tests/hst-test.c: - implemented certificate reading -
	  started to implement private key enumeration

2001-10-21 18:12  jey

	* trunk/src/pkcs11/slot.c, trunk/src/tests/hst-test.c: - given
	  ASN.1 decoding routines a facelift - implemented certificate
	  enumeration

2001-10-21 16:26  fabled

	* trunk/src/pkcs11/object.c, trunk/src/pkcs11/session.c: Minor bug
	  fixes. Implemented the object finding properly.

2001-10-21 16:01  fabled

	* trunk/src/pkcs11/digestsign.c, trunk/src/pkcs11/endecrypt.c,
	  trunk/src/pkcs11/generic.c, trunk/src/pkcs11/object.c,
	  trunk/src/pkcs11/sc-pkcs11.h, trunk/src/pkcs11/session.c,
	  trunk/src/pkcs11/slot.c: Basic skeleton for object manipulation.
	  Some testing stuff.

2001-10-21 15:42  jey

	* trunk/src/pkcs11/generic.c, trunk/src/tests/hst-test.c: fixed
	  tokenInfo parsing

2001-10-20 23:51  fabled

	* trunk/src/pkcs11/function_table.c, trunk/src/pkcs11/generic.c,
	  trunk/src/pkcs11/sc-pkcs11.h, trunk/src/pkcs11/session.c: Added
	  basic session management. Implemented login, logout and change
	  pin functions. Improved card management.

2001-10-20 20:33  jey

	* trunk/src/tests/hst-test.c: fixed a weird escaping bug in
	  sc_read_binary(). this could affect other functions too. needs
	  more research.

2001-10-20 16:54  jey

	* trunk/src/tests/hst-test.c: lots and lots of changes.

2001-10-20 16:53  jey

	* trunk/src/pkcs11/generic.c: modified to use latest SC API

2001-10-19 23:23  jey

	* trunk/src/tests/hst-test.c: Major additions and fixes to core API

2001-10-19 19:52  fabled

	* trunk/src/pkcs11, trunk/src/pkcs11/README,
	  trunk/src/pkcs11/digestsign.c, trunk/src/pkcs11/endecrypt.c,
	  trunk/src/pkcs11/function_table.c, trunk/src/pkcs11/generic.c,
	  trunk/src/pkcs11/misc.c, trunk/src/pkcs11/object.c,
	  trunk/src/pkcs11/sc-pkcs11.h, trunk/src/pkcs11/session.c,
	  trunk/src/pkcs11/verify.c: Implemented dummy functions for
	  PKCS#15 module with functionality to read card reader names.

2001-10-19 17:30  jey

	* trunk/src/tests/hst-test.c: some structural changes; might not
	  even compile

2001-10-19 17:26  jey

	* trunk/src, trunk/src/tests, trunk/src/tests/hst-test.c: initial
	  commit

2001-10-19 17:26  

	* branches, releases, trunk: New repository initialized by cvs2svn.

